!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pdfjs-dist/image_decoders/pdf.image_decoders",[],e):"object"==typeof exports?exports["pdfjs-dist/image_decoders/pdf.image_decoders"]=e():t["pdfjs-dist/image_decoders/pdf.image_decoders"]=t.pdfjsImageDecoders=e()}(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setVerbosityLevel=e.getVerbosityLevel=e.JpxImage=e.JpegImage=e.Jbig2mage=void 0;var r=n(1),i=n(113),o=n(116),s=n(117);e.Jbig2mage=i.Jbig2mage,e.JpegImage=o.JpegImage,e.JpxImage=s.JpxImage,e.getVerbosityLevel=r.getVerbosityLevel,e.setVerbosityLevel=r.setVerbosityLevel},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unreachable=e.warn=e.utf8StringToString=e.stringToUTF8String=e.stringToPDFString=e.stringToBytes=e.string32=e.shadow=e.setVerbosityLevel=e.URL=e.ReadableStream=e.removeNullCharacters=e.readUint32=e.readUint16=e.readInt8=e.log2=e.isEvalSupported=e.isLittleEndian=e.createValidAbsoluteUrl=e.isSameOrigin=e.isSpace=e.isString=e.isNum=e.isEmptyObj=e.isBool=e.isArrayBuffer=e.info=e.getVerbosityLevel=e.getLookupTableFactory=e.getInheritableProperty=e.deprecated=e.createObjectURL=e.createPromiseCapability=e.bytesToString=e.assert=e.arraysToBytes=e.arrayByteLength=e.FormatError=e.XRefParseException=e.toRomanNumerals=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.NativeImageDecoding=e.MissingPDFException=e.MissingDataException=e.InvalidPDFException=e.AbortException=e.CMapCompressionType=e.ImageKind=e.FontType=e.AnnotationType=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.UNSUPPORTED_FEATURES=e.VerbosityLevel=e.OPS=e.IDENTITY_MATRIX=e.FONT_IDENTITY_MATRIX=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n(2);var i=n(111),o=n(112),s={ERRORS:0,WARNINGS:1,INFOS:5},a=s.WARNINGS;function c(t){a>=s.WARNINGS&&console.log("Warning: "+t)}function u(t){throw new Error(t)}function f(t,e){t||u(e)}var l=function(){function t(t,e){this.name="PasswordException",this.message=t,this.code=e}return t.prototype=new Error,t.constructor=t,t}(),h=function(){function t(t,e){this.name="UnknownErrorException",this.message=t,this.details=e}return t.prototype=new Error,t.constructor=t,t}(),d=function(){function t(t){this.name="InvalidPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),p=function(){function t(t){this.name="MissingPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),m=function(){function t(t,e){this.name="UnexpectedResponseException",this.message=t,this.status=e}return t.prototype=new Error,t.constructor=t,t}(),v=function(){function t(t,e){this.begin=t,this.end=e,this.message="Missing data ["+t+", "+e+")"}return t.prototype=new Error,t.prototype.name="MissingDataException",t.constructor=t,t}(),g=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="XRefParseException",t.constructor=t,t}(),y=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="FormatError",t.constructor=t,t}(),b=function(){function t(t){this.name="AbortException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),w=/\x00/g;function x(t){f("string"==typeof t,"Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function S(t){return void 0!==t.length?t.length:(f(void 0!==t.byteLength),t.byteLength)}var P=function(){function t(){}var e=["rgb(",0,",",0,",",0,")"];return t.makeCssRgb=function(t,n,r){return e[1]=t,e[3]=n,e[5]=r,e.join("")},t.transform=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},t.applyTransform=function(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]},t.applyInverseTransform=function(t,e){var n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]},t.getAxialAlignedBoundingBox=function(e,n){var r=t.applyTransform(e,n),i=t.applyTransform(e.slice(2,4),n),o=t.applyTransform([e[0],e[3]],n),s=t.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]},t.inverseTransform=function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]},t.apply3dTransform=function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},t.singularValueDecompose2dScale=function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],s=(n+o)/2,a=Math.sqrt((n+o)*(n+o)-4*(n*o-i*r))/2,c=s+a||1,u=s-a||1;return[Math.sqrt(c),Math.sqrt(u)]},t.normalizeRect=function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e},t.intersect=function(e,n){function r(t,e){return t-e}var i=[e[0],e[2],n[0],n[2]].sort(r),o=[e[1],e[3],n[1],n[3]].sort(r),s=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),(i[0]===e[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===e[0])&&(s[0]=i[1],s[2]=i[2],(o[0]===e[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===e[1])&&(s[1]=o[1],s[3]=o[2],s))},t}(),T=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var k,I=(k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(t,e){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&o.URL.createObjectURL){var n=new Blob([t],{type:e});return o.URL.createObjectURL(n)}for(var r="data:"+e+";base64,",i=0,s=t.length;i<s;i+=3){var a=255&t[i],c=255&t[i+1],u=255&t[i+2];r+=k[a>>2]+k[(3&a)<<4|c>>4]+k[i+1<s?(15&c)<<2|u>>6:64]+k[i+2<s?63&u:64]}return r});e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.VerbosityLevel=s,e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.AbortException=b,e.InvalidPDFException=d,e.MissingDataException=v,e.MissingPDFException=p,e.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},e.PasswordException=l,e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.UnexpectedResponseException=m,e.UnknownErrorException=h,e.Util=P,e.toRomanNumerals=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(Number.isInteger(t)&&t>0,"The number should be a positive integer.");for(var n=void 0,r=[];t>=1e3;)t-=1e3,r.push("M");n=t/100|0,t%=100,r.push(T[n]),n=t/10|0,t%=10,r.push(T[10+n]),r.push(T[20+t]);var i=r.join("");return e?i.toLowerCase():i},e.XRefParseException=g,e.FormatError=y,e.arrayByteLength=S,e.arraysToBytes=function(t){if(1===t.length&&t[0]instanceof Uint8Array)return t[0];var e,n,r,i=0,o=t.length;for(e=0;e<o;e++)i+=r=S(n=t[e]);var s=0,a=new Uint8Array(i);for(e=0;e<o;e++)(n=t[e])instanceof Uint8Array||(n="string"==typeof n?x(n):new Uint8Array(n)),r=n.byteLength,a.set(n,s),s+=r;return a},e.assert=f,e.bytesToString=function(t){f(null!==t&&"object"===(void 0===t?"undefined":r(t))&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length;if(e<8192)return String.fromCharCode.apply(null,t);for(var n=[],i=0;i<e;i+=8192){var o=Math.min(i+8192,e),s=t.subarray(i,o);n.push(String.fromCharCode.apply(null,s))}return n.join("")},e.createPromiseCapability=function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t},e.createObjectURL=I,e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.getInheritableProperty=function(t){for(var e=t.dict,n=t.key,r=t.getArray,i=void 0!==r&&r,o=t.stopWhenFound,s=void 0===o||o,a=0,u=void 0;e;){var f=i?e.getArray(n):e.get(n);if(void 0!==f){if(s)return f;u||(u=[]),u.push(f)}if(++a>100){c('getInheritableProperty: maximum loop count exceeded for "'+n+'"');break}e=e.get("Parent")}return u},e.getLookupTableFactory=function(t){var e;return function(){return t&&(e=Object.create(null),t(e),t=null),e}},e.getVerbosityLevel=function(){return a},e.info=function(t){a>=s.INFOS&&console.log("Info: "+t)},e.isArrayBuffer=function(t){return"object"===(void 0===t?"undefined":r(t))&&null!==t&&void 0!==t.byteLength},e.isBool=function(t){return"boolean"==typeof t},e.isEmptyObj=function(t){for(var e in t)return!1;return!0},e.isNum=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSpace=function(t){return 32===t||9===t||13===t||10===t},e.isSameOrigin=function(t,e){try{var n=new o.URL(t);if(!n.origin||"null"===n.origin)return!1}catch(t){return!1}var r=new o.URL(e,n);return n.origin===r.origin},e.createValidAbsoluteUrl=function(t,e){if(!t)return null;try{var n=e?new o.URL(t,e):new o.URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(t){}return null},e.isLittleEndian=function(){var t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]},e.isEvalSupported=function(){try{return new Function(""),!0}catch(t){return!1}},e.log2=function(t){return t<=0?0:Math.ceil(Math.log2(t))},e.readInt8=function(t,e){return t[e]<<24>>24},e.readUint16=function(t,e){return t[e]<<8|t[e+1]},e.readUint32=function(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0},e.removeNullCharacters=function(t){return"string"!=typeof t?(c("The argument for removeNullCharacters must be a string."),t):t.replace(w,"")},e.ReadableStream=i.ReadableStream,e.URL=o.URL,e.setVerbosityLevel=function(t){Number.isInteger(t)&&(a=t)},e.shadow=function(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n},e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=x,e.stringToPDFString=function(t){var e,n=t.length,r=[];if("þ"===t[0]&&"ÿ"===t[1])for(e=2;e<n;e+=2)r.push(String.fromCharCode(t.charCodeAt(e)<<8|t.charCodeAt(e+1)));else for(e=0;e<n;++e){var i=C[t.charCodeAt(e)];r.push(i?String.fromCharCode(i):t.charAt(e))}return r.join("")},e.stringToUTF8String=function(t){return decodeURIComponent(escape(t))},e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=c,e.unreachable=u},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(3);if(!i._pdfjsCompatibilityChecked){i._pdfjsCompatibilityChecked=!0;var o=n(4),s="object"===("undefined"==typeof window?"undefined":r(window))&&"object"===("undefined"==typeof document?"undefined":r(document));!i.btoa&&o()&&(i.btoa=function(t){return Buffer.from(t,"binary").toString("base64")}),!i.atob&&o()&&(i.atob=function(t){return Buffer.from(t,"base64").toString("binary")}),s&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var t=document.getElementsByTagName("script");return t[t.length-1]},enumerable:!0,configurable:!0})),s&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){if(s&&!o()&&!1!==document.createElement("div").classList.toggle("test",0)){var t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e){if(arguments.length>1){var n=!!arguments[1];return this[n?"add":"remove"](e),n}return t(e)}}}(),String.prototype.includes||n(5),Array.prototype.includes||n(33),Object.assign||n(42),Math.log2||(Math.log2=n(52)),Number.isNaN||(Number.isNaN=n(54)),Number.isInteger||(Number.isInteger=n(56)),i.WeakMap||(i.WeakMap=n(59)),String.codePointAt||(String.codePointAt=n(96)),String.fromCodePoint||(String.fromCodePoint=n(99)),i.Symbol||n(101),Object.values||(Object.values=n(108))}},function(t,e,n){"use strict";t.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(){return"object"===("undefined"==typeof process?"undefined":r(process))&&process+""=="[object process]"}},function(t,e,n){"use strict";n(6),t.exports=n(9).String.includes},function(t,e,n){"use strict";var r=n(7),i=n(25);r(r.P+r.F*n(32)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(8),i=n(9),o=n(10),s=n(20),a=n(23),c=function t(e,n,c){var u,f,l,h,d=e&t.F,p=e&t.G,m=e&t.P,v=e&t.B,g=p?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,y=p?i:i[n]||(i[n]={}),b=y.prototype||(y.prototype={});for(u in p&&(c=n),c)l=((f=!d&&g&&void 0!==g[u])?g:c)[u],h=v&&f?a(l,r):m&&"function"==typeof l?a(Function.call,l):l,g&&s(g,u,l,e&t.U),y[u]!=l&&o(y,u,h),m&&b[u]!=l&&(b[u]=l)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){"use strict";var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,n){"use strict";var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(t,e,n){"use strict";var r=n(11),i=n(19);t.exports=n(15)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(12),i=n(14),o=n(18),s=Object.defineProperty;e.f=n(15)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":r(t))?null!==t:"function"==typeof t}},function(t,e,n){"use strict";t.exports=!n(15)&&!n(16)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";t.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(13),i=n(8).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(8),i=n(10),o=n(21),s=n(22)("src"),a=Function.toString,c=(""+a).split("toString");n(9).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||i(n,s,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(t,e,n){"use strict";var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,n){"use strict";var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},function(t,e,n){"use strict";var r=n(24);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(26),i=n(31);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){"use strict";var r=n(13),i=n(27),o=n(28)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(29)("wks"),i=n(22),o=n(8).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=n(9),i=n(8),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(30)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";t.exports=!1},function(t,e,n){"use strict";t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(28)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){"use strict";n(34),t.exports=n(9).Array.includes},function(t,e,n){"use strict";var r=n(7),i=n(35)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(41)("includes")},function(t,e,n){"use strict";var r=n(36),i=n(38),o=n(40);t.exports=function(t){return function(e,n,s){var a,c=r(e),u=i(c.length),f=o(s,u);if(t&&n!=n){for(;u>f;)if((a=c[f++])!=a)return!0}else for(;u>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){"use strict";var r=n(37),i=n(31);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var r=n(39),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},function(t,e,n){"use strict";var r=n(39),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){"use strict";var r=n(28)("unscopables"),i=Array.prototype;void 0==i[r]&&n(10)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";n(43),t.exports=n(9).Object.assign},function(t,e,n){"use strict";var r=n(7);r(r.S+r.F,"Object",{assign:n(44)})},function(t,e,n){"use strict";var r=n(45),i=n(49),o=n(50),s=n(51),a=n(37),c=Object.assign;t.exports=!c||n(16)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=s(t),c=arguments.length,u=1,f=i.f,l=o.f;c>u;)for(var h,d=a(arguments[u++]),p=f?r(d).concat(f(d)):r(d),m=p.length,v=0;m>v;)l.call(d,h=p[v++])&&(n[h]=d[h]);return n}:c},function(t,e,n){"use strict";var r=n(46),i=n(48);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(21),i=n(36),o=n(35)(!1),s=n(47)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){"use strict";var r=n(29)("keys"),i=n(22);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(31);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";n(53),t.exports=n(9).Math.log2},function(t,e,n){"use strict";var r=n(7);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){"use strict";n(55),t.exports=n(9).Number.isNaN},function(t,e,n){"use strict";var r=n(7);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){"use strict";n(57),t.exports=n(9).Number.isInteger},function(t,e,n){"use strict";var r=n(7);r(r.S,"Number",{isInteger:n(58)})},function(t,e,n){"use strict";var r=n(13),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){"use strict";n(60),n(62),n(73),n(92),n(94),t.exports=n(9).WeakMap},function(t,e,n){"use strict";var r=n(61),i={};i[n(28)("toStringTag")]="z",i+""!="[object z]"&&n(20)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){"use strict";var r=n(27),i=n(28)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";for(var r=n(63),i=n(45),o=n(20),s=n(8),a=n(10),c=n(65),u=n(28),f=u("iterator"),l=u("toStringTag"),h=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),m=0;m<p.length;m++){var v,g=p[m],y=d[g],b=s[g],w=b&&b.prototype;if(w&&(w[f]||a(w,f,h),w[l]||a(w,l,g),c[g]=h,y))for(v in r)w[v]||o(w,v,r[v],!0)}},function(t,e,n){"use strict";var r=n(41),i=n(64),o=n(65),s=n(36);t.exports=n(66)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r=n(30),i=n(7),o=n(20),s=n(10),a=n(65),c=n(67),u=n(71),f=n(72),l=n(28)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,p,m,v,g){c(n,e,p);var y,b,w,x=function(t){if(!h&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",P="values"==m,T=!1,C=t.prototype,k=C[l]||C["@@iterator"]||m&&C[m],I=k||x(m),O=m?P?x("entries"):I:void 0,L="Array"==e&&C.entries||k;if(L&&(w=f(L.call(new t)))!==Object.prototype&&w.next&&(u(w,S,!0),r||"function"==typeof w[l]||s(w,l,d)),P&&k&&"values"!==k.name&&(T=!0,I=function(){return k.call(this)}),r&&!g||!h&&!T&&C[l]||s(C,l,I),a[e]=I,a[S]=d,m)if(y={values:P?I:x("values"),keys:v?I:x("keys"),entries:O},g)for(b in y)b in C||o(C,b,y[b]);else i(i.P+i.F*(h||T),e,y);return y}},function(t,e,n){"use strict";var r=n(68),i=n(19),o=n(71),s={};n(10)(s,n(28)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(12),i=n(69),o=n(48),s=n(47)("IE_PROTO"),a=function(){},c=function(){var t,e=n(17)("iframe"),r=o.length;for(e.style.display="none",n(70).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r=n(11),i=n(12),o=n(45);t.exports=n(15)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){"use strict";var r=n(8).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(11).f,i=n(21),o=n(28)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(21),i=n(51),o=n(47)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){"use strict";var r,i=n(74)(0),o=n(20),s=n(78),a=n(44),c=n(79),u=n(13),f=n(16),l=n(86),h=s.getWeak,d=Object.isExtensible,p=c.ufstore,m={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(u(t)){var e=h(t);return!0===e?p(l(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(l(this,"WeakMap"),t,e)}},y=t.exports=n(87)("WeakMap",v,g,c,!0,!0);f(function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)})&&(a((r=c.getConstructor(v,"WeakMap")).prototype,g),s.NEED=!0,i(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];o(e,t,function(e,i){if(u(e)&&!d(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(23),i=n(37),o=n(51),s=n(38),a=n(75);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,f=4==t,l=6==t,h=5==t||l,d=e||a;return function(e,a,p){for(var m,v,g=o(e),y=i(g),b=r(a,p,3),w=s(y.length),x=0,S=n?d(e,w):c?d(e,0):void 0;w>x;x++)if((h||x in y)&&(v=b(m=y[x],x,g),t))if(n)S[x]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:S.push(m)}else if(f)return!1;return l?-1:u||f?f:S}}},function(t,e,n){"use strict";var r=n(76);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(13),i=n(77),o=n(28)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(27);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(22)("meta"),o=n(13),s=n(21),a=n(11).f,c=0,u=Object.isExtensible||function(){return!0},f=!n(16)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,i,{value:{i:"O"+ ++c,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==(void 0===t?"undefined":r(t))?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[i].i},getWeak:function(t,e){if(!s(t,i)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[i].w},onFreeze:function(t){return f&&h.NEED&&u(t)&&!s(t,i)&&l(t),t}}},function(t,e,n){"use strict";var r=n(80),i=n(78).getWeak,o=n(12),s=n(13),a=n(81),c=n(82),u=n(74),f=n(21),l=n(86),h=u(5),d=u(6),p=0,m=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},g=function(t,e){return h(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var u=t(function(t,r){a(t,u,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&c(r,n,t[o],t)});return r(u.prototype,{delete:function(t){if(!s(t))return!1;var n=i(t);return!0===n?m(l(this,e)).delete(t):n&&f(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?m(l(this,e)).has(t):n&&f(n,this._i)}}),u},def:function(t,e,n){var r=i(o(e),!0);return!0===r?m(t).set(e,n):r[t._i]=n,t},ufstore:m}},function(t,e,n){"use strict";var r=n(20);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var r=n(23),i=n(83),o=n(84),s=n(12),a=n(38),c=n(85),u={},f={},l=t.exports=function(t,e,n,l,h){var d,p,m,v,g=h?function(){return t}:c(t),y=r(n,l,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=a(t.length);d>b;b++)if((v=e?y(s(p=t[b])[0],p[1]):y(t[b]))===u||v===f)return v}else for(m=g.call(t);!(p=m.next()).done;)if((v=i(m,y,p.value,e))===u||v===f)return v};l.BREAK=u,l.RETURN=f},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){"use strict";var r=n(65),i=n(28)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(61),i=n(28)("iterator"),o=n(65);t.exports=n(9).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var r=n(8),i=n(7),o=n(20),s=n(80),a=n(78),c=n(82),u=n(81),f=n(13),l=n(16),h=n(88),d=n(71),p=n(89);t.exports=function(t,e,n,m,v,g){var y=r[t],b=y,w=v?"set":"add",x=b&&b.prototype,S={},P=function(t){var e=x[t];o(x,t,"delete"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(g||x.forEach&&!l(function(){(new b).entries().next()}))){var T=new b,C=T[w](g?{}:-0,1)!=T,k=l(function(){T.has(1)}),I=h(function(t){new b(t)}),O=!g&&l(function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)});I||((b=e(function(e,n){u(e,b,t);var r=p(new y,e,b);return void 0!=n&&c(n,v,r[w],r),r})).prototype=x,x.constructor=b),(k||O)&&(P("delete"),P("has"),v&&P("get")),(O||C)&&P(w),g&&x.clear&&delete x.clear}else b=m.getConstructor(e,t,v,w),s(b.prototype,n),a.NEED=!0;return d(b,t),S[t]=b,i(i.G+i.W+i.F*(b!=y),S),g||m.setStrong(b,t,v),b}},function(t,e,n){"use strict";var r=n(28)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(13),i=n(90).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(13),i=n(12),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(23)(Function.call,n(91).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";var r=n(50),i=n(19),o=n(36),s=n(18),a=n(21),c=n(14),u=Object.getOwnPropertyDescriptor;e.f=n(15)?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";n(93)("WeakMap")},function(t,e,n){"use strict";var r=n(7);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";n(95)("WeakMap")},function(t,e,n){"use strict";var r=n(7),i=n(24),o=n(23),s=n(82);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,c=arguments[1];return i(this),(e=void 0!==c)&&i(c),void 0==t?new this:(n=[],e?(r=0,a=o(c,arguments[2],2),s(t,!1,function(t){n.push(a(t,r++))})):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";n(97),t.exports=n(9).String.codePointAt},function(t,e,n){"use strict";var r=n(7),i=n(98)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(39),i=n(31);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";n(100),t.exports=n(9).String.fromCodePoint},function(t,e,n){"use strict";var r=n(7),i=n(40),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";n(102),n(60),t.exports=n(9).Symbol},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(8),o=n(21),s=n(15),a=n(7),c=n(20),u=n(78).KEY,f=n(16),l=n(29),h=n(71),d=n(22),p=n(28),m=n(103),v=n(104),g=n(105),y=n(77),b=n(12),w=n(13),x=n(36),S=n(18),P=n(19),T=n(68),C=n(106),k=n(91),I=n(11),O=n(45),L=k.f,E=I.f,A=C.f,M=i.Symbol,_=i.JSON,D=_&&_.stringify,R=p("_hidden"),B=p("toPrimitive"),U={}.propertyIsEnumerable,N=l("symbol-registry"),F=l("symbols"),j=l("op-symbols"),z=Object.prototype,H="function"==typeof M,X=i.QObject,Y=!X||!X.prototype||!X.prototype.findChild,W=s&&f(function(){return 7!=T(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=L(z,e);r&&delete z[e],E(t,e,n),r&&t!==z&&E(z,e,r)}:E,q=function(t){var e=F[t]=T(M.prototype);return e._k=t,e},V=H&&"symbol"==r(M.iterator)?function(t){return"symbol"==(void 0===t?"undefined":r(t))}:function(t){return t instanceof M},G=function(t,e,n){return t===z&&G(j,e,n),b(t),e=S(e,!0),b(n),o(F,e)?(n.enumerable?(o(t,R)&&t[R][e]&&(t[R][e]=!1),n=T(n,{enumerable:P(0,!1)})):(o(t,R)||E(t,R,P(1,{})),t[R][e]=!0),W(t,e,n)):E(t,e,n)},J=function(t,e){b(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)G(t,n=r[i++],e[n]);return t},K=function(t){var e=U.call(this,t=S(t,!0));return!(this===z&&o(F,t)&&!o(j,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,R)&&this[R][t])||e)},Q=function(t,e){if(t=x(t),e=S(e,!0),t!==z||!o(F,e)||o(j,e)){var n=L(t,e);return!n||!o(F,e)||o(t,R)&&t[R][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=A(x(t)),r=[],i=0;n.length>i;)o(F,e=n[i++])||e==R||e==u||r.push(e);return r},$=function(t){for(var e,n=t===z,r=A(n?j:x(t)),i=[],s=0;r.length>s;)!o(F,e=r[s++])||n&&!o(z,e)||i.push(F[e]);return i};H||(c((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0);return s&&Y&&W(z,t,{configurable:!0,set:function e(n){this===z&&e.call(j,n),o(this,R)&&o(this[R],t)&&(this[R][t]=!1),W(this,t,P(1,n))}}),q(t)}).prototype,"toString",function(){return this._k}),k.f=Q,I.f=G,n(107).f=C.f=Z,n(50).f=K,n(49).f=$,s&&!n(30)&&c(z,"propertyIsEnumerable",K,!0),m.f=function(t){return q(p(t))}),a(a.G+a.W+a.F*!H,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var nt=O(p.store),rt=0;nt.length>rt;)v(nt[rt++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return o(N,t+="")?N[t]:N[t]=M(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!H,"Object",{create:function(t,e){return void 0===e?T(t):J(T(t),e)},defineProperty:G,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),_&&a(a.S+a.F*(!H||f(function(){var t=M();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(w(e)||void 0!==t)&&!V(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!V(e))return e}),r[1]=e,D.apply(_,r)}}),M.prototype[B]||n(10)(M.prototype,B,M.prototype.valueOf),h(M,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){"use strict";e.f=n(28)},function(t,e,n){"use strict";var r=n(8),i=n(9),o=n(30),s=n(103),a=n(11).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){"use strict";var r=n(45),i=n(49),o=n(50);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),c=o.f,u=0;a.length>u;)c.call(t,s=a[u++])&&e.push(s);return e}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(36),o=n(107).f,s={}.toString,a="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(i(t))}},function(t,e,n){"use strict";var r=n(46),i=n(48).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";n(109),t.exports=n(9).Object.values},function(t,e,n){"use strict";var r=n(7),i=n(110)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(45),i=n(36),o=n(50).f;t.exports=function(t){return function(e){for(var n,s=i(e),a=r(s),c=a.length,u=0,f=[];c>u;)o.call(s,n=a[u++])&&f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e,n){"use strict";var r=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(t){t.close()}}),r=!0}catch(t){}if(r)e.ReadableStream=ReadableStream;else{e.ReadableStream=function t(){throw function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),new Error("The current image decoders are synchronous, hence `ReadableStream` shouldn't need to be polyfilled for the IMAGE_DECODERS build target.")}}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=!1;try{if("function"==typeof URL&&"object"===r(URL.prototype)&&"origin"in URL.prototype){var o=new URL("b","http://a");o.pathname="c%20d",i="http://a/c%20d"===o.href}}catch(t){}if(i)e.URL=URL;else{e.URL=function t(){throw function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),new Error("The current image decoders doesn't utilize the `URL` constructor, hence it shouldn't need to be polyfilled for the IMAGE_DECODERS build target.")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Jbig2Image=void 0;var r=n(1),i=n(114),o=n(115),s=function(){function t(t){this.message="JBIG2 error: "+t}return t.prototype=new Error,t.prototype.name="Jbig2Error",t.constructor=t,t}(),a=function(){function t(){}function e(t,e,n){this.data=t,this.start=e,this.end=n}function n(t,e,n){var r=t.getContexts(e),i=1;function o(t){for(var e=0,o=0;o<t;o++){var s=n.readBit(r,i);i=i<256?i<<1|s:511&(i<<1|s)|256,e=e<<1|s}return e>>>0}var s=o(1),a=o(1)?o(1)?o(1)?o(1)?o(1)?o(32)+4436:o(12)+340:o(8)+84:o(6)+20:o(4)+4:o(2);return 0===s?a:a>0?-a:null}function a(t,e,n){for(var r=t.getContexts("IAID"),i=1,o=0;o<n;o++){i=i<<1|e.readBit(r,i)}return n<31?i&(1<<n)-1:2147483647&i}t.prototype={getContexts:function(t){return t in this?this[t]:this[t]=new Int8Array(65536)}},e.prototype={get decoder(){var t=new i.ArithmeticDecoder(this.data,this.start,this.end);return(0,r.shadow)(this,"decoder",t)},get contextCache(){var e=new t;return(0,r.shadow)(this,"contextCache",e)}};var c=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],u=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],f=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],l=[39717,1941,229,405],h=[32,8];function d(t,e,n,r,i,o,s,a){if(t)return A(new O(a.data,a.start,a.end),e,n,!1);if(0===r&&!o&&!i&&4===s.length&&3===s[0].x&&-1===s[0].y&&-3===s[1].x&&-1===s[1].y&&2===s[2].x&&-2===s[2].y&&-2===s[3].x&&-2===s[3].y)return function(t,e,n){var r,i,o,s,a,c,u,f=n.decoder,l=n.contextCache.getContexts("GB"),h=[];for(i=0;i<e;i++)for(a=h[i]=new Uint8Array(t),c=i<1?a:h[i-1],r=(u=i<2?a:h[i-2])[0]<<13|u[1]<<12|u[2]<<11|c[0]<<7|c[1]<<6|c[2]<<5|c[3]<<4,o=0;o<t;o++)a[o]=s=f.readBit(l,r),r=(31735&r)<<1|(o+3<t?u[o+3]<<11:0)|(o+4<t?c[o+4]<<4:0)|s;return h}(e,n,a);var c=!!o,f=u[r].concat(s);f.sort(function(t,e){return t.y-e.y||t.x-e.x});var h,d,p=f.length,m=new Int8Array(p),v=new Int8Array(p),g=[],y=0,b=0,w=0,x=0;for(d=0;d<p;d++)m[d]=f[d].x,v[d]=f[d].y,b=Math.min(b,f[d].x),w=Math.max(w,f[d].x),x=Math.min(x,f[d].y),d<p-1&&f[d].y===f[d+1].y&&f[d].x===f[d+1].x-1?y|=1<<p-1-d:g.push(d);var S=g.length,P=new Int8Array(S),T=new Int8Array(S),C=new Uint16Array(S);for(h=0;h<S;h++)d=g[h],P[h]=f[d].x,T[h]=f[d].y,C[h]=1<<p-1-d;for(var k,I,L,E,M,_=-b,D=-x,R=e-w,B=l[r],U=new Uint8Array(e),N=[],F=a.decoder,j=a.contextCache.getContexts("GB"),z=0,H=0,X=0;X<n;X++){if(i)if(z^=F.readBit(j,B)){N.push(U);continue}for(U=new Uint8Array(U),N.push(U),k=0;k<e;k++)if(c&&o[X][k])U[k]=0;else{if(k>=_&&k<R&&X>=D)for(H=H<<1&y,d=0;d<S;d++)I=X+T[d],L=k+P[d],(E=N[I][L])&&(H|=E=C[d]);else for(H=0,M=p-1,d=0;d<p;d++,M--)(L=k+m[d])>=0&&L<e&&(I=X+v[d])>=0&&(E=N[I][L])&&(H|=E<<M);var Y=F.readBit(j,H);U[k]=Y}}return N}function p(t,e,n,r,i,o,a,c,u){var l=f[n].coding;0===n&&(l=l.concat([c[0]]));var d,p=l.length,m=new Int32Array(p),v=new Int32Array(p);for(d=0;d<p;d++)m[d]=l[d].x,v[d]=l[d].y;var g=f[n].reference;0===n&&(g=g.concat([c[1]]));var y=g.length,b=new Int32Array(y),w=new Int32Array(y);for(d=0;d<y;d++)b[d]=g[d].x,w[d]=g[d].y;for(var x=r[0].length,S=r.length,P=h[n],T=[],C=u.decoder,k=u.contextCache.getContexts("GR"),I=0,O=0;O<e;O++){if(a)if(I^=C.readBit(k,P))throw new s("prediction is not supported");var L=new Uint8Array(t);T.push(L);for(var E=0;E<t;E++){var A,M,_=0;for(d=0;d<p;d++)A=O+v[d],M=E+m[d],A<0||M<0||M>=t?_<<=1:_=_<<1|T[A][M];for(d=0;d<y;d++)A=O+w[d]-o,M=E+b[d]-i,A<0||A>=S||M<0||M>=x?_<<=1:_=_<<1|r[A][M];var D=C.readBit(k,_);L[E]=D}}return T}function m(t,e,r,i,o,c,u,f,l,h,d,m,v,g,y,b,w,x,S){if(t&&e)throw new s("refinement with Huffman is not supported");var P,T,C=[];for(P=0;P<i;P++){if(T=new Uint8Array(r),o)for(var k=0;k<r;k++)T[k]=o;C.push(T)}var I=w.decoder,O=w.contextCache,L=t?-g.tableDeltaT.decode(S):-n(O,"IADT",I),E=0;for(P=0;P<c;){L+=t?g.tableDeltaT.decode(S):n(O,"IADT",I);for(var A=E+=t?g.tableFirstS.decode(S):n(O,"IAFS",I);;){var M=0;u>1&&(M=t?S.readBits(x):n(O,"IAIT",I));var _=u*L+M,D=t?g.symbolIDTable.decode(S):a(O,I,l),R=e&&(t?S.readBit():n(O,"IARI",I)),B=f[D],U=B[0].length,N=B.length;if(R){var F=n(O,"IARDW",I),j=n(O,"IARDH",I);B=p(U+=F,N+=j,y,B,(F>>1)+n(O,"IARDX",I),(j>>1)+n(O,"IARDY",I),!1,b,w)}var z,H,X,Y=_-(1&m?0:N-1),W=A-(2&m?U-1:0);if(h){for(z=0;z<N;z++)if(T=C[W+z]){X=B[z];var q=Math.min(r-Y,U);switch(v){case 0:for(H=0;H<q;H++)T[Y+H]|=X[H];break;case 2:for(H=0;H<q;H++)T[Y+H]^=X[H];break;default:throw new s("operator "+v+" is not supported")}}A+=N-1}else{for(H=0;H<N;H++)if(T=C[Y+H])switch(X=B[H],v){case 0:for(z=0;z<U;z++)T[W+z]|=X[z];break;case 2:for(z=0;z<U;z++)T[W+z]^=X[z];break;default:throw new s("operator "+v+" is not supported")}A+=U-1}P++;var V=t?g.tableDeltaS.decode(S):n(O,"IADS",I);if(null===V)break;A+=V+d}}return C}function v(t,e){var n={};n.number=(0,r.readUint32)(t,e);var i=t[e+4],o=63&i;if(!c[o])throw new s("invalid segment type: "+o);n.type=o,n.typeName=c[o],n.deferredNonRetain=!!(128&i);var a=!!(64&i),u=t[e+5],f=u>>5&7,l=[31&u],h=e+6;if(7===u){f=536870911&(0,r.readUint32)(t,h-1),h+=3;var d=f+7>>3;for(l[0]=t[h++];--d>0;)l.push(t[h++])}else if(5===u||6===u)throw new s("invalid referred-to flags");n.retainBits=l;var p,m,v=n.number<=256?1:n.number<=65536?2:4,g=[];for(p=0;p<f;p++){var w=1===v?t[h]:2===v?(0,r.readUint16)(t,h):(0,r.readUint32)(t,h);g.push(w),h+=v}if(n.referredTo=g,a?(n.pageAssociation=(0,r.readUint32)(t,h),h+=4):n.pageAssociation=t[h++],n.length=(0,r.readUint32)(t,h),h+=4,4294967295===n.length){if(38!==o)throw new s("invalid unknown segment length");var x=y(t,h),S=!!(1&t[h+b]),P=new Uint8Array(6);for(S||(P[0]=255,P[1]=172),P[2]=x.height>>>24&255,P[3]=x.height>>16&255,P[4]=x.height>>8&255,P[5]=255&x.height,p=h,m=t.length;p<m;p++){for(var T=0;T<6&&P[T]===t[p+T];)T++;if(6===T){n.length=p+6;break}}if(4294967295===n.length)throw new s("segment end was not found")}return n.headerEnd=h,n}function g(t,e,n,r){for(var i=[],o=n;o<r;){var s=v(e,o);o=s.headerEnd;var a={header:s,data:e};if(t.randomAccess||(a.start=o,o+=s.length,a.end=o),i.push(a),51===s.type)break}if(t.randomAccess)for(var c=0,u=i.length;c<u;c++)i[c].start=o,o+=i[c].header.length,i[c].end=o;return i}function y(t,e){return{width:(0,r.readUint32)(t,e),height:(0,r.readUint32)(t,e+4),x:(0,r.readUint32)(t,e+8),y:(0,r.readUint32)(t,e+12),combinationOperator:7&t[e+16]}}var b=17;function w(t,e){var n,i,o,a,c=t.header,u=t.data,f=t.start,l=t.end;switch(c.type){case 0:var h={},d=(0,r.readUint16)(u,f);if(h.huffman=!!(1&d),h.refinement=!!(2&d),h.huffmanDHSelector=d>>2&3,h.huffmanDWSelector=d>>4&3,h.bitmapSizeSelector=d>>6&1,h.aggregationInstancesSelector=d>>7&1,h.bitmapCodingContextUsed=!!(256&d),h.bitmapCodingContextRetained=!!(512&d),h.template=d>>10&3,h.refinementTemplate=d>>12&1,f+=2,!h.huffman){for(a=0===h.template?4:1,i=[],o=0;o<a;o++)i.push({x:(0,r.readInt8)(u,f),y:(0,r.readInt8)(u,f+1)}),f+=2;h.at=i}if(h.refinement&&!h.refinementTemplate){for(i=[],o=0;o<2;o++)i.push({x:(0,r.readInt8)(u,f),y:(0,r.readInt8)(u,f+1)}),f+=2;h.refinementAt=i}h.numberOfExportedSymbols=(0,r.readUint32)(u,f),f+=4,h.numberOfNewSymbols=(0,r.readUint32)(u,f),f+=4,n=[h,c.number,c.referredTo,u,f,l];break;case 6:case 7:var p={};p.info=y(u,f),f+=b;var m=(0,r.readUint16)(u,f);if(f+=2,p.huffman=!!(1&m),p.refinement=!!(2&m),p.logStripSize=m>>2&3,p.stripSize=1<<p.logStripSize,p.referenceCorner=m>>4&3,p.transposed=!!(64&m),p.combinationOperator=m>>7&3,p.defaultPixelValue=m>>9&1,p.dsOffset=m<<17>>27,p.refinementTemplate=m>>15&1,p.huffman){var v=(0,r.readUint16)(u,f);f+=2,p.huffmanFS=3&v,p.huffmanDS=v>>2&3,p.huffmanDT=v>>4&3,p.huffmanRefinementDW=v>>6&3,p.huffmanRefinementDH=v>>8&3,p.huffmanRefinementDX=v>>10&3,p.huffmanRefinementDY=v>>12&3,p.huffmanRefinementSizeSelector=!!(16384&v)}if(p.refinement&&!p.refinementTemplate){for(i=[],o=0;o<2;o++)i.push({x:(0,r.readInt8)(u,f),y:(0,r.readInt8)(u,f+1)}),f+=2;p.refinementAt=i}p.numberOfSymbolInstances=(0,r.readUint32)(u,f),f+=4,n=[p,c.referredTo,u,f,l];break;case 16:var g={},w=u[f++];g.mmr=!!(1&w),g.template=w>>1&3,g.patternWidth=u[f++],g.patternHeight=u[f++],g.maxPatternIndex=(0,r.readUint32)(u,f),f+=4,n=[g,c.number,u,f,l];break;case 22:case 23:var x={};x.info=y(u,f),f+=b;var S=u[f++];x.mmr=!!(1&S),x.template=S>>1&3,x.enableSkip=!!(8&S),x.combinationOperator=S>>4&7,x.defaultPixelValue=S>>7&1,x.gridWidth=(0,r.readUint32)(u,f),f+=4,x.gridHeight=(0,r.readUint32)(u,f),f+=4,x.gridOffsetX=4294967295&(0,r.readUint32)(u,f),f+=4,x.gridOffsetY=4294967295&(0,r.readUint32)(u,f),f+=4,x.gridVectorX=(0,r.readUint16)(u,f),f+=2,x.gridVectorY=(0,r.readUint16)(u,f),f+=2,n=[x,c.referredTo,u,f,l];break;case 38:case 39:var P={};P.info=y(u,f),f+=b;var T=u[f++];if(P.mmr=!!(1&T),P.template=T>>1&3,P.prediction=!!(8&T),!P.mmr){for(a=0===P.template?4:1,i=[],o=0;o<a;o++)i.push({x:(0,r.readInt8)(u,f),y:(0,r.readInt8)(u,f+1)}),f+=2;P.at=i}n=[P,u,f,l];break;case 48:var C={width:(0,r.readUint32)(u,f),height:(0,r.readUint32)(u,f+4),resolutionX:(0,r.readUint32)(u,f+8),resolutionY:(0,r.readUint32)(u,f+12)};4294967295===C.height&&delete C.height;var k=u[f+16];(0,r.readUint16)(u,f+17),C.lossless=!!(1&k),C.refinement=!!(2&k),C.defaultPixelValue=k>>2&1,C.combinationOperator=k>>3&3,C.requiresBuffer=!!(32&k),C.combinationOperatorOverride=!!(64&k),n=[C];break;case 49:case 50:case 51:break;case 53:n=[c.number,u,f,l];break;case 62:break;default:throw new s("segment type "+c.typeName+"("+c.type+") is not implemented")}var I="on"+c.typeName;I in e&&e[I].apply(e,n)}function x(t,e){for(var n=0,r=t.length;n<r;n++)w(t[n],e)}function S(){}function P(t){2===t.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=t[0],this.rangeLength=0,this.prefixCode=t[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=t[0],this.prefixLength=t[1],this.rangeLength=t[2],this.prefixCode=t[3],this.isLowerRange="lower"===t[4])}function T(t){this.children=[],t?(this.isLeaf=!0,this.rangeLength=t.rangeLength,this.rangeLow=t.rangeLow,this.isLowerRange=t.isLowerRange,this.isOOB=t.isOOB):this.isLeaf=!1}function C(t,e){e||this.assignPrefixCodes(t),this.rootNode=new T(null);var n=void 0,r=t.length,i=void 0;for(n=0;n<r;n++)(i=t[n]).prefixLength>0&&this.rootNode.buildTree(i,i.prefixLength-1)}S.prototype={onPageInformation:function(t){this.currentPageInfo=t;var e=t.width+7>>3,n=new Uint8ClampedArray(e*t.height);if(t.defaultPixelValue)for(var r=0,i=n.length;r<i;r++)n[r]=255;this.buffer=n},drawBitmap:function(t,e){var n,r,i,o,a=this.currentPageInfo,c=t.width,u=t.height,f=a.width+7>>3,l=a.combinationOperatorOverride?t.combinationOperator:a.combinationOperator,h=this.buffer,d=128>>(7&t.x),p=t.y*f+(t.x>>3);switch(l){case 0:for(n=0;n<u;n++){for(i=d,o=p,r=0;r<c;r++)e[n][r]&&(h[o]|=i),(i>>=1)||(i=128,o++);p+=f}break;case 2:for(n=0;n<u;n++){for(i=d,o=p,r=0;r<c;r++)e[n][r]&&(h[o]^=i),(i>>=1)||(i=128,o++);p+=f}break;default:throw new s("operator "+l+" is not supported")}},onImmediateGenericRegion:function(t,n,r,i){var o=t.info,s=new e(n,r,i),a=d(t.mmr,o.width,o.height,t.template,t.prediction,null,t.at,s);this.drawBitmap(o,a)},onImmediateLosslessGenericRegion:function(){this.onImmediateGenericRegion.apply(this,arguments)},onSymbolDictionary:function(t,i,o,c,u,f){var l=void 0,h=void 0;t.huffman&&(l=function(t,e,n){var r=0,i=void 0,o=void 0;switch(t.huffmanDHSelector){case 0:case 1:i=I(t.huffmanDHSelector+4);break;case 3:i=L(r,e,n),r++;break;default:throw new s("invalid Huffman DH selector")}switch(t.huffmanDWSelector){case 0:case 1:o=I(t.huffmanDWSelector+2);break;case 3:o=L(r,e,n),r++;break;default:throw new s("invalid Huffman DW selector")}var a=void 0,c=void 0;t.bitmapSizeSelector?(a=L(r,e,n),r++):a=I(1);c=t.aggregationInstancesSelector?L(r,e,n):I(1);return{tableDeltaHeight:i,tableDeltaWidth:o,tableBitmapSize:a,tableAggregateInstances:c}}(t,o,this.customTables),h=new O(c,u,f));var v=this.symbols;v||(this.symbols=v={});for(var g=[],y=0,b=o.length;y<b;y++){var w=v[o[y]];w&&(g=g.concat(w))}var x=new e(c,u,f);v[i]=function(t,e,i,o,c,u,f,l,h,v,g,y){if(t&&e)throw new s("symbol refinement with Huffman is not supported");var b=[],w=0,x=(0,r.log2)(i.length+o),S=g.decoder,P=g.contextCache,T=void 0,C=void 0;for(t&&(T=I(1),C=[],x=Math.max(x,1));b.length<o;){w+=t?u.tableDeltaHeight.decode(y):n(P,"IADH",S);for(var k=0,O=0,L=t?C.length:0;;){var M,_=t?u.tableDeltaWidth.decode(y):n(P,"IADW",S);if(null===_)break;if(O+=k+=_,e){var D=n(P,"IAAI",S);if(D>1)M=m(t,e,k,w,0,D,1,i.concat(b),x,0,0,1,0,u,h,v,g,0,y);else{var R=a(P,S,x),B=n(P,"IARDX",S),U=n(P,"IARDY",S);M=p(k,w,h,R<i.length?i[R]:b[R-i.length],B,U,!1,v,g)}b.push(M)}else t?C.push(k):(M=d(!1,k,w,f,!1,null,l,g),b.push(M))}if(t&&!e){var N=u.tableBitmapSize.decode(y);y.byteAlign();var F=void 0;if(0===N)F=E(y,O,w);else{var j=y.end,z=y.position+N;y.end=z,F=A(y,O,w,!1),y.end=j,y.position=z}var H=C.length;if(L===H-1)b.push(F);else{var X=void 0,Y=void 0,W=0,q=void 0,V=void 0;for(X=L;X<H;X++){for(q=W+C[X],V=[],Y=0;Y<w;Y++)V.push(F[Y].subarray(W,q));b.push(V),W=q}}}}for(var G=[],J=[],K=!1,Q=i.length+o;J.length<Q;){for(var Z=t?T.decode(y):n(P,"IAEX",S);Z--;)J.push(K);K=!K}for(var $=0,tt=i.length;$<tt;$++)J[$]&&G.push(i[$]);for(var et=0;et<o;$++,et++)J[$]&&G.push(b[et]);return G}(t.huffman,t.refinement,g,t.numberOfNewSymbols,t.numberOfExportedSymbols,l,t.template,t.at,t.refinementTemplate,t.refinementAt,x,h)},onImmediateTextRegion:function(t,n,i,o,a){for(var c=t.info,u=void 0,f=void 0,l=this.symbols,h=[],d=0,p=n.length;d<p;d++){var v=l[n[d]];v&&(h=h.concat(v))}var g=(0,r.log2)(h.length);t.huffman&&(f=new O(i,o,a),u=function(t,e,n,r,i){var o=[],a=void 0,c=void 0;for(a=0;a<=34;a++)c=i.readBits(4),o.push(new P([a,c,0,0]));var u=new C(o,!1);for(o.length=0,a=0;a<r;)if((c=u.decode(i))>=32){var f=void 0,l=void 0,h=void 0;switch(c){case 32:if(0===a)throw new s("no previous value in symbol ID table");l=i.readBits(2)+3,f=o[a-1].prefixLength;break;case 33:l=i.readBits(3)+3,f=0;break;case 34:l=i.readBits(7)+11,f=0;break;default:throw new s("invalid code length in symbol ID table")}for(h=0;h<l;h++)o.push(new P([a,f,0,0])),a++}else o.push(new P([a,c,0,0])),a++;i.byteAlign();var d=new C(o,!1),p=0,m=void 0,v=void 0,g=void 0;switch(t.huffmanFS){case 0:case 1:m=I(t.huffmanFS+6);break;case 3:m=L(p,e,n),p++;break;default:throw new s("invalid Huffman FS selector")}switch(t.huffmanDS){case 0:case 1:case 2:v=I(t.huffmanDS+8);break;case 3:v=L(p,e,n),p++;break;default:throw new s("invalid Huffman DS selector")}switch(t.huffmanDT){case 0:case 1:case 2:g=I(t.huffmanDT+11);break;case 3:g=L(p,e,n),p++;break;default:throw new s("invalid Huffman DT selector")}if(t.refinement)throw new s("refinement with Huffman is not supported");return{symbolIDTable:d,tableFirstS:m,tableDeltaS:v,tableDeltaT:g}}(t,n,this.customTables,h.length,f));var y=new e(i,o,a),b=m(t.huffman,t.refinement,c.width,c.height,t.defaultPixelValue,t.numberOfSymbolInstances,t.stripSize,h,g,t.transposed,t.dsOffset,t.referenceCorner,t.combinationOperator,u,t.refinementTemplate,t.refinementAt,y,t.logStripSize,f);this.drawBitmap(c,b)},onImmediateLosslessTextRegion:function(){this.onImmediateTextRegion.apply(this,arguments)},onPatternDictionary:function(t,n,r,i,o){var s=this.patterns;s||(this.patterns=s={});var a=new e(r,i,o);s[n]=function(t,e,n,r,i,o){var s=[];t||(s.push({x:-e,y:0}),0===i&&(s.push({x:-3,y:-1}),s.push({x:2,y:-2}),s.push({x:-2,y:-2})));for(var a=d(t,(r+1)*e,n,i,!1,null,s,o),c=[],u=0,f=void 0,l=void 0,h=void 0,p=void 0;u<=r;){for(f=[],h=(l=e*u)+e,p=0;p<n;p++)f.push(a[p].subarray(l,h));c.push(f),u++}return c}(t.mmr,t.patternWidth,t.patternHeight,t.maxPatternIndex,t.template,a)},onImmediateHalftoneRegion:function(t,n,i,o,a){var c=this.patterns[n[0]],u=t.info,f=new e(i,o,a),l=function(t,e,n,i,o,a,c,u,f,l,h,p,m,v,g){if(c)throw new s("skip is not supported");if(0!==u)throw new s("operator "+u+" is not supported in halftone region");var y=[],b=void 0,w=void 0,x=void 0;for(b=0;b<o;b++){if(x=new Uint8Array(i),a)for(w=0;w<i;w++)x[w]=a;y.push(x)}var S=e.length,P=e[0],T=P[0].length,C=P.length,k=(0,r.log2)(S),I=[];t||(I.push({x:n<=1?3:2,y:-1}),0===n&&(I.push({x:-3,y:-1}),I.push({x:2,y:-2}),I.push({x:-2,y:-2})));var L=[],E=void 0,M=void 0;for(t&&(E=new O(g.data,g.start,g.end)),b=k-1;b>=0;b--)M=t?A(E,f,l,!0):d(!1,f,l,n,!1,null,I,g),L[b]=M;var _=void 0,D=void 0,R=void 0,B=void 0,U=void 0,N=void 0,F=void 0,j=void 0,z=void 0;for(_=0;_<l;_++)for(D=0;D<f;D++){for(R=0,B=0,w=k-1;w>=0;w--)B|=(R=L[w][_][D]^R)<<w;if(U=e[B],F=p+_*m-D*v>>8,(N=h+_*v+D*m>>8)>=0&&N+T<=i&&F>=0&&F+C<=o)for(b=0;b<C;b++)for(z=y[F+b],j=U[b],w=0;w<T;w++)z[N+w]|=j[w];else{var H=void 0,X=void 0;for(b=0;b<C;b++)if(!((X=F+b)<0||X>=o))for(z=y[X],j=U[b],w=0;w<T;w++)(H=N+w)>=0&&H<i&&(z[H]|=j[w])}}return y}(t.mmr,c,t.template,u.width,u.height,t.defaultPixelValue,t.enableSkip,t.combinationOperator,t.gridWidth,t.gridHeight,t.gridOffsetX,t.gridOffsetY,t.gridVectorX,t.gridVectorY,f);this.drawBitmap(u,l)},onImmediateLosslessHalftoneRegion:function(){this.onImmediateHalftoneRegion.apply(this,arguments)},onTables:function(t,e,n,i){var o=this.customTables;o||(this.customTables=o={}),o[t]=function(t,e,n){var i=t[e],o=4294967295&(0,r.readUint32)(t,e+1),s=4294967295&(0,r.readUint32)(t,e+5),a=new O(t,e+9,n),c=1+(i>>1&7),u=1+(i>>4&7),f=[],l=void 0,h=void 0,d=o;do{l=a.readBits(c),h=a.readBits(u),f.push(new P([d,l,h,0])),d+=1<<h}while(d<s);l=a.readBits(c),f.push(new P([o-1,l,32,0,"lower"])),l=a.readBits(c),f.push(new P([s,l,32,0])),1&i&&(l=a.readBits(c),f.push(new P([l,0])));return new C(f,!1)}(e,n,i)}},T.prototype={buildTree:function(t,e){var n=t.prefixCode>>e&1;if(e<=0)this.children[n]=new T(t);else{var r=this.children[n];r||(this.children[n]=r=new T(null)),r.buildTree(t,e-1)}},decodeNode:function(t){if(this.isLeaf){if(this.isOOB)return null;var e=t.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-e:e)}var n=this.children[t.readBit()];if(!n)throw new s("invalid Huffman data");return n.decodeNode(t)}},C.prototype={decode:function(t){return this.rootNode.decodeNode(t)},assignPrefixCodes:function(t){var e=t.length,n=0,r=void 0;for(r=0;r<e;r++)n=Math.max(n,t[r].prefixLength);var i=new Uint32Array(n+1);for(r=0;r<e;r++)i[t[r].prefixLength]++;var o=1,s=0,a=void 0,c=void 0,u=void 0;for(i[0]=0;o<=n;){for(a=s=s+i[o-1]<<1,c=0;c<e;)(u=t[c]).prefixLength===o&&(u.prefixCode=a,a++),c++;o++}}};var k={};function I(t){var e=k[t];if(e)return e;var n=void 0;switch(t){case 1:n=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:n=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:n=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:n=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:n=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:n=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:n=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:n=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:n=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:n=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:n=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:n=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:n=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:n=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:n=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new s("standard table B."+t+" does not exist")}var r=n.length,i=void 0;for(i=0;i<r;i++)n[i]=new P(n[i]);return e=new C(n,!0),k[t]=e,e}function O(t,e,n){this.data=t,this.start=e,this.end=n,this.position=e,this.shift=-1,this.currentByte=0}function L(t,e,n){var r=0,i=void 0,o=e.length,a=void 0;for(i=0;i<o;i++)if(a=n[e[i]]){if(t===r)return a;r++}throw new s("can't find custom Huffman table")}function E(t,e,n){var r=[],i=void 0,o=void 0,s=void 0;for(o=0;o<n;o++){for(s=new Uint8Array(e),r.push(s),i=0;i<e;i++)s[i]=t.readBit();t.byteAlign()}return r}function A(t,e,n,r){var i={K:-1,Columns:e,Rows:n,BlackIs1:!0,EndOfBlock:r},s=new o.CCITTFaxDecoder(t,i),a=[],c=void 0,u=void 0,f=void 0,l=void 0,h=void 0,d=!1;for(u=0;u<n;u++)for(f=new Uint8Array(e),a.push(f),h=-1,c=0;c<e;c++)h<0&&(-1===(l=s.readNextChar())&&(l=0,d=!0),h=7),f[c]=l>>h&1,h--;if(r&&!d)for(var p=0;p<5&&-1!==s.readNextChar();p++);return a}function M(){}return O.prototype={readBit:function(){if(this.shift<0){if(this.position>=this.end)throw new s("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}var t=this.currentByte>>this.shift&1;return this.shift--,t},readBits:function(t){var e=0,n=void 0;for(n=t-1;n>=0;n--)e|=this.readBit()<<n;return e},byteAlign:function(){this.shift=-1},next:function(){return this.position>=this.end?-1:this.data[this.position++]}},M.prototype={parseChunks:function(t){return function(t){for(var e=new S,n=0,r=t.length;n<r;n++){var i=t[n];x(g({},i.data,i.start,i.end),e)}return e.buffer}(t)},parse:function(t){var e=function(t){var e=0,n=t.length;if(151!==t[e]||74!==t[e+1]||66!==t[e+2]||50!==t[e+3]||13!==t[e+4]||10!==t[e+5]||26!==t[e+6]||10!==t[e+7])throw new s("parseJbig2 - invalid header.");var i=Object.create(null);e+=8;var o=t[e++];i.randomAccess=!(1&o),2&o||(i.numberOfPages=(0,r.readUint32)(t,e),e+=4);var a=g(i,t,e,n),c=new S;x(a,c);for(var u=c.currentPageInfo,f=u.width,l=u.height,h=c.buffer,d=new Uint8ClampedArray(f*l),p=0,m=0,v=0;v<l;v++)for(var y=0,b=void 0,w=0;w<f;w++)y||(y=128,b=h[m++]),d[p++]=b&y?0:255,y>>=1;return{imgData:d,width:f,height:l}}(t),n=e.imgData,i=e.width,o=e.height;return this.width=i,this.height=o,n}},M}();e.Jbig2Image=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];function e(t,e,n){this.data=t,this.bp=e,this.dataEnd=n,this.chigh=t[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}return e.prototype={byteIn:function(){var t=this.data,e=this.bp;255===t[e]?t[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=t[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?t[e]<<8:65280,this.ct=8,this.bp=e);this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(e,n){var r,i=e[n]>>1,o=1&e[n],s=t[i],a=s.qe,c=this.a-a;if(this.chigh<a)c<a?(c=a,r=o,i=s.nmps):(c=a,r=1^o,1===s.switchFlag&&(o=r),i=s.nlps);else{if(this.chigh-=a,0!=(32768&c))return this.a=c,o;c<a?(r=1^o,1===s.switchFlag&&(o=r),i=s.nlps):(r=o,i=s.nmps)}do{0===this.ct&&this.byteIn(),c<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(0==(32768&c));return this.a=c,e[n]=i<<1|o,r}},e}();e.ArithmeticDecoder=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CCITTFaxDecoder=void 0;var r=n(1),i=function(){var t=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],e=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],n=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],i=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],o=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],s=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"function"!=typeof t.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=t,this.eof=!1,this.encoding=e.K||0,this.eoline=e.EndOfLine||!1,this.byteAlign=e.EncodedByteAlign||!1,this.columns=e.Columns||1728,this.rows=e.Rows||0;var n=e.EndOfBlock;null!==n&&void 0!==n||(n=!0),this.eoblock=n,this.black=e.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;for(var r=void 0;0===(r=this._lookBits(12));)this._eatBits(1);1===r&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}return a.prototype={readNextChar:function(){if(this.eof)return-1;var t=this.refLine,e=this.codingLine,n=this.columns,i=void 0,o=void 0,s=void 0,a=void 0;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;var c=void 0,u=void 0,f=void 0;if(this.nextLine2D){for(a=0;e[a]<n;++a)t[a]=e[a];for(t[a++]=n,t[a]=n,e[0]=0,this.codingPos=0,i=0,o=0;e[this.codingPos]<n;)switch(c=this._getTwoDimCode()){case 0:this._addPixels(t[i+1],o),t[i+1]<n&&(i+=2);break;case 1:if(c=u=0,o){do{c+=f=this._getBlackCode()}while(f>=64);do{u+=f=this._getWhiteCode()}while(f>=64)}else{do{c+=f=this._getWhiteCode()}while(f>=64);do{u+=f=this._getBlackCode()}while(f>=64)}for(this._addPixels(e[this.codingPos]+c,o),e[this.codingPos]<n&&this._addPixels(e[this.codingPos]+u,1^o);t[i]<=e[this.codingPos]&&t[i]<n;)i+=2;break;case 7:if(this._addPixels(t[i]+3,o),o^=1,e[this.codingPos]<n)for(++i;t[i]<=e[this.codingPos]&&t[i]<n;)i+=2;break;case 5:if(this._addPixels(t[i]+2,o),o^=1,e[this.codingPos]<n)for(++i;t[i]<=e[this.codingPos]&&t[i]<n;)i+=2;break;case 3:if(this._addPixels(t[i]+1,o),o^=1,e[this.codingPos]<n)for(++i;t[i]<=e[this.codingPos]&&t[i]<n;)i+=2;break;case 2:if(this._addPixels(t[i],o),o^=1,e[this.codingPos]<n)for(++i;t[i]<=e[this.codingPos]&&t[i]<n;)i+=2;break;case 8:if(this._addPixelsNeg(t[i]-3,o),o^=1,e[this.codingPos]<n)for(i>0?--i:++i;t[i]<=e[this.codingPos]&&t[i]<n;)i+=2;break;case 6:if(this._addPixelsNeg(t[i]-2,o),o^=1,e[this.codingPos]<n)for(i>0?--i:++i;t[i]<=e[this.codingPos]&&t[i]<n;)i+=2;break;case 4:if(this._addPixelsNeg(t[i]-1,o),o^=1,e[this.codingPos]<n)for(i>0?--i:++i;t[i]<=e[this.codingPos]&&t[i]<n;)i+=2;break;case-1:this._addPixels(n,0),this.eof=!0;break;default:(0,r.info)("bad 2d code"),this._addPixels(n,0),this.err=!0}}else for(e[0]=0,this.codingPos=0,o=0;e[this.codingPos]<n;){if(c=0,o)do{c+=f=this._getBlackCode()}while(f>=64);else do{c+=f=this._getWhiteCode()}while(f>=64);this._addPixels(e[this.codingPos]+c,o),o^=1}var l=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(c=this._lookBits(12),this.eoline)for(;-1!==c&&1!==c;)this._eatBits(1),c=this._lookBits(12);else for(;0===c;)this._eatBits(1),c=this._lookBits(12);1===c?(this._eatBits(12),l=!0):-1===c&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&l&&this.byteAlign){if(1===(c=this._lookBits(12))){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(a=0;a<4;++a)1!==(c=this._lookBits(12))&&(0,r.info)("bad rtc code: "+c),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(-1===(c=this._lookBits(13)))return this.eof=!0,-1;if(c>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&c))}e[0]>0?this.outputBits=e[this.codingPos=0]:this.outputBits=e[this.codingPos=1],this.row++}var h=void 0;if(this.outputBits>=8)h=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&e[this.codingPos]<n&&(this.codingPos++,this.outputBits=e[this.codingPos]-e[this.codingPos-1]);else{s=8,h=0;do{this.outputBits>s?(h<<=s,1&this.codingPos||(h|=255>>8-s),this.outputBits-=s,s=0):(h<<=this.outputBits,1&this.codingPos||(h|=255>>8-this.outputBits),s-=this.outputBits,this.outputBits=0,e[this.codingPos]<n?(this.codingPos++,this.outputBits=e[this.codingPos]-e[this.codingPos-1]):s>0&&(h<<=s,s=0))}while(s)}return this.black&&(h^=255),h},_addPixels:function(t,e){var n=this.codingLine,i=this.codingPos;t>n[i]&&(t>this.columns&&((0,r.info)("row is wrong length"),this.err=!0,t=this.columns),1&i^e&&++i,n[i]=t),this.codingPos=i},_addPixelsNeg:function(t,e){var n=this.codingLine,i=this.codingPos;if(t>n[i])t>this.columns&&((0,r.info)("row is wrong length"),this.err=!0,t=this.columns),1&i^e&&++i,n[i]=t;else if(t<n[i]){for(t<0&&((0,r.info)("invalid code"),this.err=!0,t=0);i>0&&t<n[i-1];)--i;n[i]=t}this.codingPos=i},_findTableCode:function(t,e,n,r){for(var i=r||0,o=t;o<=e;++o){var s=this._lookBits(o);if(-1===s)return[!0,1,!1];if(o<e&&(s<<=e-o),!i||s>=i){var a=n[s-i];if(a[0]===o)return this._eatBits(o),[!0,a[1],!0]}}return[!1,0,!1]},_getTwoDimCode:function(){var e=0,n=void 0;if(this.eoblock){if(e=this._lookBits(7),(n=t[e])&&n[0]>0)return this._eatBits(n[0]),n[1]}else{var i=this._findTableCode(1,7,t);if(i[0]&&i[2])return i[1]}return(0,r.info)("Bad two dim code"),-1},_getWhiteCode:function(){var t=0,i=void 0;if(this.eoblock){if(-1===(t=this._lookBits(12)))return 1;if((i=t>>5==0?e[t]:n[t>>3])[0]>0)return this._eatBits(i[0]),i[1]}else{var o=this._findTableCode(1,9,n);if(o[0])return o[1];if((o=this._findTableCode(11,12,e))[0])return o[1]}return(0,r.info)("bad white code"),this._eatBits(1),1},_getBlackCode:function(){var t=void 0,e=void 0;if(this.eoblock){if(-1===(t=this._lookBits(13)))return 1;if((e=t>>7==0?i[t]:t>>9==0&&t>>7!=0?o[(t>>1)-64]:s[t>>7])[0]>0)return this._eatBits(e[0]),e[1]}else{var n=this._findTableCode(2,6,s);if(n[0])return n[1];if((n=this._findTableCode(7,12,o,64))[0])return n[1];if((n=this._findTableCode(10,13,i))[0])return n[1]}return(0,r.info)("bad black code"),this._eatBits(1),1},_lookBits:function(t){for(var e=void 0;this.inputBits<t;){if(-1===(e=this.source.next()))return 0===this.inputBits?-1:this.inputBuf<<t-this.inputBits&65535>>16-t;this.inputBuf=this.inputBuf<<8|e,this.inputBits+=8}return this.inputBuf>>this.inputBits-t&65535>>16-t},_eatBits:function(t){(this.inputBits-=t)<0&&(this.inputBits=0)}},a}();e.CCITTFaxDecoder=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JpegImage=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),o=function(){function t(t){this.message="JPEG error: "+t}return t.prototype=new Error,t.prototype.name="JpegError",t.constructor=t,t}(),s=function(){function t(t,e){this.message=t,this.scanLines=e}return t.prototype=new Error,t.prototype.name="DNLMarkerError",t.constructor=t,t}(),a=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="EOIMarkerError",t.constructor=t,t}(),c=function(){var t=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,n=799,c=3406,u=2276,f=1567,l=3784,h=5793,d=2896;function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.decodeTransform,n=void 0===e?null:e,r=t.colorTransform,i=void 0===r?-1:r;this._decodeTransform=n,this._colorTransform=i}function m(t,e){for(var n,r,i=0,o=[],s=16;s>0&&!t[s-1];)s--;o.push({children:[],index:0});var a,c=o[0];for(n=0;n<s;n++){for(r=0;r<t[n];r++){for((c=o.pop()).children[c.index]=e[i];c.index>0;)c=o.pop();for(c.index++,o.push(c);o.length<=n;)o.push(a={children:[],index:0}),c.children[c.index]=a.children,c=a;i++}n+1<s&&(o.push(a={children:[],index:0}),c.children[c.index]=a.children,c=a)}return o[0].children}function v(t,e,n){return 64*((t.blocksPerLine+1)*e+n)}function g(e,n,c,u,f,l,h,d,p){var m=arguments.length>9&&void 0!==arguments[9]&&arguments[9],g=c.mcusPerLine,y=c.progressive,b=n,x=0,S=0;function P(){if(S>0)return x>>--S&1;if(255===(x=e[n++])){var t=e[n++];if(t){if(220===t&&m){n+=2;var r=e[n++]<<8|e[n++];if(r>0&&r!==c.scanLines)throw new s("Found DNL marker (0xFFDC) while parsing scan data",r)}else if(217===t)throw new a("Found EOI marker (0xFFD9) while parsing scan data");throw new o("unexpected marker "+(x<<8|t).toString(16))}}return S=7,x>>>7}function T(t){for(var e=t;;){if("number"==typeof(e=e[P()]))return e;if("object"!==(void 0===e?"undefined":r(e)))throw new o("invalid huffman sequence")}}function C(t){for(var e=0;t>0;)e=e<<1|P(),t--;return e}function k(t){if(1===t)return 1===P()?1:-1;var e=C(t);return e>=1<<t-1?e:e+(-1<<t)+1}var I=0;var O,L=0;function E(t,e,n,r,i){var o=n%g;e(t,v(t,(n/g|0)*t.v+r,o*t.h+i))}function A(t,e,n){e(t,v(t,n/t.blocksPerLine|0,n%t.blocksPerLine))}var M,_,D,R,B,U,N=u.length;U=y?0===l?0===d?function(t,e){var n=T(t.huffmanTableDC),r=0===n?0:k(n)<<p;t.blockData[e]=t.pred+=r}:function(t,e){t.blockData[e]|=P()<<p}:0===d?function(e,n){if(I>0)I--;else for(var r=l,i=h;r<=i;){var o=T(e.huffmanTableAC),s=15&o,a=o>>4;if(0!==s){var c=t[r+=a];e.blockData[n+c]=k(s)*(1<<p),r++}else{if(a<15){I=C(a)+(1<<a)-1;break}r+=16}}}:function(e,n){for(var r,i,s=l,a=h,c=0;s<=a;){var u=n+t[s],f=e.blockData[u]<0?-1:1;switch(L){case 0:if(c=(i=T(e.huffmanTableAC))>>4,0==(r=15&i))c<15?(I=C(c)+(1<<c),L=4):(c=16,L=1);else{if(1!==r)throw new o("invalid ACn encoding");O=k(r),L=c?2:3}continue;case 1:case 2:e.blockData[u]?e.blockData[u]+=f*(P()<<p):0==--c&&(L=2===L?3:0);break;case 3:e.blockData[u]?e.blockData[u]+=f*(P()<<p):(e.blockData[u]=O<<p,L=0);break;case 4:e.blockData[u]&&(e.blockData[u]+=f*(P()<<p))}s++}4===L&&0==--I&&(L=0)}:function(e,n){var r=T(e.huffmanTableDC),i=0===r?0:k(r);e.blockData[n]=e.pred+=i;for(var o=1;o<64;){var s=T(e.huffmanTableAC),a=15&s,c=s>>4;if(0!==a){var u=t[o+=c];e.blockData[n+u]=k(a),o++}else{if(c<15)break;o+=16}}};var F,j,z,H,X=0;for(j=1===N?u[0].blocksPerLine*u[0].blocksPerColumn:g*c.mcusPerColumn;X<j;){var Y=f?Math.min(j-X,f):j;for(_=0;_<N;_++)u[_].pred=0;if(I=0,1===N)for(M=u[0],B=0;B<Y;B++)A(M,U,X),X++;else for(B=0;B<Y;B++){for(_=0;_<N;_++)for(z=(M=u[_]).h,H=M.v,D=0;D<H;D++)for(R=0;R<z;R++)E(M,U,X,D,R);X++}S=0,(F=w(e,n))&&F.invalid&&((0,i.warn)("decodeScan - unexpected MCU data, current marker is: "+F.invalid),n=F.offset);var W=F&&F.marker;if(!W||W<=65280)throw new o("marker was not found");if(!(W>=65488&&W<=65495))break;n+=2}return(F=w(e,n))&&F.invalid&&((0,i.warn)("decodeScan - unexpected Scan data, current marker is: "+F.invalid),n=F.offset),n-b}function y(t,r,i){var s,a,p,m,v,g,y,b,w,x,S,P,T,C,k,I,O,L=t.quantizationTable,E=t.blockData;if(!L)throw new o("missing required Quantization Table.");for(var A=0;A<64;A+=8)w=E[r+A],x=E[r+A+1],S=E[r+A+2],P=E[r+A+3],T=E[r+A+4],C=E[r+A+5],k=E[r+A+6],I=E[r+A+7],w*=L[A],0!=(x|S|P|T|C|k|I)?(x*=L[A+1],S*=L[A+2],P*=L[A+3],T*=L[A+4],C*=L[A+5],k*=L[A+6],I*=L[A+7],a=(s=(s=h*w+128>>8)+(a=h*T+128>>8)+1>>1)-a,O=(p=S)*l+(m=k)*f+128>>8,p=p*f-m*l+128>>8,y=(v=(v=d*(x-I)+128>>8)+(y=C<<4)+1>>1)-y,g=(b=(b=d*(x+I)+128>>8)+(g=P<<4)+1>>1)-g,m=(s=s+(m=O)+1>>1)-m,p=(a=a+p+1>>1)-p,O=v*u+b*c+2048>>12,v=v*c-b*u+2048>>12,b=O,O=g*n+y*e+2048>>12,g=g*e-y*n+2048>>12,y=O,i[A]=s+b,i[A+7]=s-b,i[A+1]=a+y,i[A+6]=a-y,i[A+2]=p+g,i[A+5]=p-g,i[A+3]=m+v,i[A+4]=m-v):(O=h*w+512>>10,i[A]=O,i[A+1]=O,i[A+2]=O,i[A+3]=O,i[A+4]=O,i[A+5]=O,i[A+6]=O,i[A+7]=O);for(var M=0;M<8;++M)w=i[M],0!=((x=i[M+8])|(S=i[M+16])|(P=i[M+24])|(T=i[M+32])|(C=i[M+40])|(k=i[M+48])|(I=i[M+56]))?(a=(s=4112+((s=h*w+2048>>12)+(a=h*T+2048>>12)+1>>1))-a,O=(p=S)*l+(m=k)*f+2048>>12,p=p*f-m*l+2048>>12,m=O,y=(v=(v=d*(x-I)+2048>>12)+(y=C)+1>>1)-y,g=(b=(b=d*(x+I)+2048>>12)+(g=P)+1>>1)-g,O=v*u+b*c+2048>>12,v=v*c-b*u+2048>>12,b=O,O=g*n+y*e+2048>>12,g=g*e-y*n+2048>>12,I=(s=s+m+1>>1)-b,x=(a=a+p+1>>1)+(y=O),k=a-y,S=(p=a-p)+g,C=p-g,P=(m=s-m)+v,T=m-v,w=(w=s+b)<16?0:w>=4080?255:w>>4,x=x<16?0:x>=4080?255:x>>4,S=S<16?0:S>=4080?255:S>>4,P=P<16?0:P>=4080?255:P>>4,T=T<16?0:T>=4080?255:T>>4,C=C<16?0:C>=4080?255:C>>4,k=k<16?0:k>=4080?255:k>>4,I=I<16?0:I>=4080?255:I>>4,E[r+M]=w,E[r+M+8]=x,E[r+M+16]=S,E[r+M+24]=P,E[r+M+32]=T,E[r+M+40]=C,E[r+M+48]=k,E[r+M+56]=I):(O=(O=h*w+8192>>14)<-2040?0:O>=2024?255:O+2056>>4,E[r+M]=O,E[r+M+8]=O,E[r+M+16]=O,E[r+M+24]=O,E[r+M+32]=O,E[r+M+40]=O,E[r+M+48]=O,E[r+M+56]=O)}function b(t,e){for(var n=e.blocksPerLine,r=e.blocksPerColumn,i=new Int16Array(64),o=0;o<r;o++)for(var s=0;s<n;s++){y(e,v(e,o,s),i)}return e.blockData}function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;function r(e){return t[e]<<8|t[e+1]}var i=t.length-1,o=n<e?n:e;if(e>=i)return null;var s=r(e);if(s>=65472&&s<=65534)return{invalid:null,marker:s,offset:e};for(var a=r(o);!(a>=65472&&a<=65534);){if(++o>=i)return null;a=r(o)}return{invalid:s.toString(16),marker:a,offset:o}}return p.prototype={parse:function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).dnlScanLines,r=void 0===n?null:n;function c(){var t=e[d]<<8|e[d+1];return d+=2,t}function u(){var t=c(),n=d+t-2,r=w(e,n,d);r&&r.invalid&&((0,i.warn)("readDataBlock - incorrect length, current marker is: "+r.invalid),n=r.offset);var o=e.subarray(d,n);return d+=o.length,o}function f(t){for(var e=Math.ceil(t.samplesPerLine/8/t.maxH),n=Math.ceil(t.scanLines/8/t.maxV),r=0;r<t.components.length;r++){q=t.components[r];var i=Math.ceil(Math.ceil(t.samplesPerLine/8)*q.h/t.maxH),o=Math.ceil(Math.ceil(t.scanLines/8)*q.v/t.maxV),s=e*q.h,a=64*(n*q.v)*(s+1);q.blockData=new Int16Array(a),q.blocksPerLine=i,q.blocksPerColumn=o}t.mcusPerLine=e,t.mcusPerColumn=n}var l,h,d=0,p=null,v=null,y=0,x=[],S=[],P=[],T=c();if(65496!==T)throw new o("SOI not found");T=c();t:for(;65497!==T;){var C,k,I;switch(T){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var O=u();65504===T&&74===O[0]&&70===O[1]&&73===O[2]&&70===O[3]&&0===O[4]&&(p={version:{major:O[5],minor:O[6]},densityUnits:O[7],xDensity:O[8]<<8|O[9],yDensity:O[10]<<8|O[11],thumbWidth:O[12],thumbHeight:O[13],thumbData:O.subarray(14,14+3*O[12]*O[13])}),65518===T&&65===O[0]&&100===O[1]&&111===O[2]&&98===O[3]&&101===O[4]&&(v={version:O[5]<<8|O[6],flags0:O[7]<<8|O[8],flags1:O[9]<<8|O[10],transformCode:O[11]});break;case 65499:for(var L=c()+d-2;d<L;){var E=e[d++],A=new Uint16Array(64);if(E>>4==0)for(k=0;k<64;k++)A[t[k]]=e[d++];else{if(E>>4!=1)throw new o("DQT - invalid table spec");for(k=0;k<64;k++)A[t[k]]=c()}x[15&E]=A}break;case 65472:case 65473:case 65474:if(l)throw new o("Only single frame JPEGs supported");c(),(l={}).extended=65473===T,l.progressive=65474===T,l.precision=e[d++];var M=c();l.scanLines=r||M,l.samplesPerLine=c(),l.components=[],l.componentIds={};var _,D=e[d++],R=0,B=0;for(C=0;C<D;C++){_=e[d];var U=e[d+1]>>4,N=15&e[d+1];R<U&&(R=U),B<N&&(B=N);var F=e[d+2];I=l.components.push({h:U,v:N,quantizationId:F,quantizationTable:null}),l.componentIds[_]=I-1,d+=3}l.maxH=R,l.maxV=B,f(l);break;case 65476:var j=c();for(C=2;C<j;){var z=e[d++],H=new Uint8Array(16),X=0;for(k=0;k<16;k++,d++)X+=H[k]=e[d];var Y=new Uint8Array(X);for(k=0;k<X;k++,d++)Y[k]=e[d];C+=17+X,(z>>4==0?P:S)[15&z]=m(H,Y)}break;case 65501:c(),h=c();break;case 65498:var W=1==++y&&!r;c();var q,V=e[d++],G=[];for(C=0;C<V;C++){var J=l.componentIds[e[d++]];q=l.components[J];var K=e[d++];q.huffmanTableDC=P[K>>4],q.huffmanTableAC=S[15&K],G.push(q)}var Q=e[d++],Z=e[d++],$=e[d++];try{var tt=g(e,d,l,G,h,Q,Z,$>>4,15&$,W);d+=tt}catch(t){if(t instanceof s)return(0,i.warn)(t.message+" -- attempting to re-parse the JPEG image."),this.parse(e,{dnlScanLines:t.scanLines});if(t instanceof a){(0,i.warn)(t.message+" -- ignoring the rest of the image data.");break t}throw t}break;case 65500:d+=4;break;case 65535:255!==e[d]&&d--;break;default:if(255===e[d-3]&&e[d-2]>=192&&e[d-2]<=254){d-=3;break}var et=w(e,d-2);if(et&&et.invalid){(0,i.warn)("JpegImage.parse - unexpected data, current marker is: "+et.invalid),d=et.offset;break}throw new o("unknown marker "+T.toString(16))}T=c()}for(this.width=l.samplesPerLine,this.height=l.scanLines,this.jfif=p,this.adobe=v,this.components=[],C=0;C<l.components.length;C++){var nt=x[(q=l.components[C]).quantizationId];nt&&(q.quantizationTable=nt),this.components.push({output:b(0,q),scaleX:q.h/l.maxH,scaleY:q.v/l.maxV,blocksPerLine:q.blocksPerLine,blocksPerColumn:q.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(t,e){var n,r,i,o,s,a,c,u,f,l,h,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=this.width/t,m=this.height/e,v=0,g=this.components.length,y=t*e*g,b=new Uint8ClampedArray(y),w=new Uint32Array(t);for(c=0;c<g;c++){for(r=(n=this.components[c]).scaleX*p,i=n.scaleY*m,v=c,h=n.output,o=n.blocksPerLine+1<<3,s=0;s<t;s++)u=0|s*r,w[s]=(4294967288&u)<<3|7&u;for(a=0;a<e;a++)for(l=o*(4294967288&(u=0|a*i))|(7&u)<<3,s=0;s<t;s++)b[v]=h[l+w[s]],v+=g}var x=this._decodeTransform;if(d||4!==g||x||(x=new Int32Array([-256,255,-256,255,-256,255,-256,255])),x)for(c=0;c<y;)for(u=0,f=0;u<g;u++,c++,f+=2)b[c]=(b[c]*x[f]>>8)+x[f+1];return b},get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform:1===this._colorTransform},_convertYccToRgb:function(t){for(var e,n,r,i=0,o=t.length;i<o;i+=3)e=t[i],n=t[i+1],r=t[i+2],t[i]=e-179.456+1.402*r,t[i+1]=e+135.459-.344*n-.714*r,t[i+2]=e-226.816+1.772*n;return t},_convertYcckToRgb:function(t){for(var e,n,r,i,o=0,s=0,a=t.length;s<a;s+=4)e=t[s],n=t[s+1],r=t[s+2],i=t[s+3],t[o++]=n*(-660635669420364e-19*n+.000437130475926232*r-54080610064599e-18*e+.00048449797120281*i-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*e-.00477271405408747*i+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),t[o++]=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*r+.000659397001245577*e+.000426105652938837*i-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*e+.000770482631801132*i-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),t[o++]=n*(-.000570115196973677*n-263409051004589e-19*r+.0020741088115012*e-.00288260236853442*i+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*e+.000560833691242812*i-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return t.subarray(0,o)},_convertYcckToCmyk:function(t){for(var e,n,r,i=0,o=t.length;i<o;i+=4)e=t[i],n=t[i+1],r=t[i+2],t[i]=434.456-e-1.402*r,t[i+1]=119.541-e+.344*n+.714*r,t[i+2]=481.816-e-1.772*n;return t},_convertCmykToRgb:function(t){for(var e,n,r,i,o=0,s=0,a=t.length;s<a;s+=4)e=t[s]*(1/255),n=t[s+1]*(1/255),r=t[s+2]*(1/255),i=t[s+3]*(1/255),t[o++]=255+e*(-4.387332384609988*e+54.48615194189176*n+18.82290502165302*r+212.25662451639585*i-285.2331026137004)+n*(1.7149763477362134*n-5.6096736904047315*r-17.873870861415444*i-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),t[o++]=255+e*(8.841041422036149*e+60.118027045597366*n+6.871425592049007*r+31.159100130055922*i-79.2970844816548)+n*(-15.310361306967817*n+17.575251261109482*r+131.35250912493976*i-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),t[o++]=255+e*(.8842522430003296*e+8.078677503112928*n+30.89978309703729*r-.23883238689178934*i-14.183576799673286)+n*(10.49593273432072*n+63.02378494754052*r+50.606957656360734*i-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return t.subarray(0,o)},getData:function(t){var e=t.width,n=t.height,r=t.forceRGB,i=void 0!==r&&r,s=t.isSourcePDF,a=void 0!==s&&s;if(this.numComponents>4)throw new o("Unsupported color mode");var c=this._getLinearizedBlockData(e,n,a);if(1===this.numComponents&&i){for(var u=c.length,f=new Uint8ClampedArray(3*u),l=0,h=0;h<u;h++){var d=c[h];f[l++]=d,f[l++]=d,f[l++]=d}return f}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(c);if(4===this.numComponents){if(this._isColorConversionNeeded)return i?this._convertYcckToRgb(c):this._convertYcckToCmyk(c);if(i)return this._convertCmykToRgb(c)}return c}},p}();e.JpegImage=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JpxImage=void 0;var r=n(1),i=n(114),o=function(){function t(t){this.message="JPX error: "+t}return t.prototype=new Error,t.prototype.name="JpxError",t.constructor=t,t}(),s=function(){var t={LL:0,LH:1,HL:1,HH:2};function e(){this.failOnCorruptedImage=!1}function n(t,e){t.x0=Math.ceil(e.XOsiz/t.XRsiz),t.x1=Math.ceil(e.Xsiz/t.XRsiz),t.y0=Math.ceil(e.YOsiz/t.YRsiz),t.y1=Math.ceil(e.Ysiz/t.YRsiz),t.width=t.x1-t.x0,t.height=t.y1-t.y0}function s(t,e){for(var n,r=t.SIZ,i=[],o=Math.ceil((r.Xsiz-r.XTOsiz)/r.XTsiz),s=Math.ceil((r.Ysiz-r.YTOsiz)/r.YTsiz),a=0;a<s;a++)for(var c=0;c<o;c++)(n={}).tx0=Math.max(r.XTOsiz+c*r.XTsiz,r.XOsiz),n.ty0=Math.max(r.YTOsiz+a*r.YTsiz,r.YOsiz),n.tx1=Math.min(r.XTOsiz+(c+1)*r.XTsiz,r.Xsiz),n.ty1=Math.min(r.YTOsiz+(a+1)*r.YTsiz,r.Ysiz),n.width=n.tx1-n.tx0,n.height=n.ty1-n.ty0,n.components=[],i.push(n);t.tiles=i;for(var u=0,f=r.Csiz;u<f;u++)for(var l=e[u],h=0,d=i.length;h<d;h++){var p={};n=i[h],p.tcx0=Math.ceil(n.tx0/l.XRsiz),p.tcy0=Math.ceil(n.ty0/l.YRsiz),p.tcx1=Math.ceil(n.tx1/l.XRsiz),p.tcy1=Math.ceil(n.ty1/l.YRsiz),p.width=p.tcx1-p.tcx0,p.height=p.tcy1-p.tcy0,n.components[u]=p}}function a(t,e,n){var r=e.codingStyleParameters,i={};return r.entropyCoderWithCustomPrecincts?(i.PPx=r.precinctsSizes[n].PPx,i.PPy=r.precinctsSizes[n].PPy):(i.PPx=15,i.PPy=15),i.xcb_=n>0?Math.min(r.xcb,i.PPx-1):Math.min(r.xcb,i.PPx),i.ycb_=n>0?Math.min(r.ycb,i.PPy-1):Math.min(r.ycb,i.PPy),i}function c(t,e,n){var r=1<<n.PPx,i=1<<n.PPy,o=0===e.resLevel,s=1<<n.PPx+(o?0:-1),a=1<<n.PPy+(o?0:-1),c=e.trx1>e.trx0?Math.ceil(e.trx1/r)-Math.floor(e.trx0/r):0,u=e.try1>e.try0?Math.ceil(e.try1/i)-Math.floor(e.try0/i):0,f=c*u;e.precinctParameters={precinctWidth:r,precinctHeight:i,numprecinctswide:c,numprecinctshigh:u,numprecincts:f,precinctWidthInSubband:s,precinctHeightInSubband:a}}function u(t,e,n){var r,i,o,s,a=n.xcb_,c=n.ycb_,u=1<<a,f=1<<c,l=e.tbx0>>a,h=e.tby0>>c,d=e.tbx1+u-1>>a,p=e.tby1+f-1>>c,m=e.resolution.precinctParameters,v=[],g=[];for(i=h;i<p;i++)for(r=l;r<d;r++){if((o={cbx:r,cby:i,tbx0:u*r,tby0:f*i,tbx1:u*(r+1),tby1:f*(i+1)}).tbx0_=Math.max(e.tbx0,o.tbx0),o.tby0_=Math.max(e.tby0,o.tby0),o.tbx1_=Math.min(e.tbx1,o.tbx1),o.tby1_=Math.min(e.tby1,o.tby1),s=Math.floor((o.tbx0_-e.tbx0)/m.precinctWidthInSubband)+Math.floor((o.tby0_-e.tby0)/m.precinctHeightInSubband)*m.numprecinctswide,o.precinctNumber=s,o.subbandType=e.type,o.Lblock=3,!(o.tbx1_<=o.tbx0_||o.tby1_<=o.tby0_)){v.push(o);var y=g[s];void 0!==y?(r<y.cbxMin?y.cbxMin=r:r>y.cbxMax&&(y.cbxMax=r),i<y.cbyMin?y.cbxMin=i:i>y.cbyMax&&(y.cbyMax=i)):g[s]=y={cbxMin:r,cbyMin:i,cbxMax:r,cbyMax:i},o.precinct=y}}e.codeblockParameters={codeblockWidth:a,codeblockHeight:c,numcodeblockwide:d-l+1,numcodeblockhigh:p-h+1},e.codeblocks=v,e.precincts=g}function f(t,e,n){for(var r=[],i=t.subbands,o=0,s=i.length;o<s;o++)for(var a=i[o].codeblocks,c=0,u=a.length;c<u;c++){var f=a[c];f.precinctNumber===e&&r.push(f)}return{layerNumber:n,codeblocks:r}}function l(t,e,n,r,i){var o=t*r.minWidth,s=e*r.minHeight;if(o%n.width!=0||s%n.height!=0)return null;var a=s/n.width*i.precinctParameters.numprecinctswide;return o/n.height+a}function h(t){for(var e=t.components.length,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=0,o=0,s=new Array(e),a=0;a<e;a++){for(var c=t.components[a],u=c.codingStyleParameters.decompositionLevelsCount,f=new Array(u+1),l=Number.MAX_VALUE,h=Number.MAX_VALUE,d=0,p=0,m=1,v=u;v>=0;--v){var g=c.resolutions[v],y=m*g.precinctParameters.precinctWidth,b=m*g.precinctParameters.precinctHeight;l=Math.min(l,y),h=Math.min(h,b),d=Math.max(d,g.precinctParameters.numprecinctswide),p=Math.max(p,g.precinctParameters.numprecinctshigh),f[v]={width:y,height:b},m<<=1}n=Math.min(n,l),r=Math.min(r,h),i=Math.max(i,d),o=Math.max(o,p),s[a]={resolutions:f,minWidth:l,minHeight:h,maxNumWide:d,maxNumHigh:p}}return{components:s,minWidth:n,minHeight:r,maxNumWide:i,maxNumHigh:o}}function d(t){for(var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=e.Csiz,s=0;s<i;s++){for(var d=r.components[s],p=d.codingStyleParameters.decompositionLevelsCount,m=[],v=[],g=0;g<=p;g++){var y,b=a(0,d,g),w={},x=1<<p-g;if(w.trx0=Math.ceil(d.tcx0/x),w.try0=Math.ceil(d.tcy0/x),w.trx1=Math.ceil(d.tcx1/x),w.try1=Math.ceil(d.tcy1/x),w.resLevel=g,c(0,w,b),m.push(w),0===g)(y={}).type="LL",y.tbx0=Math.ceil(d.tcx0/x),y.tby0=Math.ceil(d.tcy0/x),y.tbx1=Math.ceil(d.tcx1/x),y.tby1=Math.ceil(d.tcy1/x),y.resolution=w,u(0,y,b),v.push(y),w.subbands=[y];else{var S=1<<p-g+1,P=[];(y={}).type="HL",y.tbx0=Math.ceil(d.tcx0/S-.5),y.tby0=Math.ceil(d.tcy0/S),y.tbx1=Math.ceil(d.tcx1/S-.5),y.tby1=Math.ceil(d.tcy1/S),y.resolution=w,u(0,y,b),v.push(y),P.push(y),(y={}).type="LH",y.tbx0=Math.ceil(d.tcx0/S),y.tby0=Math.ceil(d.tcy0/S-.5),y.tbx1=Math.ceil(d.tcx1/S),y.tby1=Math.ceil(d.tcy1/S-.5),y.resolution=w,u(0,y,b),v.push(y),P.push(y),(y={}).type="HH",y.tbx0=Math.ceil(d.tcx0/S-.5),y.tby0=Math.ceil(d.tcy0/S-.5),y.tbx1=Math.ceil(d.tcx1/S-.5),y.tby1=Math.ceil(d.tcy1/S-.5),y.resolution=w,u(0,y,b),v.push(y),P.push(y),w.subbands=P}}d.resolutions=m,d.subbands=v}var T=r.codingStyleDefaultParameters.progressionOrder;switch(T){case 0:r.packetsIterator=new function(t){for(var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=r.codingStyleDefaultParameters.layersCount,s=e.Csiz,a=0,c=0;c<s;c++)a=Math.max(a,r.components[c].codingStyleParameters.decompositionLevelsCount);var u=0,l=0,h=0,d=0;this.nextPacket=function(){for(;u<i;u++){for(;l<=a;l++){for(;h<s;h++){var t=r.components[h];if(!(l>t.codingStyleParameters.decompositionLevelsCount)){for(var e=t.resolutions[l],n=e.precinctParameters.numprecincts;d<n;){var c=f(e,d,u);return d++,c}d=0}}h=0}l=0}throw new o("Out of packets")}}(t);break;case 1:r.packetsIterator=new function(t){for(var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=r.codingStyleDefaultParameters.layersCount,s=e.Csiz,a=0,c=0;c<s;c++)a=Math.max(a,r.components[c].codingStyleParameters.decompositionLevelsCount);var u=0,l=0,h=0,d=0;this.nextPacket=function(){for(;u<=a;u++){for(;l<i;l++){for(;h<s;h++){var t=r.components[h];if(!(u>t.codingStyleParameters.decompositionLevelsCount)){for(var e=t.resolutions[u],n=e.precinctParameters.numprecincts;d<n;){var c=f(e,d,l);return d++,c}d=0}}h=0}l=0}throw new o("Out of packets")}}(t);break;case 2:r.packetsIterator=new function(t){var e,n,r,i,s=t.SIZ,a=t.currentTile.index,c=t.tiles[a],u=c.codingStyleDefaultParameters.layersCount,l=s.Csiz,h=0;for(r=0;r<l;r++){var d=c.components[r];h=Math.max(h,d.codingStyleParameters.decompositionLevelsCount)}var p=new Int32Array(h+1);for(n=0;n<=h;++n){var m=0;for(r=0;r<l;++r){var v=c.components[r].resolutions;n<v.length&&(m=Math.max(m,v[n].precinctParameters.numprecincts))}p[n]=m}e=0,n=0,r=0,i=0,this.nextPacket=function(){for(;n<=h;n++){for(;i<p[n];i++){for(;r<l;r++){var t=c.components[r];if(!(n>t.codingStyleParameters.decompositionLevelsCount)){var s=t.resolutions[n],a=s.precinctParameters.numprecincts;if(!(i>=a)){for(;e<u;){var d=f(s,i,e);return e++,d}e=0}}}r=0}i=0}throw new o("Out of packets")}}(t);break;case 3:r.packetsIterator=new function(t){var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=r.codingStyleDefaultParameters.layersCount,s=e.Csiz,a=h(r),c=a,u=0,d=0,p=0,m=0,v=0;this.nextPacket=function(){for(;v<c.maxNumHigh;v++){for(;m<c.maxNumWide;m++){for(;p<s;p++){for(var t=r.components[p],e=t.codingStyleParameters.decompositionLevelsCount;d<=e;d++){var n=t.resolutions[d],h=a.components[p].resolutions[d],g=l(m,v,h,c,n);if(null!==g){for(;u<i;){var y=f(n,g,u);return u++,y}u=0}}d=0}p=0}m=0}throw new o("Out of packets")}}(t);break;case 4:r.packetsIterator=new function(t){var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=r.codingStyleDefaultParameters.layersCount,s=e.Csiz,a=h(r),c=0,u=0,d=0,p=0,m=0;this.nextPacket=function(){for(;d<s;++d){for(var t=r.components[d],e=a.components[d],n=t.codingStyleParameters.decompositionLevelsCount;m<e.maxNumHigh;m++){for(;p<e.maxNumWide;p++){for(;u<=n;u++){var h=t.resolutions[u],v=e.resolutions[u],g=l(p,m,v,e,h);if(null!==g){for(;c<i;){var y=f(h,g,c);return c++,y}c=0}}u=0}p=0}m=0}throw new o("Out of packets")}}(t);break;default:throw new o("Unsupported progression order "+T)}}function p(t,e,n,i){var o,s=0,a=0,c=!1;function u(t){for(;a<t;){var r=e[n+s];s++,c?(o=o<<7|r,a+=7,c=!1):(o=o<<8|r,a+=8),255===r&&(c=!0)}return o>>>(a-=t)&(1<<t)-1}function f(t){return 255===e[n+s-1]&&e[n+s]===t?(l(1),!0):255===e[n+s]&&e[n+s+1]===t&&(l(2),!0)}function l(t){s+=t}function h(){a=0,c&&(s++,c=!1)}function d(){if(0===u(1))return 1;if(0===u(1))return 2;var t=u(2);return t<3?t+3:(t=u(5))<31?t+6:(t=u(7))+37}for(var p=t.currentTile.index,m=t.tiles[p],v=t.COD.sopMarkerUsed,g=t.COD.ephMarkerUsed,w=m.packetsIterator;s<i;){h(),v&&f(145)&&l(4);var x=w.nextPacket();if(u(1)){for(var S,P=x.layerNumber,T=[],C=0,k=x.codeblocks.length;C<k;C++){var I=(S=x.codeblocks[C]).precinct,O=S.cbx-I.cbxMin,L=S.cby-I.cbyMin,E=!1,A=!1;if(void 0!==S.included)E=!!u(1);else{var M,_;if(void 0!==(I=S.precinct).inclusionTree)M=I.inclusionTree;else{var D=I.cbxMax-I.cbxMin+1,R=I.cbyMax-I.cbyMin+1;M=new b(D,R,P),_=new y(D,R),I.inclusionTree=M,I.zeroBitPlanesTree=_}if(M.reset(O,L,P))for(;;){if(!u(1)){M.incrementValue(P);break}if(!M.nextLevel()){S.included=!0,E=A=!0;break}}}if(E){if(A){for((_=I.zeroBitPlanesTree).reset(O,L);;)if(u(1)){if(!_.nextLevel())break}else _.incrementValue();S.zeroBitPlanes=_.value}for(var B=d();u(1);)S.Lblock++;var U=(0,r.log2)(B),N=u((B<1<<U?U-1:U)+S.Lblock);T.push({codeblock:S,codingpasses:B,dataLength:N})}}for(h(),g&&f(146);T.length>0;){var F=T.shift();void 0===(S=F.codeblock).data&&(S.data=[]),S.data.push({data:e,start:n+s,end:n+s+F.dataLength,codingpasses:F.codingpasses}),s+=F.dataLength}}}return s}function m(t,e,n,r,o,s,a,c){for(var u=r.tbx0,f=r.tby0,l=r.tbx1-r.tbx0,h=r.codeblocks,d="H"===r.type.charAt(0)?1:0,p="H"===r.type.charAt(1)?e:0,m=0,v=h.length;m<v;++m){var g=h[m],y=g.tbx1_-g.tbx0_,b=g.tby1_-g.tby0_;if(0!==y&&0!==b&&void 0!==g.data){var x,S;x=new w(y,b,g.subbandType,g.zeroBitPlanes,s),S=2;var P,T,C,k=g.data,I=0,O=0;for(P=0,T=k.length;P<T;P++)I+=(C=k[P]).end-C.start,O+=C.codingpasses;var L=new Uint8Array(I),E=0;for(P=0,T=k.length;P<T;P++){var A=(C=k[P]).data.subarray(C.start,C.end);L.set(A,E),E+=A.length}var M=new i.ArithmeticDecoder(L,0,I);for(x.setDecoder(M),P=0;P<O;P++){switch(S){case 0:x.runSignificancePropagationPass();break;case 1:x.runMagnitudeRefinementPass();break;case 2:x.runCleanupPass(),c&&x.checkSegmentationSymbol()}S=(S+1)%3}var _,D,R,B=g.tbx0_-u+(g.tby0_-f)*l,U=x.coefficentsSign,N=x.coefficentsMagnitude,F=x.bitsDecoded,j=a?0:.5;E=0;var z="LL"!==r.type;for(P=0;P<b;P++){var H=2*(B/l|0)*(e-l)+d+p;for(_=0;_<y;_++){if(0!==(D=N[E])){D=(D+j)*o,0!==U[E]&&(D=-D),R=F[E];var X=z?H+(B<<1):B;t[X]=a&&R>=s?D:D*(1<<s-R)}B++,E++}B+=l-y}}}}function v(e,n,r){for(var i=n.components[r],o=i.codingStyleParameters,s=i.quantizationParameters,a=o.decompositionLevelsCount,c=s.SPqcds,u=s.scalarExpounded,f=s.guardBits,l=o.segmentationSymbolUsed,h=e.components[r].precision,d=o.reversibleTransformation,p=d?new P:new S,v=[],g=0,y=0;y<=a;y++){for(var b=i.resolutions[y],w=b.trx1-b.trx0,x=b.try1-b.try0,T=new Float32Array(w*x),C=0,k=b.subbands.length;C<k;C++){var I,O;u?(I=c[g].mu,O=c[g].epsilon,g++):(I=c[0].mu,O=c[0].epsilon+(y>0?1-y:0));var L=b.subbands[C],E=t[L.type];m(T,w,0,L,d?1:Math.pow(2,h+E-O)*(1+I/2048),f+O-1,d,l)}v.push({width:w,height:x,items:T})}var A=p.calculate(v,i.tcx0,i.tcy0);return{left:i.tcx0,top:i.tcy0,width:A.width,height:A.height,items:A.items}}function g(t,e){for(var n=t.SIZ.Csiz,r=t.tiles[e],i=0;i<n;i++){var o=r.components[i],s=void 0!==t.currentTile.QCC[i]?t.currentTile.QCC[i]:t.currentTile.QCD;o.quantizationParameters=s;var a=void 0!==t.currentTile.COC[i]?t.currentTile.COC[i]:t.currentTile.COD;o.codingStyleParameters=a}r.codingStyleDefaultParameters=t.currentTile.COD}e.prototype={parse:function(t){if(65359!==(0,r.readUint16)(t,0))for(var e=0,n=t.length;e<n;){var i=8,s=(0,r.readUint32)(t,e),a=(0,r.readUint32)(t,e+4);if(e+=i,1===s&&(s=4294967296*(0,r.readUint32)(t,e)+(0,r.readUint32)(t,e+4),e+=8,i+=8),0===s&&(s=n-e+i),s<i)throw new o("Invalid box field size");var c=s-i,u=!0;switch(a){case 1785737832:u=!1;break;case 1668246642:var f=t[e];if(1===f){var l=(0,r.readUint32)(t,e+3);switch(l){case 16:case 17:case 18:break;default:(0,r.warn)("Unknown colorspace "+l)}}else 2===f&&(0,r.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(t,e,e+c);break;case 1783636e3:218793738!==(0,r.readUint32)(t,e)&&(0,r.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var h=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);(0,r.warn)("Unsupported header type "+a+" ("+h+")")}u&&(e+=c)}else this.parseCodestream(t,0,t.length)},parseImageProperties:function(t){for(var e=t.getByte();e>=0;){if(65361===(e<<8|(e=t.getByte()))){t.skip(4);var n=t.getInt32()>>>0,r=t.getInt32()>>>0,i=t.getInt32()>>>0,s=t.getInt32()>>>0;t.skip(16);var a=t.getUint16();return this.width=n-i,this.height=r-s,this.componentsCount=a,void(this.bitsPerComponent=8)}}throw new o("No size marker found in JPX stream")},parseCodestream:function(t,e,i){var a={},c=!1;try{for(var u=e;u+1<i;){var f=(0,r.readUint16)(t,u);u+=2;var l,h,m,y,b,w,x=0;switch(f){case 65359:a.mainHeader=!0;break;case 65497:break;case 65361:x=(0,r.readUint16)(t,u);var S={};S.Xsiz=(0,r.readUint32)(t,u+4),S.Ysiz=(0,r.readUint32)(t,u+8),S.XOsiz=(0,r.readUint32)(t,u+12),S.YOsiz=(0,r.readUint32)(t,u+16),S.XTsiz=(0,r.readUint32)(t,u+20),S.YTsiz=(0,r.readUint32)(t,u+24),S.XTOsiz=(0,r.readUint32)(t,u+28),S.YTOsiz=(0,r.readUint32)(t,u+32);var P=(0,r.readUint16)(t,u+36);S.Csiz=P;var T=[];l=u+38;for(var C=0;C<P;C++){var k={precision:1+(127&t[l]),isSigned:!!(128&t[l]),XRsiz:t[l+1],YRsiz:t[l+2]};l+=3,n(k,S),T.push(k)}a.SIZ=S,a.components=T,s(a,T),a.QCC=[],a.COC=[];break;case 65372:x=(0,r.readUint16)(t,u);var I={};switch(l=u+2,31&(h=t[l++])){case 0:y=8,b=!0;break;case 1:y=16,b=!1;break;case 2:y=16,b=!0;break;default:throw new Error("Invalid SQcd value "+h)}for(I.noQuantization=8===y,I.scalarExpounded=b,I.guardBits=h>>5,m=[];l<x+u;){var O={};8===y?(O.epsilon=t[l++]>>3,O.mu=0):(O.epsilon=t[l]>>3,O.mu=(7&t[l])<<8|t[l+1],l+=2),m.push(O)}I.SPqcds=m,a.mainHeader?a.QCD=I:(a.currentTile.QCD=I,a.currentTile.QCC=[]);break;case 65373:x=(0,r.readUint16)(t,u);var L,E={};switch(l=u+2,a.SIZ.Csiz<257?L=t[l++]:(L=(0,r.readUint16)(t,l),l+=2),31&(h=t[l++])){case 0:y=8,b=!0;break;case 1:y=16,b=!1;break;case 2:y=16,b=!0;break;default:throw new Error("Invalid SQcd value "+h)}for(E.noQuantization=8===y,E.scalarExpounded=b,E.guardBits=h>>5,m=[];l<x+u;)O={},8===y?(O.epsilon=t[l++]>>3,O.mu=0):(O.epsilon=t[l]>>3,O.mu=(7&t[l])<<8|t[l+1],l+=2),m.push(O);E.SPqcds=m,a.mainHeader?a.QCC[L]=E:a.currentTile.QCC[L]=E;break;case 65362:x=(0,r.readUint16)(t,u);var A={};l=u+2;var M=t[l++];A.entropyCoderWithCustomPrecincts=!!(1&M),A.sopMarkerUsed=!!(2&M),A.ephMarkerUsed=!!(4&M),A.progressionOrder=t[l++],A.layersCount=(0,r.readUint16)(t,l),l+=2,A.multipleComponentTransform=t[l++],A.decompositionLevelsCount=t[l++],A.xcb=2+(15&t[l++]),A.ycb=2+(15&t[l++]);var _=t[l++];if(A.selectiveArithmeticCodingBypass=!!(1&_),A.resetContextProbabilities=!!(2&_),A.terminationOnEachCodingPass=!!(4&_),A.verticallyStripe=!!(8&_),A.predictableTermination=!!(16&_),A.segmentationSymbolUsed=!!(32&_),A.reversibleTransformation=t[l++],A.entropyCoderWithCustomPrecincts){for(var D=[];l<x+u;){var R=t[l++];D.push({PPx:15&R,PPy:R>>4})}A.precinctsSizes=D}var B=[];if(A.selectiveArithmeticCodingBypass&&B.push("selectiveArithmeticCodingBypass"),A.resetContextProbabilities&&B.push("resetContextProbabilities"),A.terminationOnEachCodingPass&&B.push("terminationOnEachCodingPass"),A.verticallyStripe&&B.push("verticallyStripe"),A.predictableTermination&&B.push("predictableTermination"),B.length>0)throw c=!0,new Error("Unsupported COD options ("+B.join(", ")+")");a.mainHeader?a.COD=A:(a.currentTile.COD=A,a.currentTile.COC=[]);break;case 65424:x=(0,r.readUint16)(t,u),(w={}).index=(0,r.readUint16)(t,u+2),w.length=(0,r.readUint32)(t,u+4),w.dataEnd=w.length+u-2,w.partIndex=t[u+8],w.partsCount=t[u+9],a.mainHeader=!1,0===w.partIndex&&(w.COD=a.COD,w.COC=a.COC.slice(0),w.QCD=a.QCD,w.QCC=a.QCC.slice(0)),a.currentTile=w;break;case 65427:0===(w=a.currentTile).partIndex&&(g(a,w.index),d(a)),p(a,t,u,x=w.dataEnd-u);break;case 65365:case 65367:case 65368:case 65380:x=(0,r.readUint16)(t,u);break;case 65363:throw new Error("Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("Unknown codestream code: "+f.toString(16))}u+=x}}catch(t){if(c||this.failOnCorruptedImage)throw new o(t.message);(0,r.warn)("JPX: Trying to recover from: "+t.message)}this.tiles=function(t){for(var e=t.SIZ,n=t.components,r=e.Csiz,i=[],o=0,s=t.tiles.length;o<s;o++){var a,c=t.tiles[o],u=[];for(a=0;a<r;a++)u[a]=v(t,c,a);var f,l,h,d,p,m,g,y=u[0],b=new Uint8ClampedArray(y.items.length*r),w={left:y.left,top:y.top,width:y.width,height:y.height,items:b},x=0;if(c.codingStyleDefaultParameters.multipleComponentTransform){var S=4===r,P=u[0].items,T=u[1].items,C=u[2].items,k=S?u[3].items:null;f=n[0].precision-8,l=.5+(128<<f);var I=c.components[0],O=r-3;if(d=P.length,I.codingStyleParameters.reversibleTransformation)for(h=0;h<d;h++,x+=O){p=P[h]+l,m=T[h],g=C[h];var L=p-(g+m>>2);b[x++]=L+g>>f,b[x++]=L>>f,b[x++]=L+m>>f}else for(h=0;h<d;h++,x+=O)p=P[h]+l,m=T[h],g=C[h],b[x++]=p+1.402*g>>f,b[x++]=p-.34413*m-.71414*g>>f,b[x++]=p+1.772*m>>f;if(S)for(h=0,x=3;h<d;h++,x+=4)b[x]=k[h]+l>>f}else for(a=0;a<r;a++){var E=u[a].items;for(f=n[a].precision-8,l=.5+(128<<f),x=a,h=0,d=E.length;h<d;h++)b[x]=E[h]+l>>f,x+=r}i.push(w)}return i}(a),this.width=a.SIZ.Xsiz-a.SIZ.XOsiz,this.height=a.SIZ.Ysiz-a.SIZ.YOsiz,this.componentsCount=a.SIZ.Csiz}};var y=function(){function t(t,e){var n=(0,r.log2)(Math.max(t,e))+1;this.levels=[];for(var i=0;i<n;i++){var o={width:t,height:e,items:[]};this.levels.push(o),t=Math.ceil(t/2),e=Math.ceil(e/2)}}return t.prototype={reset:function(t,e){for(var n,r=0,i=0;r<this.levels.length;){var o=t+e*(n=this.levels[r]).width;if(void 0!==n.items[o]){i=n.items[o];break}n.index=o,t>>=1,e>>=1,r++}r--,(n=this.levels[r]).items[n.index]=i,this.currentLevel=r,delete this.value},incrementValue:function(){var t=this.levels[this.currentLevel];t.items[t.index]++},nextLevel:function(){var t=this.currentLevel,e=this.levels[t],n=e.items[e.index];return--t<0?(this.value=n,!1):(this.currentLevel=t,(e=this.levels[t]).items[e.index]=n,!0)}},t}(),b=function(){function t(t,e,n){var i=(0,r.log2)(Math.max(t,e))+1;this.levels=[];for(var o=0;o<i;o++){for(var s=new Uint8Array(t*e),a=0,c=s.length;a<c;a++)s[a]=n;var u={width:t,height:e,items:s};this.levels.push(u),t=Math.ceil(t/2),e=Math.ceil(e/2)}}return t.prototype={reset:function(t,e,n){for(var r=0;r<this.levels.length;){var i=this.levels[r],o=t+e*i.width;i.index=o;var s=i.items[o];if(255===s)break;if(s>n)return this.currentLevel=r,this.propagateValues(),!1;t>>=1,e>>=1,r++}return this.currentLevel=r-1,!0},incrementValue:function(t){var e=this.levels[this.currentLevel];e.items[e.index]=t+1,this.propagateValues()},propagateValues:function(){for(var t=this.currentLevel,e=this.levels[t],n=e.items[e.index];--t>=0;)(e=this.levels[t]).items[e.index]=n},nextLevel:function(){var t=this.currentLevel,e=this.levels[t],n=e.items[e.index];return e.items[e.index]=255,!(--t<0)&&(this.currentLevel=t,(e=this.levels[t]).items[e.index]=n,!0)}},t}(),w=function(){var t=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),e=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),n=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);function r(r,i,o,s,a){this.width=r,this.height=i,this.contextLabelTable="HH"===o?n:"HL"===o?e:t;var c=r*i;this.neighborsSignificance=new Uint8Array(c),this.coefficentsSign=new Uint8Array(c),this.coefficentsMagnitude=a>14?new Uint32Array(c):a>6?new Uint16Array(c):new Uint8Array(c),this.processingFlags=new Uint8Array(c);var u=new Uint8Array(c);if(0!==s)for(var f=0;f<c;f++)u[f]=s;this.bitsDecoded=u,this.reset()}return r.prototype={setDecoder:function(t){this.decoder=t},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6},setNeighborsSignificance:function(t,e,n){var r,i=this.neighborsSignificance,o=this.width,s=this.height,a=e>0,c=e+1<o;t>0&&(r=n-o,a&&(i[r-1]+=16),c&&(i[r+1]+=16),i[r]+=4),t+1<s&&(r=n+o,a&&(i[r-1]+=16),c&&(i[r+1]+=16),i[r]+=4),a&&(i[n-1]+=1),c&&(i[n+1]+=1),i[n]|=128},runSignificancePropagationPass:function(){for(var t=this.decoder,e=this.width,n=this.height,r=this.coefficentsMagnitude,i=this.coefficentsSign,o=this.neighborsSignificance,s=this.processingFlags,a=this.contexts,c=this.contextLabelTable,u=this.bitsDecoded,f=0;f<n;f+=4)for(var l=0;l<e;l++)for(var h=f*e+l,d=0;d<4;d++,h+=e){var p=f+d;if(p>=n)break;if(s[h]&=-2,!r[h]&&o[h]){var m=c[o[h]];if(t.readBit(a,m)){var v=this.decodeSignBit(p,l,h);i[h]=v,r[h]=1,this.setNeighborsSignificance(p,l,h),s[h]|=2}u[h]++,s[h]|=1}}},decodeSignBit:function(t,e,n){var r,i,o,s,a,c,u=this.width,f=this.height,l=this.coefficentsMagnitude,h=this.coefficentsSign;s=e>0&&0!==l[n-1],e+1<u&&0!==l[n+1]?(o=h[n+1],r=s?1-o-(i=h[n-1]):1-o-o):r=s?1-(i=h[n-1])-i:0;var d=3*r;return s=t>0&&0!==l[n-u],t+1<f&&0!==l[n+u]?(o=h[n+u],r=s?1-o-(i=h[n-u])+d:1-o-o+d):r=s?1-(i=h[n-u])-i+d:d,r>=0?(a=9+r,c=this.decoder.readBit(this.contexts,a)):(a=9-r,c=1^this.decoder.readBit(this.contexts,a)),c},runMagnitudeRefinementPass:function(){for(var t,e=this.decoder,n=this.width,r=this.height,i=this.coefficentsMagnitude,o=this.neighborsSignificance,s=this.contexts,a=this.bitsDecoded,c=this.processingFlags,u=n*r,f=4*n,l=0;l<u;l=t){t=Math.min(u,l+f);for(var h=0;h<n;h++)for(var d=l+h;d<t;d+=n)if(i[d]&&0==(1&c[d])){var p=16;if(0!=(2&c[d]))c[d]^=2,p=0===(127&o[d])?15:14;var m=e.readBit(s,p);i[d]=i[d]<<1|m,a[d]++,c[d]|=1}}},runCleanupPass:function(){for(var t,e=this.decoder,n=this.width,r=this.height,i=this.neighborsSignificance,o=this.coefficentsMagnitude,s=this.coefficentsSign,a=this.contexts,c=this.contextLabelTable,u=this.bitsDecoded,f=this.processingFlags,l=n,h=2*n,d=3*n,p=0;p<r;p=t){t=Math.min(p+4,r);for(var m=p*n,v=p+3<r,g=0;g<n;g++){var y,b=m+g,w=0,x=b,S=p;if(v&&0===f[b]&&0===f[b+l]&&0===f[b+h]&&0===f[b+d]&&0===i[b]&&0===i[b+l]&&0===i[b+h]&&0===i[b+d]){if(!e.readBit(a,18)){u[b]++,u[b+l]++,u[b+h]++,u[b+d]++;continue}0!==(w=e.readBit(a,17)<<1|e.readBit(a,17))&&(S=p+w,x+=w*n),y=this.decodeSignBit(S,g,x),s[x]=y,o[x]=1,this.setNeighborsSignificance(S,g,x),f[x]|=2,x=b;for(var P=p;P<=S;P++,x+=n)u[x]++;w++}for(S=p+w;S<t;S++,x+=n)if(!o[x]&&0==(1&f[x])){var T=c[i[x]];1===e.readBit(a,T)&&(y=this.decodeSignBit(S,g,x),s[x]=y,o[x]=1,this.setNeighborsSignificance(S,g,x),f[x]|=2),u[x]++}}}},checkSegmentationSymbol:function(){var t=this.decoder,e=this.contexts;if(10!==(t.readBit(e,17)<<3|t.readBit(e,17)<<2|t.readBit(e,17)<<1|t.readBit(e,17)))throw new o("Invalid segmentation symbol")}},r}(),x=function(){function t(){}return t.prototype.calculate=function(t,e,n){for(var r=t[0],i=1,o=t.length;i<o;i++)r=this.iterate(r,t[i],e,n);return r},t.prototype.extend=function(t,e,n){var r=e-1,i=e+1,o=e+n-2,s=e+n;t[r--]=t[i++],t[s++]=t[o--],t[r--]=t[i++],t[s++]=t[o--],t[r--]=t[i++],t[s++]=t[o--],t[r]=t[i],t[s]=t[o]},t.prototype.iterate=function(t,e,n,r){var i,o,s,a,c,u,f=t.width,l=t.height,h=t.items,d=e.width,p=e.height,m=e.items;for(s=0,i=0;i<l;i++)for(a=2*i*d,o=0;o<f;o++,s++,a+=2)m[a]=h[s];h=t.items=null;var v=new Float32Array(d+8);if(1===d){if(0!=(1&n))for(u=0,s=0;u<p;u++,s+=d)m[s]*=.5}else for(u=0,s=0;u<p;u++,s+=d)v.set(m.subarray(s,s+d),4),this.extend(v,4,d),this.filter(v,4,d),m.set(v.subarray(4,4+d),s);var g=16,y=[];for(i=0;i<g;i++)y.push(new Float32Array(p+8));var b,w=0;if(t=4+p,1===p){if(0!=(1&r))for(c=0;c<d;c++)m[c]*=.5}else for(c=0;c<d;c++){if(0===w){for(g=Math.min(d-c,g),s=c,a=4;a<t;s+=d,a++)for(b=0;b<g;b++)y[b][a]=m[s+b];w=g}var x=y[--w];if(this.extend(x,4,p),this.filter(x,4,p),0===w)for(s=c-g+1,a=4;a<t;s+=d,a++)for(b=0;b<g;b++)m[s+b]=y[b][a]}return{width:d,height:p,items:m}},t}(),S=function(){function t(){x.call(this)}return t.prototype=Object.create(x.prototype),t.prototype.filter=function(t,e,n){var r,i,o,s,a=n>>1,c=-1.586134342059924,u=-.052980118572961,f=.882911075530934,l=.443506852043971,h=1.230174104914001;for(r=(e|=0)-3,i=a+4;i--;r+=2)t[r]*=.8128930661159609;for(o=l*t[(r=e-2)-1],i=a+3;i--&&(s=l*t[r+1],t[r]=h*t[r]-o-s,i--);r+=2)o=l*t[(r+=2)+1],t[r]=h*t[r]-o-s;for(o=f*t[(r=e-1)-1],i=a+2;i--&&(s=f*t[r+1],t[r]-=o+s,i--);r+=2)o=f*t[(r+=2)+1],t[r]-=o+s;for(o=u*t[(r=e)-1],i=a+1;i--&&(s=u*t[r+1],t[r]-=o+s,i--);r+=2)o=u*t[(r+=2)+1],t[r]-=o+s;if(0!==a)for(o=c*t[(r=e+1)-1],i=a;i--&&(s=c*t[r+1],t[r]-=o+s,i--);r+=2)o=c*t[(r+=2)+1],t[r]-=o+s},t}(),P=function(){function t(){x.call(this)}return t.prototype=Object.create(x.prototype),t.prototype.filter=function(t,e,n){var r,i,o=n>>1;for(r=e|=0,i=o+1;i--;r+=2)t[r]-=t[r-1]+t[r+1]+2>>2;for(r=e+1,i=o;i--;r+=2)t[r]+=t[r-1]+t[r+1]>>1},t}();return e}();e.JpxImage=s}])});