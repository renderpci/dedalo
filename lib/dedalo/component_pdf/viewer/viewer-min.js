"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}!function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i={};r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===_typeof2(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function e(){return t.default}:function e(){return t};return r.d(e,"a",e),e},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){function i(){return{appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),eventBus:null,toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelectContainer:document.getElementById("scaleSelectContainer"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),openFile:document.getElementById("openFile"),print:document.getElementById("print"),presentationModeButton:document.getElementById("presentationMode"),download:document.getElementById("download"),viewBookmark:document.getElementById("viewBookmark")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),toolbarButtonContainer:document.getElementById("secondaryToolbarButtonContainer"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFileButton:document.getElementById("secondaryOpenFile"),printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("secondaryViewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),scrollVerticalButton:document.getElementById("scrollVertical"),scrollHorizontalButton:document.getElementById("scrollHorizontal"),scrollWrappedButton:document.getElementById("scrollWrapped"),spreadNoneButton:document.getElementById("spreadNone"),spreadOddButton:document.getElementById("spreadOdd"),spreadEvenButton:document.getElementById("spreadEven"),documentPropertiesButton:document.getElementById("documentProperties")},fullscreen:{contextFirstPage:document.getElementById("contextFirstPage"),contextLastPage:document.getElementById("contextLastPage"),contextPageRotateCw:document.getElementById("contextPageRotateCw"),contextPageRotateCcw:document.getElementById("contextPageRotateCcw")},sidebar:{outerContainer:document.getElementById("outerContainer"),viewerContainer:document.getElementById("viewerContainer"),toggleButton:document.getElementById("sidebarToggle"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView")},sidebarResizer:{outerContainer:document.getElementById("outerContainer"),resizer:document.getElementById("sidebarResizer")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),entireWordCheckbox:document.getElementById("findEntireWord"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{overlayName:"passwordOverlay",container:document.getElementById("passwordOverlay"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{overlayName:"documentPropertiesOverlay",container:document.getElementById("documentPropertiesOverlay"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField"),pageSize:document.getElementById("pageSizeField"),linearized:document.getElementById("linearizedField")}},errorWrapper:{container:document.getElementById("errorWrapper"),errorMessage:document.getElementById("errorMessage"),closeButton:document.getElementById("errorClose"),errorMoreInfo:document.getElementById("errorMoreInfo"),moreInfoButton:document.getElementById("errorShowMore"),lessInfoButton:document.getElementById("errorShowLess")},printContainer:document.getElementById("printContainer"),openFileInputName:"fileInput",debuggerScriptPath:"./debugger.js"}}function r(){var e=i();window.PDFViewerApplication=a.PDFViewerApplication,window.PDFViewerApplicationOptions=o.AppOptions,a.PDFViewerApplication.run(e)}var a=void 0,o=void 0;a=n(1),o=n(12),n(38),n(43),"interactive"===document.readyState||"complete"===document.readyState?r():document.addEventListener("DOMContentLoaded",r,!0)},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){function o(e,t){try{var n=s[e](t),i=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(i).then(function(e){o("next",e)},function(e){o("throw",e)});r(i)}return o("next")})}}function s(){return Y.GlobalWorkerOptions.workerSrc||(Y.GlobalWorkerOptions.workerSrc=te.AppOptions.get("workerSrc")),(0,Y.loadScript)(Y.PDFWorker.getWorkerSrc())}function l(e){var t=Se.appConfig;return(0,Y.loadScript)(t.debuggerScriptPath).then(function(){PDFBug.enable(e),PDFBug.init({OPS:Y.OPS,createObjectURL:Y.createObjectURL},t.mainContainer)})}function r(){var e=Se.appConfig,t=void 0,n=document.location.search.substring(1),i=(0,X.parseQueryString)(n);t="file"in i?i.file:te.AppOptions.get("defaultUrl"),ke(t);var r=document.createElement("input");r.id=e.openFileInputName,r.className="fileInput",r.setAttribute("type","file"),r.oncontextmenu=X.noContextMenuHandler,document.body.appendChild(r),window.File&&window.FileReader&&window.FileList&&window.Blob?r.value=null:(e.toolbar.openFile.setAttribute("hidden","true"),e.secondaryToolbar.openFileButton.setAttribute("hidden","true")),r.addEventListener("change",function(e){var t=e.target.files;t&&0!==t.length&&Se.eventBus.dispatch("fileinputchange",{source:this,fileInput:e.target})}),e.mainContainer.addEventListener("dragover",function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}),e.mainContainer.addEventListener("drop",function(e){e.preventDefault();var t=e.dataTransfer.files;t&&0!==t.length&&Se.eventBus.dispatch("fileinputchange",{source:this,fileInput:e.dataTransfer})}),Se.supportsPrinting||(e.toolbar.print.classList.add("hidden"),e.secondaryToolbar.printButton.classList.add("hidden")),Se.supportsFullscreen||(e.toolbar.presentationModeButton.classList.add("hidden"),e.secondaryToolbar.presentationModeButton.classList.add("hidden")),Se.supportsIntegratedFind&&e.toolbar.viewFind.classList.add("hidden"),e.mainContainer.addEventListener("transitionend",function(e){e.target===this&&Se.eventBus.dispatch("resize",{source:this})},!0),e.sidebar.toggleButton.addEventListener("click",function(){Se.pdfSidebar.toggle()});try{Ee(t)}catch(t){Se.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(e){Se.error(e,t)})}}function a(e){var t=e.pageNumber,n=t-1,i=Se.pdfViewer.getPageView(n);if(t===Se.page&&Se.toolbar.updateLoadingIndicatorState(!1),i){var r;if(Se.pdfSidebar.isThumbnailViewVisible)Se.pdfThumbnailViewer.getThumbnail(n).setImage(i);"undefined"!=typeof Stats&&Stats.enabled&&i.stats&&Stats.add(t,i.stats),i.error&&Se.l10n.get("rendering_error",null,"An error occurred while rendering the page.").then(function(e){Se.error(e,i.error)})}}function o(e){}function c(e){var t=e.mode,n=void 0;switch(t){case"thumbs":n=ee.SidebarView.THUMBS;break;case"bookmarks":case"outline":n=ee.SidebarView.OUTLINE;break;case"attachments":n=ee.SidebarView.ATTACHMENTS;break;case"none":n=ee.SidebarView.NONE;break;default:return void console.error('Invalid "pagemode" hash parameter: '+t)}Se.pdfSidebar.switchView(n,!0)}function d(e){var t;switch(e.action){case"GoToPage":Se.appConfig.toolbar.pageNumber.select();break;case"Find":Se.supportsIntegratedFind||Se.findBar.toggle()}}function h(e){var t=e.active,n=e.switchInProgress;Se.pdfViewer.presentationModeState=n?X.PresentationModeState.CHANGING:t?X.PresentationModeState.FULLSCREEN:X.PresentationModeState.NORMAL}function f(e){Se.pdfRenderingQueue.isThumbnailViewEnabled=Se.pdfSidebar.isThumbnailViewVisible;var t=Se.store;t&&Se.isInitialViewSet&&t.set("sidebarView",e.view).catch(function(){})}function p(e){var t=e.location,n=Se.store;n&&Se.isInitialViewSet&&n.setMultiple({page:t.pageNumber,zoom:t.scale,scrollLeft:t.left,scrollTop:t.top,rotation:t.rotation}).catch(function(){});var i=Se.pdfLinkService.getAnchorUrl(t.pdfOpenParams);Se.appConfig.toolbar.viewBookmark.href=i,Se.appConfig.secondaryToolbar.viewBookmarkButton.href=i;var r,a=Se.pdfViewer.getPageView(Se.page-1).renderingState!==$.RenderingStates.FINISHED;Se.toolbar.updateLoadingIndicatorState(a)}function v(e){var t=Se.store;t&&Se.isInitialViewSet&&t.set("scrollMode",e.mode).catch(function(){})}function g(e){var t=Se.store;t&&Se.isInitialViewSet&&t.set("spreadMode",e.mode).catch(function(){})}function m(){var e=Se.pdfDocument,t=Se.pdfViewer;if(e){var n=t.currentScaleValue;"auto"!==n&&"page-fit"!==n&&"page-width"!==n||(t.currentScaleValue=n),t.update()}}function w(e){var t=e.hash;t&&(Se.isInitialViewSet?Se.pdfHistory.popStateInProgress||Se.pdfLinkService.setHash(t):Se.initialBookmark=t)}function b(){Se.requestPresentationMode()}function y(){var e=Se.appConfig.openFileInputName;document.getElementById(e).click()}function _(){window.print()}function P(){Se.download()}function S(){Se.pdfDocument&&(Se.page=1)}function k(){Se.pdfDocument&&(Se.page=Se.pagesCount)}function L(){Se.page++}function E(){Se.page--}function C(){Se.zoomIn()}function T(){Se.zoomOut()}function I(e){var t=Se.pdfViewer;t.currentPageLabel=e.value,e.value!==t.currentPageNumber.toString()&&e.value!==t.currentPageLabel&&Se.toolbar.setPageNumber(t.currentPageNumber,t.currentPageLabel)}function x(e){Se.pdfViewer.currentScaleValue=e.value}function B(){Se.rotatePages(90)}function M(){Se.rotatePages(-90)}function N(e){Se.pdfViewer.scrollMode=e.mode}function O(e){Se.pdfViewer.spreadMode=e.mode}function V(){Se.pdfDocumentProperties.open()}function D(e){Se.findController.executeCommand("find"+e.type,{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,entireWord:e.entireWord,highlightAll:e.highlightAll,findPrevious:e.findPrevious})}function A(e){Se.findController.executeCommand("find",{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1})}function R(e){var t=e.matchesCount;Se.supportsIntegratedFind?Se.externalServices.updateFindMatchesCount(t):Se.findBar.updateResultsCount(t)}function F(e){var t=e.state,n=e.previous,i=e.matchesCount;Se.supportsIntegratedFind?Se.externalServices.updateFindControlState({result:t,findPrevious:n,matchesCount:i}):Se.findBar.updateUIState(t,n,i)}function U(e){Se.toolbar.setPageScale(e.presetValue,e.scale),Se.pdfViewer.update()}function z(e){Se.pdfThumbnailViewer.pagesRotation=e.pagesRotation,Se.forceRendering(),Se.pdfViewer.currentPageNumber=e.pageNumber}function j(e){var t=e.pageNumber;if(Se.toolbar.setPageNumber(t,e.pageLabel||null),Se.secondaryToolbar.setPageNumber(t),Se.pdfSidebar.isThumbnailViewVisible&&Se.pdfThumbnailViewer.scrollThumbnailIntoView(t),"undefined"!=typeof Stats&&Stats.enabled){var n=Se.pdfViewer.getPageView(t-1);n&&n.stats&&Stats.add(t,n.stats)}}function H(e){var t=Se.pdfViewer;if(!t.isInPresentationMode)if(e.ctrlKey||e.metaKey){var n=Se.supportedMouseWheelZoomModifierKeys;if(e.ctrlKey&&!n.ctrlKey||e.metaKey&&!n.metaKey)return;if(e.preventDefault(),Te)return;var i=t.currentScale,r,a=3,o=3*(0,X.normalizeWheelEventDelta)(e);o<0?Se.zoomOut(-o):Se.zoomIn(o);var s=t.currentScale;if(i!==s){var u=s/i-1,l=t.container.getBoundingClientRect(),c=e.clientX-l.left,d=e.clientY-l.top;t.container.scrollLeft+=c*u,t.container.scrollTop+=d*u}}else Te=!0,clearTimeout(Ie),Ie=setTimeout(function(){Te=!1},1e3)}function W(e){if(Se.secondaryToolbar.isOpen){var t=Se.appConfig;(Se.pdfViewer.containsElement(e.target)||t.toolbar.container.contains(e.target)&&e.target!==t.secondaryToolbar.toggleButton)&&Se.secondaryToolbar.close()}}function G(e){if(!Se.overlayManager.active){var t=!1,n=!1,i=(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0),r=Se.pdfViewer,a=r&&r.isInPresentationMode;if(1===i||8===i||5===i||12===i)switch(e.keyCode){case 70:Se.supportsIntegratedFind||(Se.findBar.open(),t=!0);break;case 71:if(!Se.supportsIntegratedFind){var o=Se.findController.state;o&&Se.findController.executeCommand("findagain",{query:o.query,phraseSearch:o.phraseSearch,caseSensitive:o.caseSensitive,entireWord:o.entireWord,highlightAll:o.highlightAll,findPrevious:5===i||12===i}),t=!0}break;case 61:case 107:case 187:case 171:a||Se.zoomIn(),t=!0;break;case 173:case 109:case 189:a||Se.zoomOut(),t=!0;break;case 48:case 96:a||(setTimeout(function(){r.currentScaleValue=X.DEFAULT_SCALE_VALUE}),t=!1);break;case 38:(a||1<Se.page)&&(Se.page=1,n=t=!0);break;case 40:(a||Se.page<Se.pagesCount)&&(Se.page=Se.pagesCount,n=t=!0)}if(1===i||8===i)switch(e.keyCode){case 83:Se.download(),t=!0}if(3===i||10===i)switch(e.keyCode){case 80:Se.requestPresentationMode(),t=!0;break;case 71:Se.appConfig.toolbar.pageNumber.select(),t=!0}if(t)return n&&!a&&r.focus(),void e.preventDefault();var s=document.activeElement||document.querySelector(":focus"),u=s&&s.tagName.toUpperCase();if("INPUT"!==u&&"TEXTAREA"!==u&&"SELECT"!==u||27===e.keyCode){if(0===i){var l=0,c=!1;switch(e.keyCode){case 38:case 33:r.isVerticalScrollbarEnabled&&(c=!0),l=-1;break;case 8:a||(c=!0),l=-1;break;case 37:r.isHorizontalScrollbarEnabled&&(c=!0);case 75:case 80:l=-1;break;case 27:Se.secondaryToolbar.isOpen&&(Se.secondaryToolbar.close(),t=!0),!Se.supportsIntegratedFind&&Se.findBar.opened&&(Se.findBar.close(),t=!0);break;case 40:case 34:r.isVerticalScrollbarEnabled&&(c=!0),l=1;break;case 13:case 32:a||(c=!0),l=1;break;case 39:r.isHorizontalScrollbarEnabled&&(c=!0);case 74:case 78:l=1;break;case 36:(a||1<Se.page)&&(Se.page=1,n=t=!0);break;case 35:(a||Se.page<Se.pagesCount)&&(Se.page=Se.pagesCount,n=t=!0);break;case 83:Se.pdfCursorTools.switchTool(J.CursorTool.SELECT);break;case 72:Se.pdfCursorTools.switchTool(J.CursorTool.HAND);break;case 82:Se.rotatePages(90)}0===l||c&&"page-fit"!==r.currentScaleValue||(0<l?Se.page<Se.pagesCount&&Se.page++:1<Se.page&&Se.page--,t=!0)}if(4===i)switch(e.keyCode){case 13:case 32:if(!a&&"page-fit"!==r.currentScaleValue)break;1<Se.page&&Se.page--,t=!0;break;case 82:Se.rotatePages(-90)}t||a||(33<=e.keyCode&&e.keyCode<=40||32===e.keyCode&&"BUTTON"!==u)&&(n=!0),n&&!r.containsElement(s)&&r.focus(),t&&e.preventDefault()}}}function q(e){switch(e){case"UseNone":return ee.SidebarView.NONE;case"UseThumbs":return ee.SidebarView.THUMBS;case"UseOutlines":return ee.SidebarView.OUTLINE;case"UseAttachments":return ee.SidebarView.ATTACHMENTS}return ee.SidebarView.NONE}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPrintServiceFactory=t.DefaultExternalServices=t.PDFViewerApplication=void 0;var K,Q=i(n(2)),Z=function(){function n(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),X=n(6),Y=n(7),J=n(8),$=n(10),ee=n(11),te=n(12),ne=n(14),ie=n(15),re=n(16),ae=n(17),oe=n(18),se=n(19),ue=n(20),le=n(22),ce=n(23),de=n(24),he=n(25),fe=n(26),pe=n(27),ve=n(29),ge=n(34),me=n(36),we=n(37),be=1.1,ye=5e3,_e=1e4,Pe={updateFindControlState:function e(t){},updateFindMatchesCount:function e(t){},initPassiveLoading:function e(t){},fallback:function e(t,n){},reportTelemetry:function e(t){},createDownloadManager:function e(t){throw new Error("Not implemented: createDownloadManager")},createPreferences:function e(){throw new Error("Not implemented: createPreferences")},createL10n:function e(t){throw new Error("Not implemented: createL10n")},supportsIntegratedFind:!1,supportsDocumentFonts:!0,supportsDocumentColors:!0,supportedMouseWheelZoomModifierKeys:{ctrlKey:!0,metaKey:!0}},Se={initialBookmark:document.location.hash.substring(1),initialized:!1,fellback:!1,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfSidebarResizer:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfCursorTools:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,isInitialViewSet:!1,downloadComplete:!1,isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",externalServices:Pe,_boundEvents:{},contentDispositionFilename:null,initialize:function(){function e(e){return t.apply(this,arguments)}var t=u(Q.default.mark(function e(n){var i=this,r;return Q.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return this.preferences=this.externalServices.createPreferences(),this.appConfig=n,t.next=4,this._readPreferences();case 4:return t.next=6,this._parseHashParameters();case 6:return t.next=8,this._initializeL10n();case 8:return this.isViewerEmbedded&&te.AppOptions.get("externalLinkTarget")===Y.LinkTarget.NONE&&te.AppOptions.set("externalLinkTarget",Y.LinkTarget.TOP),t.next=11,this._initializeViewerComponents();case 11:this.bindEvents(),this.bindWindowEvents(),r=n.appContainer||document.documentElement,this.l10n.translate(r).then(function(){i.eventBus.dispatch("localized",{source:i})}),this.initialized=!0;case 16:case"end":return t.stop()}},e,this)}));return e}(),_readPreferences:function(){function e(){return t.apply(this,arguments)}var t=u(Q.default.mark(function e(){var n,i,r;return Q.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return n={disableFontFace:!0,disableRange:!0,disableStream:!0,textLayerMode:X.TextLayerMode.DISABLE},t.prev=1,t.next=4,this.preferences.getAll();case 4:i=t.sent,t.t0=Q.default.keys(i);case 6:if((t.t1=t.t0()).done){t.next=13;break}if((r=t.t1.value)in n&&te.AppOptions.get(r)===n[r])return t.abrupt("continue",6);t.next=10;break;case 10:te.AppOptions.set(r,i[r]),t.next=6;break;case 13:t.next=17;break;case 15:t.prev=15,t.t2=t.catch(1);case 17:case"end":return t.stop()}},e,this,[[1,15]])}));return e}(),_parseHashParameters:function(){function e(){return t.apply(this,arguments)}var t=u(Q.default.mark(function e(){var n,i,r,a,o;return Q.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:if(te.AppOptions.get("pdfBugEnabled")){t.next=2;break}return t.abrupt("return");case 2:if(n=[],i=document.location.hash.substring(1),"disableworker"in(r=(0,X.parseQueryString)(i))&&"true"===r.disableworker&&n.push(s()),"disablerange"in r&&te.AppOptions.set("disableRange","true"===r.disablerange),"disablestream"in r&&te.AppOptions.set("disableStream","true"===r.disablestream),"disableautofetch"in r&&te.AppOptions.set("disableAutoFetch","true"===r.disableautofetch),"disablefontface"in r&&te.AppOptions.set("disableFontFace","true"===r.disablefontface),"disablehistory"in r&&te.AppOptions.set("disableHistory","true"===r.disablehistory),"webgl"in r&&te.AppOptions.set("enableWebGL","true"===r.webgl),"useonlycsszoom"in r&&te.AppOptions.set("useOnlyCssZoom","true"===r.useonlycsszoom),"verbosity"in r&&te.AppOptions.set("verbosity",0|r.verbosity),!("textlayer"in r)){t.next=23;break}t.t0=r.textlayer,t.next="off"===t.t0?18:"visible"===t.t0?20:"shadow"===t.t0?20:"hover"===t.t0?20:23;break;case 18:return te.AppOptions.set("textLayerMode",X.TextLayerMode.DISABLE),t.abrupt("break",23);case 20:return(a=this.appConfig.viewerContainer).classList.add("textLayer-"+r.textlayer),t.abrupt("break",23);case 23:return"pdfbug"in r&&(te.AppOptions.set("pdfBug",!0),o=r.pdfbug.split(","),n.push(l(o))),"locale"in r&&te.AppOptions.set("locale",r.locale),t.abrupt("return",Promise.all(n).catch(function(e){console.error('_parseHashParameters: "'+e.message+'".')}));case 26:case"end":return t.stop()}},e,this)}));return e}(),_initializeL10n:function(){function e(){return t.apply(this,arguments)}var t=u(Q.default.mark(function e(){var n;return Q.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return this.l10n=this.externalServices.createL10n({locale:te.AppOptions.get("locale")}),t.next=3,this.l10n.getDirection();case 3:n=t.sent,document.getElementsByTagName("html")[0].dir=n;case 5:case"end":return t.stop()}},e,this)}));return e}(),_initializeViewerComponents:function(){function e(){return t.apply(this,arguments)}var t=u(Q.default.mark(function e(){var n,i,r,a,o,s,u,l,c,d,h;return Q.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:n=this.appConfig,this.overlayManager=new ie.OverlayManager,i=te.AppOptions.get("eventBusDispatchToDOM"),r=n.eventBus||(0,ne.getGlobalEventBus)(i),this.eventBus=r,(a=new $.PDFRenderingQueue).onIdle=this.cleanup.bind(this),this.pdfRenderingQueue=a,o=new ce.PDFLinkService({eventBus:r,externalLinkTarget:te.AppOptions.get("externalLinkTarget"),externalLinkRel:te.AppOptions.get("externalLinkRel")}),this.pdfLinkService=o,s=this.externalServices.createDownloadManager({disableCreateObjectURL:te.AppOptions.get("disableCreateObjectURL")}),this.downloadManager=s,u=new ue.PDFFindController({linkService:o,eventBus:r}),this.findController=u,l=n.mainContainer,c=n.viewerContainer,this.pdfViewer=new ve.PDFViewer({container:l,viewer:c,eventBus:r,renderingQueue:a,linkService:o,downloadManager:s,findController:u,renderer:te.AppOptions.get("renderer"),enableWebGL:te.AppOptions.get("enableWebGL"),l10n:this.l10n,textLayerMode:te.AppOptions.get("textLayerMode"),imageResourcesPath:te.AppOptions.get("imageResourcesPath"),renderInteractiveForms:te.AppOptions.get("renderInteractiveForms"),enablePrintAutoRotate:te.AppOptions.get("enablePrintAutoRotate"),useOnlyCssZoom:te.AppOptions.get("useOnlyCssZoom"),maxCanvasPixels:te.AppOptions.get("maxCanvasPixels")}),a.setViewer(this.pdfViewer),o.setViewer(this.pdfViewer),d=n.sidebar.thumbnailView,this.pdfThumbnailViewer=new pe.PDFThumbnailViewer({container:d,renderingQueue:a,linkService:o,l10n:this.l10n}),a.setThumbnailViewer(this.pdfThumbnailViewer),this.pdfHistory=new le.PDFHistory({linkService:o,eventBus:r}),o.setHistory(this.pdfHistory),this.findBar=new se.PDFFindBar(n.findBar,r,this.l10n),this.pdfDocumentProperties=new oe.PDFDocumentProperties(n.documentProperties,this.overlayManager,r,this.l10n),this.pdfCursorTools=new J.PDFCursorTools({container:l,eventBus:r,cursorToolOnLoad:te.AppOptions.get("cursorToolOnLoad")}),this.toolbar=new me.Toolbar(n.toolbar,r,this.l10n),this.secondaryToolbar=new ge.SecondaryToolbar(n.secondaryToolbar,l,r),this.supportsFullscreen&&(this.pdfPresentationMode=new he.PDFPresentationMode({container:l,viewer:c,pdfViewer:this.pdfViewer,eventBus:r,contextMenuItems:n.fullscreen})),this.passwordPrompt=new re.PasswordPrompt(n.passwordOverlay,this.overlayManager,this.l10n),this.pdfOutlineViewer=new de.PDFOutlineViewer({container:n.sidebar.outlineView,eventBus:r,linkService:o}),this.pdfAttachmentViewer=new ae.PDFAttachmentViewer({container:n.sidebar.attachmentsView,eventBus:r,downloadManager:s}),(h=Object.create(n.sidebar)).pdfViewer=this.pdfViewer,h.pdfThumbnailViewer=this.pdfThumbnailViewer,this.pdfSidebar=new ee.PDFSidebar(h,r,this.l10n),this.pdfSidebar.onToggled=this.forceRendering.bind(this),this.pdfSidebarResizer=new fe.PDFSidebarResizer(n.sidebarResizer,r,this.l10n);case 39:case"end":return t.stop()}},e,this)}));return e}(),run:function e(t){this.initialize(t).then(r)},zoomIn:function e(t){for(var n=this.pdfViewer.currentScale;n=(n*be).toFixed(2),n=Math.ceil(10*n)/10,n=Math.min(X.MAX_SCALE,n),0<--t&&n<X.MAX_SCALE;);this.pdfViewer.currentScaleValue=n},zoomOut:function e(t){for(var n=this.pdfViewer.currentScale;n=(n/be).toFixed(2),n=Math.floor(10*n)/10,n=Math.max(X.MIN_SCALE,n),0<--t&&n>X.MIN_SCALE;);this.pdfViewer.currentScaleValue=n},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},set page(e){this.pdfViewer.currentPageNumber=e},get page(){return this.pdfViewer.currentPageNumber},get printing(){return!!this.printService},get supportsPrinting(){return xe.instance.supportsPrinting},get supportsFullscreen(){var e=void 0,t=document.documentElement;return e=!!(t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen),!1!==document.fullscreenEnabled&&!1!==document.mozFullScreenEnabled&&!1!==document.webkitFullscreenEnabled&&!1!==document.msFullscreenEnabled||(e=!1),(0,Y.shadow)(this,"supportsFullscreen",e)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},get supportsDocumentColors(){return this.externalServices.supportsDocumentColors},get loadingBar(){var e=new X.ProgressBar("#loadingBar");return(0,Y.shadow)(this,"loadingBar",e)},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading:function e(){throw new Error("Not implemented: initPassiveLoading")},setTitleUsingUrl:function e(t){var n=0<arguments.length&&void 0!==t?t:"";this.url=n,this.baseUrl=n.split("#")[0];var i=(0,X.getPDFFileNameFromURL)(n,"");if(!i)try{i=decodeURIComponent((0,Y.getFilenameFromUrl)(n))||n}catch(e){i=n}this.setTitle(i)},setTitle:function e(t){this.isViewerEmbedded||(document.title=t)},close:function(){function e(){return t.apply(this,arguments)}var t=u(Q.default.mark(function e(){var n,i;return Q.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.appConfig.errorWrapper.container).setAttribute("hidden","true"),this.pdfLoadingTask){t.next=4;break}return t.abrupt("return");case 4:return i=this.pdfLoadingTask.destroy(),this.pdfLoadingTask=null,this.pdfDocument&&(this.pdfDocument=null,this.pdfThumbnailViewer.setDocument(null),this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null),this.pdfDocumentProperties.setDocument(null)),this.store=null,this.isInitialViewSet=!1,this.downloadComplete=!1,this.url="",this.baseUrl="",this.contentDispositionFilename=null,this.pdfSidebar.reset(),this.pdfOutlineViewer.reset(),this.pdfAttachmentViewer.reset(),this.findBar.reset(),this.toolbar.reset(),this.secondaryToolbar.reset(),"undefined"!=typeof PDFBug&&PDFBug.cleanup(),t.abrupt("return",i);case 21:case"end":return t.stop()}},e,this)}));return e}(),open:function(){function e(e,t){return n.apply(this,arguments)}var n=u(Q.default.mark(function e(n,i){var r=this,a,o,s,u,l,c,d;return Q.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:if(this.pdfLoadingTask)return t.next=3,this.close();t.next=3;break;case 3:for(o in a=te.AppOptions.getAll("worker"))Y.GlobalWorkerOptions[o]=a[o];for(l in s=Object.create(null),"string"==typeof n?(this.setTitleUsingUrl(n),s.url=n):n&&"byteLength"in n?s.data=n:n.url&&n.originalUrl&&(this.setTitleUsingUrl(n.originalUrl),s.url=n.url),u=te.AppOptions.getAll("api"))s[l]=u[l];if(i)for(c in i)"length"===c&&this.pdfDocumentProperties.setFileSize(i[c]),s[c]=i[c];return d=(0,Y.getDocument)(s),(this.pdfLoadingTask=d).onPassword=function(e,t){r.passwordPrompt.setUpdateCallback(e,t),r.passwordPrompt.open()},d.onProgress=function(e){var t=e.loaded,n=e.total;r.progress(t/n)},d.onUnsupportedFeature=this.fallback.bind(this),t.abrupt("return",d.promise.then(function(e){r.load(e)},function(e){if(d===r.pdfLoadingTask){var t=e&&e.message,n=void 0;return(n=e instanceof Y.InvalidPDFException?r.l10n.get("invalid_file_error",null,"Invalid or corrupted PDF file."):e instanceof Y.MissingPDFException?r.l10n.get("missing_file_error",null,"Missing PDF file."):e instanceof Y.UnexpectedResponseException?r.l10n.get("unexpected_response_error",null,"Unexpected server response."):r.l10n.get("loading_error",null,"An error occurred while loading the PDF.")).then(function(e){throw r.error(e,{message:t}),new Error(e)})}}));case 16:case"end":return t.stop()}},e,this)}));return e}(),download:function e(){function t(){a.downloadUrl(i,r)}var n=this,i=this.baseUrl,r=this.contentDispositionFilename||(0,X.getPDFFileNameFromURL)(this.url),a=this.downloadManager;a.onerror=function(e){n.error("PDF failed to download: "+e)},this.pdfDocument&&this.downloadComplete?this.pdfDocument.getData().then(function(e){var t=new Blob([e],{type:"application/pdf"});a.download(t,i,r)}).catch(t):t()},fallback:function e(t){},error:function e(t,n){var i=[this.l10n.get("error_version_info",{version:Y.version||"?",build:Y.build||"?"},"PDF.js v{{version}} (build: {{build}})")];n&&(i.push(this.l10n.get("error_message",{message:n.message},"Message: {{message}}")),n.stack?i.push(this.l10n.get("error_stack",{stack:n.stack},"Stack: {{stack}}")):(n.filename&&i.push(this.l10n.get("error_file",{file:n.filename},"File: {{file}}")),n.lineNumber&&i.push(this.l10n.get("error_line",{line:n.lineNumber},"Line: {{line}}"))));var r=this.appConfig.errorWrapper,a=r.container,o;a.removeAttribute("hidden"),r.errorMessage.textContent=t;var s=r.closeButton;s.onclick=function(){a.setAttribute("hidden","true")};var u=r.errorMoreInfo,l=r.moreInfoButton,c=r.lessInfoButton;l.onclick=function(){u.removeAttribute("hidden"),l.setAttribute("hidden","true"),c.removeAttribute("hidden"),u.style.height=u.scrollHeight+"px"},c.onclick=function(){u.setAttribute("hidden","true"),l.removeAttribute("hidden"),c.setAttribute("hidden","true")},l.oncontextmenu=X.noContextMenuHandler,c.oncontextmenu=X.noContextMenuHandler,s.oncontextmenu=X.noContextMenuHandler,l.removeAttribute("hidden"),c.setAttribute(
"hidden","true"),Promise.all(i).then(function(e){u.value=e.join("\n")})},progress:function e(t){var n=this;if(!this.downloadComplete){var i=Math.round(100*t),r;if(i>this.loadingBar.percent||isNaN(i))this.loadingBar.percent=i,(this.pdfDocument?this.pdfDocument.loadingParams.disableAutoFetch:te.AppOptions.get("disableAutoFetch"))&&i&&(this.disableAutoFetchLoadingBarTimeout&&(clearTimeout(this.disableAutoFetchLoadingBarTimeout),this.disableAutoFetchLoadingBarTimeout=null),this.loadingBar.show(),this.disableAutoFetchLoadingBarTimeout=setTimeout(function(){n.loadingBar.hide(),n.disableAutoFetchLoadingBarTimeout=null},ye))}},load:function e(o){var f=this;(this.pdfDocument=o).getDownloadInfo().then(function(){f.downloadComplete=!0,f.loadingBar.hide(),n.then(function(){f.eventBus.dispatch("documentloaded",{source:f}),f.eventBus.dispatch("documentload",{source:f})})});var r=o.getPageMode().catch(function(){});this.toolbar.setPagesCount(o.numPages,!1),this.secondaryToolbar.setPagesCount(o.numPages);var a=this.store=new we.ViewHistory(o.fingerprint),t=void 0;t=null,this.pdfLinkService.setDocument(o,t),this.pdfDocumentProperties.setDocument(o,this.url);var p=this.pdfViewer;p.setDocument(o);var n=p.firstPagePromise,v=p.pagesPromise,i=p.onePageRendered,s=this.pdfThumbnailViewer;s.setDocument(o),n.then(function(e){if(f.loadingBar.setWidth(f.appConfig.viewerContainer),!te.AppOptions.get("disableHistory")&&!f.isViewerEmbedded){var t=!te.AppOptions.get("showPreviousViewOnLoad");f.pdfHistory.initialize(o.fingerprint,t),f.pdfHistory.initialBookmark&&(f.initialBookmark=f.pdfHistory.initialBookmark,f.initialRotation=f.pdfHistory.initialRotation)}var n=a.getMultiple({page:null,zoom:X.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:ee.SidebarView.NONE,scrollMode:null,spreadMode:null}).catch(function(){}),i;Promise.all([n,r]).then((i=u(Q.default.mark(function e(t){var n=Z(t,2),i=n[0],r=void 0===i?{}:i,a=n[1],o,s,u,l,c,d,h;return Q.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return o=f.initialBookmark,s=te.AppOptions.get("defaultZoomValue"),u=s?"zoom="+s:null,l=null,c=te.AppOptions.get("sidebarViewOnLoad"),d=te.AppOptions.get("scrollModeOnLoad"),h=te.AppOptions.get("spreadModeOnLoad"),r.page&&te.AppOptions.get("showPreviousViewOnLoad")&&(u="page="+r.page+"&zoom="+(s||r.zoom)+","+r.scrollLeft+","+r.scrollTop,l=parseInt(r.rotation,10),c=c||0|r.sidebarView,d=d||0|r.scrollMode,h=h||0|r.spreadMode),a&&!te.AppOptions.get("disablePageMode")&&(c=c||q(a)),f.setInitialView(u,{rotation:l,sidebarView:c,scrollMode:d,spreadMode:h}),f.eventBus.dispatch("documentinit",{source:f}),f.isViewerEmbedded||p.focus(),t.next=14,Promise.race([v,new Promise(function(e){setTimeout(e,_e)})]);case 14:if(o||u){t.next=16;break}return t.abrupt("return");case 16:if(p.hasEqualPageSizes)return t.abrupt("return");t.next=18;break;case 18:f.initialBookmark=o,p.currentScaleValue=p.currentScaleValue,f.setInitialView(u);case 21:case"end":return t.stop()}},e,f)})),function(e){return i.apply(this,arguments)})).then(function(){p.update()})}),o.getPageLabels().then(function(e){if(e&&!te.AppOptions.get("disablePageLabels")){var t=0,n=e.length;if(n===f.pagesCount){for(;t<n&&e[t]===(t+1).toString();)t++;t!==n&&(p.setPageLabels(e),s.setPageLabels(e),f.toolbar.setPagesCount(o.numPages,!0),f.toolbar.setPageNumber(p.currentPageNumber,p.currentPageLabel))}else console.error("The number of Page Labels does not match the number of pages in the document.")}}),v.then(function(){f.supportsPrinting&&o.getJavaScript().then(function(e){if(e){e.some(function(e){return!!e&&(console.warn("Warning: JavaScript is not supported"),f.fallback(Y.UNSUPPORTED_FEATURES.javaScript),!0)});for(var t=/\bprint\s*\(/,n=0,i=e.length;n<i;n++){var r=e[n];if(r&&t.test(r))return void setTimeout(function(){window.print()})}}})}),Promise.all([i,X.animationStarted]).then(function(){o.getOutline().then(function(e){f.pdfOutlineViewer.render({outline:e})}),o.getAttachments().then(function(e){f.pdfAttachmentViewer.render({attachments:e})})}),o.getMetadata().then(function(e){var t=e.info,n=e.metadata,i=e.contentDispositionFilename;f.documentInfo=t,f.metadata=n,f.contentDispositionFilename=i,console.log("PDF "+o.fingerprint+" ["+t.PDFFormatVersion+" "+(t.Producer||"-").trim()+" / "+(t.Creator||"-").trim()+"] (PDF.js: "+(Y.version||"-")+(te.AppOptions.get("enableWebGL")?" [WebGL]":"")+")");var r=void 0;if(n&&n.has("dc:title")){var a=n.get("dc:title");"Untitled"!==a&&(r=a)}!r&&t&&t.Title&&(r=t.Title),r?f.setTitle(r+" - "+(i||document.title)):i&&f.setTitle(i),t.IsAcroFormPresent&&(console.warn("Warning: AcroForm/XFA is not supported"),f.fallback(Y.UNSUPPORTED_FEATURES.forms))})},setInitialView:function e(t,n){var i=this,r=1<arguments.length&&void 0!==n?n:{},a=r.rotation,o=r.sidebarView,s,u,l=function e(t){(0,X.isValidRotation)(t)&&(i.pdfViewer.pagesRotation=t)},c;(function e(t,n){Number.isInteger(t)&&(i.pdfViewer.scrollMode=t),Number.isInteger(n)&&(i.pdfViewer.spreadMode=n)})(r.scrollMode,r.spreadMode),this.isInitialViewSet=!0,this.pdfSidebar.setInitialView(o),this.initialBookmark?(l(this.initialRotation),delete this.initialRotation,this.pdfLinkService.setHash(this.initialBookmark),this.initialBookmark=null):t&&(l(a),this.pdfLinkService.setHash(t)),this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel),this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber),this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=X.DEFAULT_SCALE_VALUE)},cleanup:function e(){this.pdfDocument&&(this.pdfViewer.cleanup(),this.pdfThumbnailViewer.cleanup(),this.pdfViewer.renderer!==X.RendererType.SVG&&this.pdfDocument.cleanup())},forceRendering:function e(){this.pdfRenderingQueue.printing=this.printing,this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.isThumbnailViewVisible,this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function e(){var t=this;if(!this.printService)if(this.supportsPrinting)if(this.pdfViewer.pageViewsReady){var n=this.pdfViewer.getPagesOverview(),i=this.appConfig.printContainer,r=xe.instance.createPrintService(this.pdfDocument,n,i,this.l10n);this.printService=r,this.forceRendering(),r.layout()}else this.l10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.").then(function(e){window.alert(e)});else this.l10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.").then(function(e){t.error(e)})},afterPrint:function e(){this.printService&&(this.printService.destroy(),this.printService=null),this.forceRendering()},rotatePages:function e(t){if(this.pdfDocument){var n=(this.pdfViewer.pagesRotation+360+t)%360;this.pdfViewer.pagesRotation=n}},requestPresentationMode:function e(){this.pdfPresentationMode&&this.pdfPresentationMode.request()},bindEvents:function e(){var t=this.eventBus,n=this._boundEvents;n.beforePrint=this.beforePrint.bind(this),n.afterPrint=this.afterPrint.bind(this),t.on("resize",m),t.on("hashchange",w),t.on("beforeprint",n.beforePrint),t.on("afterprint",n.afterPrint),t.on("pagerendered",a),t.on("textlayerrendered",o),t.on("updateviewarea",p),t.on("pagechanging",j),t.on("scalechanging",U),t.on("rotationchanging",z),t.on("sidebarviewchanged",f),t.on("pagemode",c),t.on("namedaction",d),t.on("presentationmodechanged",h),t.on("presentationmode",b),t.on("openfile",y),t.on("print",_),t.on("download",P),t.on("firstpage",S),t.on("lastpage",k),t.on("nextpage",L),t.on("previouspage",E),t.on("zoomin",C),t.on("zoomout",T),t.on("pagenumberchanged",I),t.on("scalechanged",x),t.on("rotatecw",B),t.on("rotateccw",M),t.on("switchscrollmode",N),t.on("scrollmodechanged",v),t.on("switchspreadmode",O),t.on("spreadmodechanged",g),t.on("documentproperties",V),t.on("find",D),t.on("findfromurlhash",A),t.on("updatefindmatchescount",R),t.on("updatefindcontrolstate",F),t.on("fileinputchange",Ce)},bindWindowEvents:function e(){var t=this.eventBus,n=this._boundEvents;n.windowResize=function(){t.dispatch("resize",{source:window})},n.windowHashChange=function(){t.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})},n.windowBeforePrint=function(){t.dispatch("beforeprint",{source:window})},n.windowAfterPrint=function(){t.dispatch("afterprint",{source:window})},window.addEventListener("wheel",H),window.addEventListener("click",W),window.addEventListener("keydown",G),window.addEventListener("resize",n.windowResize),window.addEventListener("hashchange",n.windowHashChange),window.addEventListener("beforeprint",n.windowBeforePrint),window.addEventListener("afterprint",n.windowAfterPrint)},unbindEvents:function e(){var t=this.eventBus,n=this._boundEvents;t.off("resize",m),t.off("hashchange",w),t.off("beforeprint",n.beforePrint),t.off("afterprint",n.afterPrint),t.off("pagerendered",a),t.off("textlayerrendered",o),t.off("updateviewarea",p),t.off("pagechanging",j),t.off("scalechanging",U),t.off("rotationchanging",z),t.off("sidebarviewchanged",f),t.off("pagemode",c),t.off("namedaction",d),t.off("presentationmodechanged",h),t.off("presentationmode",b),t.off("openfile",y),t.off("print",_),t.off("download",P),t.off("firstpage",S),t.off("lastpage",k),t.off("nextpage",L),t.off("previouspage",E),t.off("zoomin",C),t.off("zoomout",T),t.off("pagenumberchanged",I),t.off("scalechanged",x),t.off("rotatecw",B),t.off("rotateccw",M),t.off("switchscrollmode",N),t.off("scrollmodechanged",v),t.off("switchspreadmode",O),t.off("spreadmodechanged",g),t.off("documentproperties",V),t.off("find",D),t.off("findfromurlhash",A),t.off("updatefindmatchescount",R),t.off("updatefindcontrolstate",F),t.off("fileinputchange",Ce),n.beforePrint=null,n.afterPrint=null},unbindWindowEvents:function e(){var t=this._boundEvents;window.removeEventListener("wheel",H),window.removeEventListener("click",W),window.removeEventListener("keydown",G),window.removeEventListener("resize",t.windowResize),window.removeEventListener("hashchange",t.windowHashChange),window.removeEventListener("beforeprint",t.windowBeforePrint),window.removeEventListener("afterprint",t.windowAfterPrint),t.windowResize=null,t.windowHashChange=null,t.windowBeforePrint=null,t.windowAfterPrint=null}},ke=void 0,Le=["null","http://mozilla.github.io","https://mozilla.github.io"];ke=function e(t){if(void 0!==t)try{var n=new Y.URL(window.location.href).origin||"null";if(Le.includes(n))return;var i=new Y.URL(t,window.location.href),r=i.origin,a=i.protocol;if(r!==n&&"blob:"!==a)throw new Error("file origin does not match viewer's")}catch(e){var o=e&&e.message;throw Se.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(e){Se.error(e,{message:o})}),e}};var Ee=void 0,Ce=void 0,Te=!(Ce=function e(t){if(!Se.pdfViewer||!Se.pdfViewer.isInPresentationMode){var n=t.fileInput.files[0];if(Y.URL.createObjectURL&&!te.AppOptions.get("disableCreateObjectURL")){var i=Y.URL.createObjectURL(n);n.name&&(i={url:i,originalUrl:n.name}),Se.open(i)}else{Se.setTitleUsingUrl(n.name);var r=new FileReader;r.onload=function e(t){var n=t.target.result;Se.open(new Uint8Array(n))},r.readAsArrayBuffer(n)}var a=Se.appConfig;a.toolbar.viewBookmark.setAttribute("hidden","true"),a.secondaryToolbar.viewBookmarkButton.setAttribute("hidden","true"),a.toolbar.download.setAttribute("hidden","true"),a.secondaryToolbar.downloadButton.setAttribute("hidden","true")}}),Ie=void 0,xe={instance:{supportsPrinting:!(Ee=function e(t){if(t&&0===t.lastIndexOf("file:",0)){Se.setTitleUsingUrl(t);var n=new XMLHttpRequest;n.onload=function(){Se.open(new Uint8Array(n.response))};try{n.open("GET",t),n.responseType="arraybuffer",n.send()}catch(e){throw e}}else t&&Se.open(t)}),createPrintService:function e(){throw new Error("Not implemented: createPrintService")}}};t.PDFViewerApplication=Se,t.DefaultExternalServices=Pe,t.PDFPrintServiceFactory=xe},function(e,t,n){e.exports=n(3)},function(e,t,n){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&0<=Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime"),a=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(4),r)i.regeneratorRuntime=a;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},function(e,t,n){(function(N){var O="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)};!function(e){function a(e,t,n,i){var r=t&&t.prototype instanceof s?t:s,a=Object.create(r.prototype),o=new h(i||[]);return a._invoke=u(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function s(){}function n(){}function t(){}function i(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function o(s){function u(e,t,n,i){var r=c(s[e],s,t);if("throw"!==r.type){var a=r.arg,o=a.value;return o&&"object"===(void 0===o?"undefined":O(o))&&g.call(o,"__await")?Promise.resolve(o.__await).then(function(e){u("next",e,n,i)},function(e){u("throw",e,n,i)}):Promise.resolve(o).then(function(e){a.value=e,n(a)},i)}i(r.arg)}function e(n,i){function e(){return new Promise(function(e,t){u(n,i,e,t)})}return t=t?t.then(e,e):e()}var t;this._invoke=e}function u(o,s,u){var l=k;return function e(t,n){if(l===E)throw new Error("Generator is already running");if(l===C){if("throw"===t)throw n;return p()}for(u.method=t,u.arg=n;;){var i=u.delegate;if(i){var r=d(i,u);if(r){if(r===T)continue;return r}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(l===k)throw l=C,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);l=E;var a=c(o,s,u);if("normal"===a.type){if(l=u.done?C:L,a.arg===T)continue;return{value:a.arg,done:u.done}}"throw"===a.type&&(l=C,u.method="throw",u.arg=a.arg)}}}function d(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,d(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,T;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,T):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function r(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(r,this),this.reset(!0)}function f(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return i.next=i}}return{next:p}}function p(){return{value:m,done:!0}}var v=Object.prototype,g=v.hasOwnProperty,m,w="function"==typeof Symbol?Symbol:{},b=w.iterator||"@@iterator",y=w.asyncIterator||"@@asyncIterator",_=w.toStringTag||"@@toStringTag",P="object"===O(N),S=e.regeneratorRuntime;if(S)P&&(N.exports=S);else{(S=e.regeneratorRuntime=P?N.exports:{}).wrap=a;var k="suspendedStart",L="suspendedYield",E="executing",C="completed",T={},I={};I[b]=function(){return this};var x=Object.getPrototypeOf,B=x&&x(x(f([])));B&&B!==v&&g.call(B,b)&&(I=B);var M=t.prototype=s.prototype=Object.create(I);n.prototype=M.constructor=t,t.constructor=n,t[_]=n.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,t):(e.__proto__=t,_ in e||(e[_]="GeneratorFunction")),e.prototype=Object.create(M),e},S.awrap=function(e){return{__await:e}},i(o.prototype),o.prototype[y]=function(){return this},S.AsyncIterator=o,S.async=function(e,t,n,i){var r=new o(a(e,t,n,i));return S.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},i(M),M[_]="Generator",M[b]=function(){return this},M.toString=function(){return"[object Generator]"},S.keys=function(n){var i=[];for(var e in n)i.push(e);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},S.values=f,h.prototype={constructor:h,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(l),!t)for(var n in this)"t"===n.charAt(0)&&g.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=m)},stop:function e(){this.done=!0;var t,n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function e(n){function t(e,t){return o.type="throw",o.arg=n,i.next=e,t&&(i.method="next",i.arg=m),!!t}if(this.done)throw n;for(var i=this,r=this.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var s=g.call(a,"catchLoc"),u=g.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function e(t,n){for(var i=this.tryEntries.length-1;0<=i;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=n,a?(this.method="next",this.next=a.finallyLoc,T):this.complete(o)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),T},finish:function e(t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),l(i),T}},catch:function e(t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var a=r.arg;l(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,i){return this.delegate={iterator:f(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=m),T}}}}(function(){return this}()||Function("return this")())}).call(this,n(5)(e))},function(e,t,n){e.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function e(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function e(){return t.i}}),t.webpackPolyfill=1),t}},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){function o(e,t){try{var n=s[e](t),i=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(i).then(function(e){o("next",e)},function(e){o("throw",e)});r(i)}return o("next")})}}function a(e,n){return n?e.replace(/\{\{\s*(\w+)\s*\}\}/g,function(e,t){return t in n?n[t]:"{{"+t+"}}"}):e}function o(e){var t,n,i=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);return{sx:i,sy:i,scaled:1!==i}}function u(e,t,n){var i=2<arguments.length&&void 0!==n&&n,r=e.offsetParent;if(r){for(var a=e.offsetTop+e.clientTop,o=e.offsetLeft+e.clientLeft;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||i&&"hidden"===getComputedStyle(r).overflow;)if(r.dataset._scaleY&&(a/=r.dataset._scaleY,o/=r.dataset._scaleX),a+=r.offsetTop,o+=r.offsetLeft,!(r=r.offsetParent))return;t&&(void 0!==t.top&&(a+=t.top),void 0!==t.left&&(o+=t.left,r.scrollLeft=o)),r.scrollTop=a}else console.error("offsetParent is not set -- cannot scroll")}function l(a,o){var e=function e(t){u||(u=window.requestAnimationFrame(function e(){u=null;var t=a.scrollLeft,n=s.lastX;t!==n&&(s.right=n<t),s.lastX=t;var i=a.scrollTop,r=s.lastY;i!==r&&(s.down=r<i),s.lastY=i,o(s)}))},s={right:!0,down:!0,lastX:a.scrollLeft,lastY:a.scrollTop,_eventHandler:e},u=null;return a.addEventListener("scroll",e,!0),s}function c(e){for(var t=e.split("&"),n=Object.create(null),i=0,r=t.length;i<r;++i){var a=t[i].split("="),o=a[0].toLowerCase(),s=1<a.length?a[1]:null;n[decodeURIComponent(o)]=decodeURIComponent(s)}return n}function x(e,t){var n=0,i=e.length-1;if(0===e.length||!t(e[i]))return e.length;if(t(e[n]))return n;for(;n<i;){var r=n+i>>1,a;t(e[r])?i=r:n=r+1}return n}function d(e){if(Math.floor(e)===e)return[e,1];var t=1/e,n=8;if(8<t)return[1,8];if(Math.floor(t)===t)return[1,t];for(var i=1<e?t:e,r=0,a=1,o=1,s=1;;){var u=r+o,l=a+s;if(8<l)break;i<=u/l?(o=u,s=l):(r=u,a=l)}var c=void 0;return c=i-r/a<o/s-i?i===e?[r,a]:[a,r]:i===e?[o,s]:[s,o]}function h(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)}function f(e){var t=e.view,n=e.userUnit,i=e.rotate,r=T(t,4),a=r[0],o=r[1],s,u,l=i%180!=0,c=(r[2]-a)/72*n,d=(r[3]-o)/72*n;return{width:l?d:c,height:l?c:d}}function B(e,t,n){if(e<2)return e;var i=t[e].div,r=i.offsetTop+i.clientTop;n<=r&&(r=(i=t[e-1].div).offsetTop+i.clientTop);for(var a=e-2;0<=a&&!((i=t[a].div).offsetTop+i.clientTop+i.clientHeight<=r);--a)e=a;return e}function p(e,t,n,i){function r(e){var t=e.div,n=t.offsetTop+t.clientTop+t.clientHeight;return u<n}function a(e){var t=e.div,n=t.offsetLeft+t.clientLeft+t.clientWidth;return c<n}var o=2<arguments.length&&void 0!==n&&n,s=3<arguments.length&&void 0!==i&&i,u=e.scrollTop,l=u+e.clientHeight,c=e.scrollLeft,d=c+e.clientWidth,h=[],f=void 0,p=void 0,v=void 0,g=void 0,m=void 0,w=void 0,b=void 0,y=void 0,_=void 0,P=void 0,S=void 0,k=0===t.length?0:x(t,s?a:r);0<t.length&&!s&&(k=B(k,t,u));for(var L=s?d:-1,E=k,C=t.length;E<C;E++){if(b=(p=(f=t[E]).div).offsetLeft+p.clientLeft,v=p.offsetTop+p.clientTop,_=b+(y=p.clientWidth),m=v+(g=p.clientHeight),-1===L)l<=m&&(L=m);else if(L<(s?b:v))break;m<=u||l<=v||_<=c||d<=b||(S=(g-(w=Math.max(0,u-v)+Math.max(0,m-l)))*(y-(P=Math.max(0,c-b)+Math.max(0,_-d)))*100/g/y|0,h.push({id:f.id,x:b,y:v,view:f,percent:S}))}var T=h[0],I=h[h.length-1];return o&&h.sort(function(e,t){var n=e.percent-t.percent;return.001<Math.abs(n)?-n:e.id-t.id}),{first:T,last:I,views:h}}function v(e){e.preventDefault()}function g(e){for(var t=0,n=e.length;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}function m(e,t){var n=1<arguments.length&&void 0!==t?t:"document.pdf";if("string"!=typeof e)return n;if(g(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),n;var i,r=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e),o=r.exec(a[1])||r.exec(a[2])||r.exec(a[3]);if(o&&(o=o[0]).includes("%"))try{o=r.exec(decodeURIComponent(o))[0]}catch(e){}return o||n}function w(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t);var i=0,r=1,a=30,o=30;return 0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t}function b(e){return Number.isInteger(e)&&e%90==0}function y(e){return e.width<=e.height}function _(e){var o=e.target,s=e.name,t=e.delay,u=void 0===t?0:t;return new Promise(function(t,e){function n(e){o instanceof q?o.off(s,i):o.removeEventListener(s,i),a&&clearTimeout(a),t(e)}if("object"!==(void 0===o?"undefined":C(o))||!s||"string"!=typeof s||!(Number.isInteger(u)&&0<=u))throw new Error("waitOnEventOrTimeout - invalid parameters.");var i=n.bind(null,W.EVENT);o instanceof q?o.on(s,i):o.addEventListener(s,i);var r=n.bind(null,W.TIMEOUT),a=setTimeout(r,u)})}function P(e,t,n){return Math.min(Math.max(e,t),n)}function S(e,t){for(var n=[],i=e.length,r=0,a=0;a<i;++a)t(e[a])?n.push(e[a]):(e[r]=e[a],++r);for(var o=0;r<i;++o,++r)e[r]=n[o]}Object.defineProperty(t,"__esModule",{value:!0}),t.moveToEndOfArray=t.waitOnEventOrTimeout=t.WaitOnType=t.animationStarted=t.normalizeWheelEventDelta=t.binarySearchFirstItem=t.watchScroll=t.scrollIntoView=t.getOutputScale=t.approximateFraction=t.getPageSizeInches=t.roundToDivide=t.getVisibleElements=t.backtrackBeforeAllVisibleElements=t.parseQueryString=t.noContextMenuHandler=t.getPDFFileNameFromURL=t.ProgressBar=t.EventBus=t.NullL10n=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.isPortraitOrientation=t.isValidRotation=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=void 0;var k,L=i(n(2)),E=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),C="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},T=function(){function n(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=96/72,M="auto",N=1,O=.1,V=10,D=0,A=1.25,R=40,F=5,U={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},z={CANVAS:"canvas",SVG:"svg"},j={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2},H={getLanguage:function(){function e(){return t.apply(this,arguments)}var t=r(L.default.mark(function e(){return L.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","en-us");case 1:case"end":return t.stop()}},e,this)}));return e}(),getDirection:function(){function e(){return t.apply(this,arguments)}var t=r(L.default.mark(function e(){return L.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","ltr");case 1:case"end":return t.stop()}},e,this)}));return e}(),get:function(){function e(e,t,n){return i.apply(this,arguments)}var i=r(L.default.mark(function e(t,n,i){return L.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a(i,n));case 1:case"end":return t.stop()}},e,this)}));return e}(),translate:function(){function e(e){return t.apply(this,arguments)}var t=r(L.default.mark(function e(t){return L.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,this)}));return e}()},W={EVENT:"event",TIMEOUT:"timeout"},G=new Promise(function(e){window.requestAnimationFrame(e)}),q=function(){function r(e){var t,n=(0<arguments.length&&void 0!==e?e:{}).dispatchToDOM,i=void 0!==n&&n;s(this,r),this._listeners=Object.create(null),this._dispatchToDOM=!0===i}return E(r,[{key:"on",value:function e(t,n){var i=this._listeners[t];i||(i=[],this._listeners[t]=i),i.push(n)}},{key:"off",value:function e(t,n){var i=this._listeners[t],r=void 0;!i||(r=i.indexOf(n))<0||i.splice(r,1)}},{key:"dispatch",value:function e(t){var n=this._listeners[t];if(n&&0!==n.length){var i=Array.prototype.slice.call(arguments,1);n.slice(0).forEach(function(e){e.apply(null,i)}),this._dispatchToDOM&&this._dispatchDOMEvent(t,i)}else if(this._dispatchToDOM){var r=Array.prototype.slice.call(arguments,1);this._dispatchDOMEvent(t,r)}}},{key:"_dispatchDOMEvent",value:function e(t,n){var i=1<arguments.length&&void 0!==n?n:null;if(this._dispatchToDOM){var r=Object.create(null);if(i&&0<i.length){var a=i[0];for(var o in a){var s=a[o];if("source"!==o)r[o]=s;else if(s===window||s===document)return}}var u=document.createEvent("CustomEvent");u.initCustomEvent(t,!0,!0,r),document.dispatchEvent(u)}}}]),r}(),K=function(){function o(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=n.height,r=n.width,a=n.units;s(this,o),this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=i||100,this.width=r||100,this.units=a||"%",this.div.style.height=this.height+this.units,this.percent=0}return E(o,[{key:"_updateBar",value:function e(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var t=this.width*this._percent/100;this.div.style.width=t+this.units}},{key:"setWidth",value:function e(t){if(t){var n,i=t.parentNode.offsetWidth-t.offsetWidth;0<i&&this.bar.setAttribute("style","width: calc(100% - "+i+"px);")}}},{key:"hide",value:function e(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function e(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function e(){return this._percent},set:function e(t){this._indeterminate=isNaN(t),this._percent=P(t,0,100),this._updateBar()}}]),o}();t.CSS_UNITS=I,t.DEFAULT_SCALE_VALUE=M,t.DEFAULT_SCALE=1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=A,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.isValidRotation=b,t.isPortraitOrientation=y,t.PresentationModeState=U,t.RendererType=z,t.TextLayerMode=j,t.NullL10n=H,t.EventBus=q,t.ProgressBar=K,t.getPDFFileNameFromURL=m,t.noContextMenuHandler=v,t.parseQueryString=c,t.backtrackBeforeAllVisibleElements=B,t.getVisibleElements=p,t.roundToDivide=h,t.getPageSizeInches=f,t.approximateFraction=d,t.getOutputScale=o,t.scrollIntoView=u,t.watchScroll=l,t.binarySearchFirstItem=x,t.normalizeWheelEventDelta=w,t.animationStarted=G,t.WaitOnType=W,t.waitOnEventOrTimeout=_,t.moveToEndOfArray=S},function(e,t,n){var i=void 0;i="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js"),e.exports=i},function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFCursorTools=t.CursorTool=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=n(9),l={SELECT:0,HAND:1,ZOOM:2},r=function(){function o(e){var t=this,n=e.container,i=e.eventBus,r=e.cursorToolOnLoad,a=void 0===r?l.SELECT:r;s(this,o),this.container=n,this.eventBus=i,this.active=l.SELECT,this.activeBeforePresentationMode=null,this.handTool=new u.GrabToPan({element:this.container}),this._addEventListeners(),Promise.resolve().then(function(){t.switchTool(a)})}return i(o,[{key:"switchTool",value:function e(t){var n=this;if(null===this.activeBeforePresentationMode&&t!==this.active){var i=function e(){switch(n.active){case l.SELECT:break;case l.HAND:n.handTool.deactivate();break;case l.ZOOM:}};switch(t){case l.SELECT:i();break;case l.HAND:i(),this.handTool.activate();break;case l.ZOOM:default:return void console.error('switchTool: "'+t+'" is an unsupported value.')}this.active=t,this._dispatchEvent()}}},{key:"_dispatchEvent",value:function e(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}},{key:"_addEventListeners",value:function e(){var n=this;this.eventBus.on("switchcursortool",function(e){n.switchTool(e.tool)}),this.eventBus.on("presentationmodechanged",function(e){if(!e.switchInProgress){var t=void 0;e.active?(t=n.active,n.switchTool(l.SELECT),
n.activeBeforePresentationMode=t):(t=n.activeBeforePresentationMode,n.activeBeforePresentationMode=null,n.switchTool(t))}})}},{key:"activeTool",get:function e(){return this.active}}]),o}();t.CursorTool=l,t.PDFCursorTools=r},function(e,t,n){function i(e){var t;this.element=e.element,this.document=e.element.ownerDocument,"function"==typeof e.ignoreTarget&&(this.ignoreTarget=e.ignoreTarget),this.onActiveChanged=e.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onmousedown=this._onmousedown.bind(this),this._onmousemove=this._onmousemove.bind(this),this._endPan=this._endPan.bind(this),(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}function o(e){return"buttons"in e&&a?!(1&e.buttons):u||l?0===e.which:void 0}var r;Object.defineProperty(t,"__esModule",{value:!0}),i.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function e(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!0))},deactivate:function e(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!1))},toggle:function e(){this.active?this.deactivate():this.activate()},ignoreTarget:function e(t){return t[r]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function e(t){if(0===t.button&&!this.ignoreTarget(t.target)){if(t.originalTarget)try{t.originalTarget.tagName}catch(e){return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=t.clientX,this.clientYStart=t.clientY,this.document.addEventListener("mousemove",this._onmousemove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),t.preventDefault(),t.stopPropagation();var n=document.activeElement;n&&!n.contains(t.target)&&n.blur()}},_onmousemove:function e(t){if(this.element.removeEventListener("scroll",this._endPan,!0),o(t))this._endPan();else{var n=t.clientX-this.clientXStart,i=t.clientY-this.clientYStart,r=this.scrollTopStart-i,a=this.scrollLeftStart-n;this.element.scrollTo?this.element.scrollTo({top:r,left:a,behavior:"instant"}):(this.element.scrollTop=r,this.element.scrollLeft=a),this.overlay.parentNode||document.body.appendChild(this.overlay)}},_endPan:function e(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onmousemove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()}},["webkitM","mozM","msM","oM","m"].some(function(e){var t=e+"atches";return t in document.documentElement&&(r=t),(t+="Selector")in document.documentElement&&(r=t),r});var a=!document.documentMode||9<document.documentMode,s=window.chrome,u=s&&(s.webstore||s.app),l=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);t.GrabToPan=i},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=3e4,o={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},s=function(){function e(){i(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return r(e,[{key:"setViewer",value:function e(t){this.pdfViewer=t}},{key:"setThumbnailViewer",value:function e(t){this.pdfThumbnailViewer=t}},{key:"isHighestPriority",value:function e(t){return this.highestPriorityPage===t.renderingId}},{key:"renderHighestPriority",value:function e(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),a))}},{key:"getHighestPriority",value:function e(t,n,i){var r=t.views,a=r.length;if(0===a)return!1;for(var o=0;o<a;++o){var s=r[o].view;if(!this.isViewFinished(s))return s}if(i){var u=t.last.id;if(n[u]&&!this.isViewFinished(n[u]))return n[u]}else{var l=t.first.id-2;if(n[l]&&!this.isViewFinished(n[l]))return n[l]}return null}},{key:"isViewFinished",value:function e(t){return t.renderingState===o.FINISHED}},{key:"renderView",value:function e(t){var n=this;switch(t.renderingState){case o.FINISHED:return!1;case o.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case o.RUNNING:this.highestPriorityPage=t.renderingId;break;case o.INITIAL:this.highestPriorityPage=t.renderingId;var i=function e(){n.renderHighestPriority()};t.draw().then(i,i)}return!0}}]),e}();t.RenderingStates=o,t.PDFRenderingQueue=s},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSidebar=t.SidebarView=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=n(6),s=n(10),u="pdfSidebarNotification",l={NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3},r=function(){function r(e,t,n){var i=2<arguments.length&&void 0!==n?n:o.NullL10n;a(this,r),this.isOpen=!1,this.active=l.THUMBS,this.isInitialViewSet=!1,this.onToggled=null,this.pdfViewer=e.pdfViewer,this.pdfThumbnailViewer=e.pdfThumbnailViewer,this.outerContainer=e.outerContainer,this.viewerContainer=e.viewerContainer,this.toggleButton=e.toggleButton,this.thumbnailButton=e.thumbnailButton,this.outlineButton=e.outlineButton,this.attachmentsButton=e.attachmentsButton,this.thumbnailView=e.thumbnailView,this.outlineView=e.outlineView,this.attachmentsView=e.attachmentsView,this.disableNotification=e.disableNotification||!1,this.eventBus=t,this.l10n=i,this._addEventListeners()}return i(r,[{key:"reset",value:function e(){this.isInitialViewSet=!1,this._hideUINotification(null),this.switchView(l.THUMBS),this.outlineButton.disabled=!1,this.attachmentsButton.disabled=!1}},{key:"setInitialView",value:function e(t){var n=0<arguments.length&&void 0!==t?t:l.NONE;if(!this.isInitialViewSet)if(this.isInitialViewSet=!0,this.isOpen&&n===l.NONE)this._dispatchEvent();else{var i=n===this.visibleView;this.switchView(n,!0),i&&this._dispatchEvent()}}},{key:"switchView",value:function e(t,n){var i=1<arguments.length&&void 0!==n&&n;if(t!==l.NONE){var r=t!==this.active,a=!1;switch(t){case l.THUMBS:this.thumbnailButton.classList.add("toggled"),this.outlineButton.classList.remove("toggled"),this.attachmentsButton.classList.remove("toggled"),this.thumbnailView.classList.remove("hidden"),this.outlineView.classList.add("hidden"),this.attachmentsView.classList.add("hidden"),this.isOpen&&r&&(this._updateThumbnailViewer(),a=!0);break;case l.OUTLINE:if(this.outlineButton.disabled)return;this.thumbnailButton.classList.remove("toggled"),this.outlineButton.classList.add("toggled"),this.attachmentsButton.classList.remove("toggled"),this.thumbnailView.classList.add("hidden"),this.outlineView.classList.remove("hidden"),this.attachmentsView.classList.add("hidden");break;case l.ATTACHMENTS:if(this.attachmentsButton.disabled)return;this.thumbnailButton.classList.remove("toggled"),this.outlineButton.classList.remove("toggled"),this.attachmentsButton.classList.add("toggled"),this.thumbnailView.classList.add("hidden"),this.outlineView.classList.add("hidden"),this.attachmentsView.classList.remove("hidden");break;default:return void console.error('PDFSidebar_switchView: "'+t+'" is an unsupported value.')}this.active=0|t,!i||this.isOpen?(a&&this._forceRendering(),r&&this._dispatchEvent(),this._hideUINotification(this.active)):this.open()}else this.close()}},{key:"open",value:function e(){this.isOpen||(this.isOpen=!0,this.toggleButton.classList.add("toggled"),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.add("sidebarOpen"),this.active===l.THUMBS&&this._updateThumbnailViewer(),this._forceRendering(),this._dispatchEvent(),this._hideUINotification(this.active))}},{key:"close",value:function e(){this.isOpen&&(this.isOpen=!1,this.toggleButton.classList.remove("toggled"),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.remove("sidebarOpen"),this._forceRendering(),this._dispatchEvent())}},{key:"toggle",value:function e(){this.isOpen?this.close():this.open()}},{key:"_dispatchEvent",value:function e(){this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}},{key:"_forceRendering",value:function e(){this.onToggled?this.onToggled():(this.pdfViewer.forceRendering(),this.pdfThumbnailViewer.forceRendering())}},{key:"_updateThumbnailViewer",value:function e(){for(var t=this.pdfViewer,n=this.pdfThumbnailViewer,i=t.pagesCount,r=0;r<i;r++){var a=t.getPageView(r),o;if(a&&a.renderingState===s.RenderingStates.FINISHED)n.getThumbnail(r).setImage(a)}n.scrollThumbnailIntoView(t.currentPageNumber)}},{key:"_showUINotification",value:function e(t){var n=this;if(!this.disableNotification){if(this.l10n.get("toggle_sidebar_notification.title",null,"Toggle Sidebar (document contains outline/attachments)").then(function(e){n.toggleButton.title=e}),this.isOpen){if(t===this.active)return}else this.toggleButton.classList.add(u);switch(t){case l.OUTLINE:this.outlineButton.classList.add(u);break;case l.ATTACHMENTS:this.attachmentsButton.classList.add(u)}}}},{key:"_hideUINotification",value:function e(t){var n=this;if(!this.disableNotification){var i=function e(t){switch(t){case l.OUTLINE:n.outlineButton.classList.remove(u);break;case l.ATTACHMENTS:n.attachmentsButton.classList.remove(u)}};if(this.isOpen||null===t)if(this.toggleButton.classList.remove(u),null===t){for(t in l)i(l[t]);this.l10n.get("toggle_sidebar.title",null,"Toggle Sidebar").then(function(e){n.toggleButton.title=e})}else i(t)}}},{key:"_addEventListeners",value:function e(){var n=this;this.viewerContainer.addEventListener("transitionend",function(e){e.target===n.viewerContainer&&n.outerContainer.classList.remove("sidebarMoving")}),this.thumbnailButton.addEventListener("click",function(){n.switchView(l.THUMBS)}),this.outlineButton.addEventListener("click",function(){n.switchView(l.OUTLINE)}),this.outlineButton.addEventListener("dblclick",function(){n.eventBus.dispatch("toggleoutlinetree",{source:n})}),this.attachmentsButton.addEventListener("click",function(){n.switchView(l.ATTACHMENTS)}),this.eventBus.on("outlineloaded",function(e){var t=e.outlineCount;n.outlineButton.disabled=!t,t?n._showUINotification(l.OUTLINE):n.active===l.OUTLINE&&n.switchView(l.THUMBS)}),this.eventBus.on("attachmentsloaded",function(e){if(e.attachmentsCount)return n.attachmentsButton.disabled=!1,void n._showUINotification(l.ATTACHMENTS);Promise.resolve().then(function(){n.attachmentsView.hasChildNodes()||(n.attachmentsButton.disabled=!0,n.active===l.ATTACHMENTS&&n.switchView(l.THUMBS))})}),this.eventBus.on("presentationmodechanged",function(e){e.active||e.switchInProgress||!n.isThumbnailViewVisible||n._updateThumbnailViewer()})}},{key:"visibleView",get:function e(){return this.isOpen?this.active:l.NONE}},{key:"isThumbnailViewVisible",get:function e(){return this.isOpen&&this.active===l.THUMBS}},{key:"isOutlineViewVisible",get:function e(){return this.isOpen&&this.active===l.OUTLINE}},{key:"isAttachmentsViewVisible",get:function e(){return this.isOpen&&this.active===l.ATTACHMENTS}}]),r}();t.SidebarView=l,t.PDFSidebar=r},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OptionKind=t.AppOptions=void 0;var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=n(7),o=n(13),s={VIEWER:"viewer",API:"api",WORKER:"worker"},u={cursorToolOnLoad:{value:0,kind:s.VIEWER},defaultUrl:{value:dedalo_pdfjs_options.url,kind:s.VIEWER},defaultZoomValue:{value:"",kind:s.VIEWER},disableHistory:{value:!1,kind:s.VIEWER},disablePageLabels:{value:!1,kind:s.VIEWER},disablePageMode:{value:!1,kind:s.VIEWER},enablePrintAutoRotate:{value:!1,kind:s.VIEWER},enableWebGL:{value:!1,kind:s.VIEWER},eventBusDispatchToDOM:{value:!1,kind:s.VIEWER},externalLinkRel:{value:"noopener noreferrer nofollow",kind:s.VIEWER},externalLinkTarget:{value:0,kind:s.VIEWER},imageResourcesPath:{value:dedalo_pdfjs_options.imageResourcesPath,kind:s.VIEWER},maxCanvasPixels:{value:o.viewerCompatibilityParams.maxCanvasPixels||16777216,kind:s.VIEWER},pdfBugEnabled:{value:!1,kind:s.VIEWER},renderer:{value:"canvas",kind:s.VIEWER},renderInteractiveForms:{value:!1,kind:s.VIEWER},showPreviousViewOnLoad:{value:!0,kind:s.VIEWER},sidebarViewOnLoad:{value:0,kind:s.VIEWER},scrollModeOnLoad:{value:0,kind:s.VIEWER},spreadModeOnLoad:{value:0,kind:s.VIEWER},textLayerMode:{value:1,kind:s.VIEWER},useOnlyCssZoom:{value:!1,kind:s.VIEWER},cMapPacked:{value:!0,kind:s.API},cMapUrl:{value:dedalo_pdfjs_options.cMapUrl,kind:s.API},disableAutoFetch:{value:!1,kind:s.API},disableCreateObjectURL:{value:a.apiCompatibilityParams.disableCreateObjectURL||!1,kind:s.API},disableFontFace:{value:!1,kind:s.API},disableRange:{value:!1,kind:s.API},disableStream:{value:!1,kind:s.API},isEvalSupported:{value:!0,kind:s.API},maxImageSize:{value:-1,kind:s.API},pdfBug:{value:!1,kind:s.API},postMessageTransfers:{value:!0,kind:s.API},verbosity:{value:1,kind:s.API},workerPort:{value:null,kind:s.WORKER},workerSrc:{value:dedalo_pdfjs_options.workerSrc,kind:s.WORKER}};u.locale={value:dedalo_pdfjs_options.locale,kind:s.VIEWER};var l=Object.create(null),c=function(){function e(){throw i(this,e),new Error("Cannot initialize AppOptions.")}return r(e,null,[{key:"get",value:function e(t){var n=u[t],i=l[t];return void 0!==i?i:void 0!==n?n.value:void 0}},{key:"getAll",value:function e(t){var n=0<arguments.length&&void 0!==t?t:null,i=Object.create(null);for(var r in u){var a=u[r],o=l[r];n&&a.kind!==n||(i[r]=void 0!==o?o:a.value)}return i}},{key:"set",value:function e(t,n){l[t]=n}},{key:"remove",value:function e(t){delete l[t]}}]),e}();t.AppOptions=c,t.OptionKind=s},function(e,t,n){var i=Object.create(null),r="undefined"!=typeof navigator&&navigator.userAgent||"",a=/Android/.test(r),o=/\b(iPad|iPhone|iPod)(?=;)/.test(r);!function e(){(o||a)&&(i.maxCanvasPixels=5242880)}(),t.viewerCompatibilityParams=Object.freeze(i)},function(e,t,n){function i(e){e.on("documentload",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),e.on("pagerendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagerendered",!0,!0,{pageNumber:e.pageNumber,cssTransform:e.cssTransform}),e.source.div.dispatchEvent(t)}),e.on("textlayerrendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e.pageNumber}),e.source.textLayerDiv.dispatchEvent(t)}),e.on("pagechange",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("pagechange",!0,!0,window,0),t.pageNumber=e.pageNumber,e.source.container.dispatchEvent(t)}),e.on("pagesinit",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",!0,!0,null),e.source.container.dispatchEvent(t)}),e.on("pagesloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e.pagesCount}),e.source.container.dispatchEvent(t)}),e.on("scalechange",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scalechange",!0,!0,window,0),t.scale=e.scale,t.presetValue=e.presetValue,e.source.container.dispatchEvent(t)}),e.on("updateviewarea",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("updateviewarea",!0,!0,window,0),t.location=e.location,e.source.container.dispatchEvent(t)}),e.on("find",function(e){if(e.source!==window){var t=document.createEvent("CustomEvent");t.initCustomEvent("find"+e.type,!0,!0,{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,highlightAll:e.highlightAll,findPrevious:e.findPrevious}),window.dispatchEvent(t)}}),e.on("attachmentsloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e.attachmentsCount}),e.source.container.dispatchEvent(t)}),e.on("sidebarviewchanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("sidebarviewchanged",!0,!0,{view:e.view}),e.source.outerContainer.dispatchEvent(t)}),e.on("pagemode",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagemode",!0,!0,{mode:e.mode}),e.source.pdfViewer.container.dispatchEvent(t)}),e.on("namedaction",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("namedaction",!0,!0,{action:e.action}),e.source.pdfViewer.container.dispatchEvent(t)}),e.on("presentationmodechanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("presentationmodechanged",!0,!0,{active:e.active,switchInProgress:e.switchInProgress}),window.dispatchEvent(t)}),e.on("outlineloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e.outlineCount}),e.source.container.dispatchEvent(t)})}function r(e){var t=0<arguments.length&&void 0!==e&&e;return o||(o=new a.EventBus({dispatchToDOM:t}),t||i(o)),o}Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalEventBus=t.attachDOMEventsToEventBus=void 0;var a=n(6),o=null;t.attachDOMEventsToEventBus=i,t.getGlobalEventBus=r},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){function o(e,t){try{var n=s[e](t),i=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(i).then(function(e){o("next",e)},function(e){o("throw",e)});r(i)}return o("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayManager=void 0;var o,u=i(n(2)),s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),l=function(){function e(){a(this,e),this._overlays={},this._active=null,this._keyDownBound=this._keyDown.bind(this)}return s(e,[{key:"register",value:function(){function e(e,t){return n.apply(this,arguments)}var n=r(u.default.mark(function e(n,i,t,r){var a=2<arguments.length&&void 0!==t?t:null,o=3<arguments.length&&void 0!==r&&r,s;return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:if(s=void 0,n&&i&&(s=i.parentNode)){t.next=5;break}throw new Error("Not enough parameters.");case 5:if(this._overlays[n])throw new Error("The overlay is already registered.");t.next=7;break;case 7:this._overlays[n]={element:i,container:s,callerCloseMethod:a,canForceClose:o};case 8:case"end":return t.stop()}},e,this)}));return e}()},{key:"unregister",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.default.mark(function e(n){return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:if(this._overlays[n]){t.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active===n)throw new Error("The overlay cannot be removed while it is active.");t.next=6;break;case 6:delete this._overlays[n];case 7:case"end":return t.stop()}},e,this)}));return e}()},{key:"open",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.default.mark(function e(n){return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:if(this._overlays[n]){t.next=4;break}throw new Error("The overlay does not exist.");case 4:if(!this._active){t.next=14;break}if(!this._overlays[n].canForceClose){t.next=9;break}this._closeThroughCaller(),t.next=14;break;case 9:if(this._active===n)throw new Error("The overlay is already active.");t.next=13;break;case 13:throw new Error("Another overlay is currently active.");case 14:this._active=n,this._overlays[this._active].element.classList.remove("hidden"),this._overlays[this._active].container.classList.remove("hidden"),window.addEventListener("keydown",this._keyDownBound);case 18:case"end":return t.stop()}},e,this)}));return e}()},{key:"close",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.default.mark(function e(n){return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:if(this._overlays[n]){t.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active){t.next=8;break}throw new Error("The overlay is currently not active.");case 8:if(this._active!==n)throw new Error("Another overlay is currently active.");t.next=10;break;case 10:this._overlays[this._active].container.classList.add("hidden"),this._overlays[this._active].element.classList.add("hidden"),this._active=null,window.removeEventListener("keydown",this._keyDownBound);case 14:case"end":return t.stop()}},e,this)}));return e}()},{key:"_keyDown",value:function e(t){this._active&&27===t.keyCode&&(this._closeThroughCaller(),t.preventDefault())}},{key:"_closeThroughCaller",value:function e(){this._overlays[this._active].callerCloseMethod&&this._overlays[this._active].callerCloseMethod(),this._active&&this.close(this._active)}},{key:"active",get:function e(){return this._active}}]),e}();t.OverlayManager=l},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordPrompt=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=n(6),r=n(7),a=function(){function a(e,t,n){var i=this,r=2<arguments.length&&void 0!==n?n:s.NullL10n;o(this,a),this.overlayName=e.overlayName,this.container=e.container,this.label=e.label,this.input=e.input,this.submitButton=e.submitButton,this.cancelButton=e.cancelButton,this.overlayManager=t,this.l10n=r,this.updateCallback=null,this.reason=null,this.submitButton.addEventListener("click",this.verify.bind(this)),this.cancelButton.addEventListener("click",this.close.bind(this)),this.input.addEventListener("keydown",function(e){13===e.keyCode&&i.verify()}),this.overlayManager.register(this.overlayName,this.container,this.close.bind(this),!0)}return i(a,[{key:"open",value:function e(){var t=this;this.overlayManager.open(this.overlayName).then(function(){t.input.focus();var e=void 0;(e=t.reason===r.PasswordResponses.INCORRECT_PASSWORD?t.l10n.get("password_invalid",null,"Invalid password. Please try again."):t.l10n.get("password_label",null,"Enter the password to open this PDF file.")).then(function(e){t.label.textContent=e})})}},{key:"close",value:function e(){var t=this;this.overlayManager.close(this.overlayName).then(function(){t.input.value=""})}},{key:"verify",value:function e(){var t=this.input.value;if(t&&0<t.length)return this.close(),this.updateCallback(t)}},{key:"setUpdateCallback",value:function e(t,n){this.updateCallback=t,this.reason=n}}]),a}();t.PasswordPrompt=a},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFAttachmentViewer=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),h=n(7),r=function(){function r(e){var t=e.container,n=e.eventBus,i=e.downloadManager;a(this,r),this.container=t,this.eventBus=n,this.downloadManager=i,this.reset(),this.eventBus.on("fileattachmentannotation",this._appendAttachment.bind(this))}return i(r,[{key:"reset",value:function e(t){var n=0<arguments.length&&void 0!==t&&t;this.attachments=null,this.container.textContent="",n||(this._renderedCapability=(0,h.createPromiseCapability)())}},{key:"_dispatchEvent",value:function e(t){this._renderedCapability.resolve(),this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:t})}},{key:"_bindPdfLink",value:function e(t,n,i){if(this.downloadManager.disableCreateObjectURL)throw new Error('bindPdfLink: Unsupported "disableCreateObjectURL" value.');var r=void 0;t.onclick=function(){r||(r=(0,h.createObjectURL)(n,"application/pdf"));var e=void 0;return e="?file="+encodeURIComponent(r+"#"+i),window.open(e),!1}}},{key:"_bindLink",value:function e(t,n,i){var r=this;t.onclick=function(){return r.downloadManager.downloadData(n,i,""),!1}}},{key:"render",value:function e(t){var n=t.attachments,i=t.keepRenderedCapability,r=void 0!==i&&i,a=0;if(this.attachments&&this.reset(!0===r),this.attachments=n||null,n){var o=Object.keys(n).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});a=o.length;for(var s=0;s<a;s++){var u=n[o[s]],l=(0,h.removeNullCharacters)((0,h.getFilenameFromUrl)(u.filename)),c=document.createElement("div");c.className="attachmentsItem";var d=document.createElement("button");d.textContent=l,/\.pdf$/i.test(l)&&!this.downloadManager.disableCreateObjectURL?this._bindPdfLink(d,u.content,l):this._bindLink(d,u.content,l),c.appendChild(d),this.container.appendChild(c)}this._dispatchEvent(a)}else this._dispatchEvent(a)}},{key:"_appendAttachment",value:function e(t){var n=this,i=t.id,r=t.filename,a=t.content;this._renderedCapability.promise.then(function(){var e=n.attachments;if(e){for(var t in e)if(i===t)return}else e=Object.create(null);e[i]={filename:r,content:a},n.render({attachments:e,keepRenderedCapability:!0})})}}]),r}();t.PDFAttachmentViewer=r},function(e,t,n){function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){var i,r;return n[(t?e.width:e.height)+"x"+(t?e.height:e.width)]}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDocumentProperties=void 0;var p=function(){function n(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),v=n(6),r=n(7),o="-",f=["en-us","en-lr","my"],g={"8.5x11":"Letter","8.5x14":"Legal"},m={"297x420":"A3","210x297":"A4"},a=function(){function c(e,t,n,i){var r=e.overlayName,a=e.fields,o=e.container,s=e.closeButton,u=this,l=3<arguments.length&&void 0!==i?i:v.NullL10n;d(this,c),this.overlayName=r,this.fields=a,this.container=o,this.overlayManager=t,this.l10n=l,this._reset(),s&&s.addEventListener("click",this.close.bind(this)),this.overlayManager.register(this.overlayName,this.container,this.close.bind(this)),n&&(n.on("pagechanging",function(e){u._currentPageNumber=e.pageNumber}),n.on("rotationchanging",function(e){u._pagesRotation=e.pagesRotation})),this._isNonMetricLocale=!0,l.getLanguage().then(function(e){u._isNonMetricLocale=f.includes(e)})}return i(c,[{key:"open",value:function e(){var h=this,f=function e(t){Object.defineProperty(h,"fieldData",{value:Object.freeze(t),writable:!1,enumerable:!0,configurable:!0})};Promise.all([this.overlayManager.open(this.overlayName),this._dataAvailableCapability.promise]).then(function(){var c=h._currentPageNumber,d=h._pagesRotation;h.fieldData&&c===h.fieldData._currentPageNumber&&d===h.fieldData._pagesRotation?h._updateUI():h.pdfDocument.getMetadata().then(function(e){var t=e.info,n=e.metadata,i=e.contentDispositionFilename;return Promise.all([t,n,i||(0,v.getPDFFileNameFromURL)(h.url||""),h._parseFileSize(h.maybeFileSize),h._parseDate(t.CreationDate),h._parseDate(t.ModDate),h.pdfDocument.getPage(c).then(function(e){return h._parsePageSize((0,v.getPageSizeInches)(e),d)}),h._parseLinearization(t.IsLinearized)])}).then(function(e){var t=p(e,8),n=t[0],i=t[1],r=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7];return f({fileName:r,fileSize:a,title:n.Title,author:n.Author,subject:n.Subject,keywords:n.Keywords,creationDate:o,modificationDate:s,creator:n.Creator,producer:n.Producer,version:n.PDFFormatVersion,pageCount:h.pdfDocument.numPages,pageSize:u,linearized:l,_currentPageNumber:c,_pagesRotation:d}),h._updateUI(),h.pdfDocument.getDownloadInfo()}).then(function(e){var t=e.length;return h.maybeFileSize=t,h._parseFileSize(t)}).then(function(e){if(e!==h.fieldData.fileSize){var t=Object.assign(Object.create(null),h.fieldData);t.fileSize=e,f(t),h._updateUI()}})})}},{key:"close",value:function e(){this.overlayManager.close(this.overlayName)}},{key:"setDocument",value:function e(t,n){var i=1<arguments.length&&void 0!==n?n:null;this.pdfDocument&&(this._reset(),this._updateUI(!0)),t&&(this.pdfDocument=t,this.url=i,this._dataAvailableCapability.resolve())}},{key:"setFileSize",value:function e(t){Number.isInteger(t)&&0<t&&(this.maybeFileSize=t)}},{key:"_reset",value:function e(){this.pdfDocument=null,this.url=null,this.maybeFileSize=0,delete this.fieldData,this._dataAvailableCapability=(0,r.createPromiseCapability)(),this._currentPageNumber=1,this._pagesRotation=0}},{key:"_updateUI",value:function e(t){var n;if(!(0<arguments.length&&void 0!==t&&t)&&this.fieldData){if(this.overlayManager.active===this.overlayName)for(var i in this.fields){var r=this.fieldData[i];this.fields[i].textContent=r||0===r?r:o}}else for(var a in this.fields)this.fields[a].textContent=o}},{key:"_parseFileSize",value:function e(t){var n=0<arguments.length&&void 0!==t?t:0,i=n/1024;return i?i<1024?this.l10n.get("document_properties_kb",{size_kb:(+i.toPrecision(3)).toLocaleString(),size_b:n.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"):this.l10n.get("document_properties_mb",{size_mb:(+(i/1024).toPrecision(3)).toLocaleString(),size_b:n.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)"):Promise.resolve(void 0)}},{key:"_parsePageSize",value:function e(t,n){var u=this;if(!t)return Promise.resolve(void 0);n%180!=0&&(t={width:t.height,height:t.width});var i=(0,v.isPortraitOrientation)(t),r={width:Math.round(100*t.width)/100,height:Math.round(100*t.height)/100},a={width:Math.round(25.4*t.width*10)/10,height:Math.round(25.4*t.height*10)/10},o=null,s=h(r,i,g)||h(a,i,m);if(!(s||Number.isInteger(a.width)&&Number.isInteger(a.height))){var l=25.4*t.width,c=25.4*t.height,d={width:Math.round(a.width),height:Math.round(a.height)};Math.abs(l-d.width)<.1&&Math.abs(c-d.height)<.1&&(s=h(d,i,m))&&(r={width:Math.round(d.width/25.4*100)/100,height:Math.round(d.height/25.4*100)/100},a=d)}return s&&(o=this.l10n.get("document_properties_page_size_name_"+s.toLowerCase(),null,s)),Promise.all([this._isNonMetricLocale?r:a,this.l10n.get("document_properties_page_size_unit_"+(this._isNonMetricLocale?"inches":"millimeters"),null,this._isNonMetricLocale?"in":"mm"),o,this.l10n.get("document_properties_page_size_orientation_"+(
i?"portrait":"landscape"),null,i?"portrait":"landscape")]).then(function(e){var t=p(e,4),n=t[0],i=n.width,r=n.height,a=t[1],o=t[2],s=t[3];return u.l10n.get("document_properties_page_size_dimension_"+(o?"name_":"")+"string",{width:i.toLocaleString(),height:r.toLocaleString(),unit:a,name:o,orientation:s},"{{width}}  {{height}} {{unit}} ("+(o?"{{name}}, ":"")+"{{orientation}})")})}},{key:"_parseDate",value:function e(t){if(t){var n=t;"D:"===n.substring(0,2)&&(n=n.substring(2));var i=parseInt(n.substring(0,4),10),r=parseInt(n.substring(4,6),10)-1,a=parseInt(n.substring(6,8),10),o=parseInt(n.substring(8,10),10),s=parseInt(n.substring(10,12),10),u=parseInt(n.substring(12,14),10),l=n.substring(14,15),c=parseInt(n.substring(15,17),10),d=parseInt(n.substring(18,20),10);"-"===l?(o+=c,s+=d):"+"===l&&(o-=c,s-=d);var h=new Date(Date.UTC(i,r,a,o,s,u)),f=h.toLocaleDateString(),p=h.toLocaleTimeString();return this.l10n.get("document_properties_date_string",{date:f,time:p},"{{date}}, {{time}}")}}},{key:"_parseLinearization",value:function e(t){return this.l10n.get("document_properties_linearized_"+(t?"yes":"no"),null,t?"Yes":"No")}}]),c}();t.PDFDocumentProperties=a},function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindBar=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=n(6),l=n(20),c=1e3,r=function(){function o(e,t,n){var i=this,r=1<arguments.length&&void 0!==t?t:(0,u.getGlobalEventBus)(),a=2<arguments.length&&void 0!==n?n:u.NullL10n;s(this,o),this.opened=!1,this.bar=e.bar||null,this.toggleButton=e.toggleButton||null,this.findField=e.findField||null,this.highlightAll=e.highlightAllCheckbox||null,this.caseSensitive=e.caseSensitiveCheckbox||null,this.entireWord=e.entireWordCheckbox||null,this.findMsg=e.findMsg||null,this.findResultsCount=e.findResultsCount||null,this.findPreviousButton=e.findPreviousButton||null,this.findNextButton=e.findNextButton||null,this.eventBus=r,this.l10n=a,this.toggleButton.addEventListener("click",function(){i.toggle()}),this.findField.addEventListener("input",function(){i.dispatchEvent("")}),this.bar.addEventListener("keydown",function(e){switch(e.keyCode){case 13:e.target===i.findField&&i.dispatchEvent("again",e.shiftKey);break;case 27:i.close()}}),this.findPreviousButton.addEventListener("click",function(){i.dispatchEvent("again",!0)}),this.findNextButton.addEventListener("click",function(){i.dispatchEvent("again",!1)}),this.highlightAll.addEventListener("click",function(){i.dispatchEvent("highlightallchange")}),this.caseSensitive.addEventListener("click",function(){i.dispatchEvent("casesensitivitychange")}),this.entireWord.addEventListener("click",function(){i.dispatchEvent("entirewordchange")}),this.eventBus.on("resize",this._adjustWidth.bind(this))}return i(o,[{key:"reset",value:function e(){this.updateUIState()}},{key:"dispatchEvent",value:function e(t,n){this.eventBus.dispatch("find",{source:this,type:t,query:this.findField.value,phraseSearch:!0,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:n})}},{key:"updateUIState",value:function e(t,n,i){var r=this,a=!1,o="",s="";switch(t){case l.FindState.FOUND:break;case l.FindState.PENDING:s="pending";break;case l.FindState.NOT_FOUND:o=this.l10n.get("find_not_found",null,"Phrase not found"),a=!0;break;case l.FindState.WRAPPED:o=n?this.l10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):this.l10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}this.findField.classList.toggle("notFound",a),this.findField.setAttribute("data-status",s),Promise.resolve(o).then(function(e){r.findMsg.textContent=e,r._adjustWidth()}),this.updateResultsCount(i)}},{key:"updateResultsCount",value:function e(t){var n=this,i=0<arguments.length&&void 0!==t?t:{},r=i.current,a=void 0===r?0:r,o=i.total,s=void 0===o?0:o;if(this.findResultsCount){var u="",l=c;0<s&&(u=l<s?this.l10n.get("find_match_count_limit",{limit:l},"More than {{limit}} matches"):this.l10n.get("find_match_count",{current:a,total:s},"{{current}} of {{total}} match"+(1!==s?"es":""))),Promise.resolve(u).then(function(e){n.findResultsCount.textContent=e,n.findResultsCount.classList[s?"remove":"add"]("hidden"),n._adjustWidth()})}}},{key:"open",value:function e(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.bar.classList.remove("hidden")),this.findField.select(),this.findField.focus(),this._adjustWidth()}},{key:"close",value:function e(){this.opened&&(this.opened=!1,this.toggleButton.classList.remove("toggled"),this.bar.classList.add("hidden"),this.eventBus.dispatch("findbarclose",{source:this}))}},{key:"toggle",value:function e(){this.opened?this.close():this.open()}},{key:"_adjustWidth",value:function e(){if(this.opened){this.bar.classList.remove("wrapContainers");var t=this.bar.clientHeight,n;this.bar.firstElementChild.clientHeight<t&&this.bar.classList.add("wrapContainers")}}}]),o}();t.PDFFindBar=r},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=n(7),l=n(21),s=n(14),c={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},d=250,h={"":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},r=function(){function a(e){var t=e.linkService,n=e.eventBus,i=void 0===n?(0,s.getGlobalEventBus)():n;o(this,a),this._linkService=t,this._eventBus=i,this._reset(),i.on("findbarclose",this._onFindBarClose.bind(this));var r=Object.keys(h).join("");this._normalizationRegex=new RegExp("["+r+"]","g")}return i(a,[{key:"setDocument",value:function e(t){this._pdfDocument&&this._reset(),t&&(this._pdfDocument=t,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function e(t,n){var i=this,r=this._pdfDocument;null!==this._state&&"findagain"===t||(this._dirtyMatch=!0),this._state=n,this._updateUIState(c.PENDING),this._firstPageCapability.promise.then(function(){!i._pdfDocument||r&&i._pdfDocument!==r||(i._extractText(),i._findTimeout&&(clearTimeout(i._findTimeout),i._findTimeout=null),"find"===t?i._findTimeout=setTimeout(function(){i._nextMatch(),i._findTimeout=null},d):i._nextMatch())})}},{key:"_reset",value:function e(){this._highlightMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=null,this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,u.createPromiseCapability)()}},{key:"_normalize",value:function e(t){return t.replace(this._normalizationRegex,function(e){return h[e]})}},{key:"_prepareMatches",value:function e(t,n,i){function r(e,t){var n=e[t],i=e[t+1];if(t<e.length-1&&n.match===i.match)return n.skipped=!0;for(var r=t-1;0<=r;r--){var a=e[r];if(!a.skipped){if(a.match+a.matchLength<n.match)break;if(a.match+a.matchLength>=n.match+n.matchLength)return n.skipped=!0}}return!1}t.sort(function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match});for(var a=0,o=t.length;a<o;a++)r(t,a)||(n.push(t[a].match),i.push(t[a].matchLength))}},{key:"_isEntireWord",value:function e(t,n,i){if(0<n){var r=t.charCodeAt(n),a=t.charCodeAt(n-1);if((0,l.getCharacterType)(r)===(0,l.getCharacterType)(a))return!1}var o=n+i-1;if(o<t.length-1){var s=t.charCodeAt(o),u=t.charCodeAt(o+1);if((0,l.getCharacterType)(s)===(0,l.getCharacterType)(u))return!1}return!0}},{key:"_calculatePhraseMatch",value:function e(t,n,i,r){for(var a=[],o=t.length,s=-o;-1!==(s=i.indexOf(t,s+o));)r&&!this._isEntireWord(i,s,o)||a.push(s);this._pageMatches[n]=a}},{key:"_calculateWordMatch",value:function e(t,n,i,r){for(var a=[],o=t.match(/\S+/g),s=0,u=o.length;s<u;s++)for(var l=o[s],c=l.length,d=-c;-1!==(d=i.indexOf(l,d+c));)r&&!this._isEntireWord(i,d,c)||a.push({match:d,matchLength:c,skipped:!1});this._pageMatchesLength||(this._pageMatchesLength=[]),this._pageMatchesLength[n]=[],this._pageMatches[n]=[],this._prepareMatches(a,this._pageMatches[n],this._pageMatchesLength[n])}},{key:"_calculateMatch",value:function e(t){var n=this._normalize(this._pageContents[t]),i=this._normalize(this._state.query),r=this._state,a=r.caseSensitive,o=r.entireWord,s=r.phraseSearch;if(0!==i.length){a||(n=n.toLowerCase(),i=i.toLowerCase()),s?this._calculatePhraseMatch(i,t,n,o):this._calculateWordMatch(i,t,n,o),this._updatePage(t),this._resumePageIdx===t&&(this._resumePageIdx=null,this._nextPageMatch());var u=this._pageMatches[t].length;0<u&&(this._matchesCountTotal+=u,this._updateUIResultsCount())}}},{key:"_extractText",value:function e(){var s=this;if(!(0<this._extractTextPromises.length))for(var n=Promise.resolve(),t=function e(a,t){var o=(0,u.createPromiseCapability)();s._extractTextPromises[a]=o.promise,n=n.then(function(){return s._pdfDocument.getPage(a+1).then(function(e){return e.getTextContent({normalizeWhitespace:!0})}).then(function(e){for(var t=e.items,n=[],i=0,r=t.length;i<r;i++)n.push(t[i].str);s._pageContents[a]=n.join(""),o.resolve(a)},function(e){console.error("Unable to get text content for page "+(a+1),e),s._pageContents[a]="",o.resolve(a)})})},i=0,r=this._linkService.pagesCount;i<r;i++)t(i,r)}},{key:"_updatePage",value:function e(t){this._selected.pageIdx===t&&(this._linkService.page=t+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}},{key:"_nextMatch",value:function e(){var t=this,n=this._state.findPrevious,i=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=i,this._offset.matchIdx=null,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength=null;for(var a=this._matchesCountTotal=0;a<r;a++)this._updatePage(a),a in this._pendingFindMatches||(this._pendingFindMatches[a]=!0,this._extractTextPromises[a].then(function(e){delete t._pendingFindMatches[e],t._calculateMatch(e)}))}if(""!==this._state.query){if(!this._resumePageIdx){var o=this._offset;if(this._pagesToSearch=r,null!==o.matchIdx){var s=this._pageMatches[o.pageIdx].length;if(!n&&o.matchIdx+1<s||n&&0<o.matchIdx)return o.matchIdx=n?o.matchIdx-1:o.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(n)}this._nextPageMatch()}}else this._updateUIState(c.FOUND)}},{key:"_matchesReady",value:function e(t){var n=this._offset,i=t.length,r=this._state.findPrevious;return i?(n.matchIdx=r?i-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(r),!!(n.wrapped&&(n.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function e(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var t=null;do{var n=this._offset.pageIdx;if(!(t=this._pageMatches[n])){this._resumePageIdx=n;break}}while(!this._matchesReady(t))}},{key:"_advanceOffsetPage",value:function e(t){var n=this._offset,i=this._linkService.pagesCount;n.pageIdx=t?n.pageIdx-1:n.pageIdx+1,n.matchIdx=null,this._pagesToSearch--,(n.pageIdx>=i||n.pageIdx<0)&&(n.pageIdx=t?i-1:0,n.wrapped=!0)}},{key:"_updateMatch",value:function e(t){var n=0<arguments.length&&void 0!==t&&t,i=c.NOT_FOUND,r=this._offset.wrapped;if(this._offset.wrapped=!1,n){var a=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,i=r?c.WRAPPED:c.FOUND,-1!==a&&a!==this._selected.pageIdx&&this._updatePage(a)}this._updateUIState(i,this._state.findPrevious),-1!==this._selected.pageIdx&&this._updatePage(this._selected.pageIdx)}},{key:"_onFindBarClose",value:function e(t){var n=this,i=this._pdfDocument;this._firstPageCapability.promise.then(function(){!n._pdfDocument||i&&n._pdfDocument!==i||(n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null,n._updateUIState(c.FOUND)),n._highlightMatches=!1,n._eventBus.dispatch("updatetextlayermatches",{source:n,pageIndex:-1}))})}},{key:"_requestMatchesCount",value:function e(){var t=this._selected,n=t.pageIdx,i=t.matchIdx,r=0,a=this._matchesCountTotal;if(-1!==i){for(var o=0;o<n;o++)r+=this._pageMatches[o]&&this._pageMatches[o].length||0;r+=i+1}return(r<1||a<r)&&(r=a=0),{current:r,total:a}}},{key:"_updateUIResultsCount",value:function e(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function e(t,n){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:n,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function e(){return this._highlightMatches}},{key:"pageMatches",get:function e(){return this._pageMatches}},{key:"pageMatchesLength",get:function e(){return this._pageMatchesLength}},{key:"selected",get:function e(){return this._selected}},{key:"state",get:function e(){return this._state}}]),a}();t.FindState=c,t.PDFFindController=r},function(e,t,n){function i(e){return e<11904}function r(e){return 0==(65408&e)}function a(e){return 97<=e&&e<=122||65<=e&&e<=90}function o(e){return 48<=e&&e<=57}function s(e){return 32===e||9===e||13===e||10===e}function u(e){return 13312<=e&&e<=40959||63744<=e&&e<=64255}function l(e){return 12448<=e&&e<=12543}function c(e){return 12352<=e&&e<=12447}function d(e){return 65376<=e&&e<=65439}function h(e){return 3584==(65408&e)}function f(e){return i(e)?r(e)?s(e)?p.SPACE:a(e)||o(e)||95===e?p.ALPHA_LETTER:p.PUNCT:h(e)?p.THAI_LETTER:160===e?p.SPACE:p.ALPHA_LETTER:u(e)?p.HAN_LETTER:l(e)?p.KATAKANA_LETTER:c(e)?p.HIRAGANA_LETTER:d(e)?p.HALFWIDTH_KATAKANA_LETTER:p.ALPHA_LETTER}Object.defineProperty(t,"__esModule",{value:!0});var p={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=p,t.getCharacterType=f},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(){return document.location.hash}function h(e){var t=unescape(d()).substring(1),n,i=0|(0,f.parseQueryString)(t).page;return Number.isInteger(i)&&0<i&&i<=e.pagesCount||(i=null),{hash:t,page:i,rotation:e.rotation}}function u(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||(0,f.parseQueryString)(e).nameddest===t);var n,i}function l(e,t){function i(e,t){if((void 0===e?"undefined":o(e))!==(void 0===t?"undefined":o(t)))return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null===e||"object"!==(void 0===e?"undefined":o(e))||null===t)return e===t||Number.isNaN(e)&&Number.isNaN(t);if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!i(e[n],t[n]))return!1;return!0}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!i(e[n],t[n]))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.isDestArraysEqual=t.isDestHashesEqual=t.PDFHistory=void 0;var o="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),f=n(6),s=n(14),p=1e3,r=50,c=1e3,v=function(){function r(e){var t=this,n=e.linkService,i=e.eventBus;a(this,r),this.linkService=n,this.eventBus=i||(0,s.getGlobalEventBus)(),this.initialized=!1,this.initialBookmark=null,this.initialRotation=null,this._boundEvents=Object.create(null),this._isViewerInPresentationMode=!1,this._isPagesLoaded=!1,this.eventBus.on("presentationmodechanged",function(e){t._isViewerInPresentationMode=e.active||e.switchInProgress}),this.eventBus.on("pagesloaded",function(e){t._isPagesLoaded=!!e.pagesCount})}return i(r,[{key:"initialize",value:function e(t,n){var i=1<arguments.length&&void 0!==n&&n;if(t&&"string"==typeof t){var r=this.initialized&&this.fingerprint!==t;this.fingerprint=t,this.initialized||this._bindEvents();var a=window.history.state;if(this.initialized=!0,this.initialBookmark=null,this.initialRotation=null,this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=d(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(a)||i){var o=h(this.linkService),s=o.hash,u=o.page,l=o.rotation;return!s||r||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:s,page:u,rotation:l},!0)}var c=a.destination;this._updateInternalState(c,a.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==c.rotation&&(this.initialRotation=c.rotation),c.dest?(this.initialBookmark=JSON.stringify(c.dest),this._destination.page=null):c.hash?this.initialBookmark=c.hash:c.page&&(this.initialBookmark="page="+c.page)}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"push",value:function e(t){var n=this,i=t.namedDest,r=t.explicitDest,a=t.pageNumber;if(this.initialized)if((!i||"string"==typeof i)&&Array.isArray(r)&&Number.isInteger(a)&&0<a&&a<=this.linkService.pagesCount){var o=i||JSON.stringify(r);if(o){var s=!1;if(this._destination&&(u(this._destination.hash,o)||l(this._destination.dest,r))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this._pushOrReplaceState({dest:r,hash:o,page:a,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){n._popStateInProgress=!1})))}}else console.error("PDFHistory.push: Invalid parameters.")}},{key:"pushCurrentPosition",value:function e(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function e(){if(this.initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&0<t.uid&&window.history.back()}}},{key:"forward",value:function e(){if(this.initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function e(t,n){var i,r=1<arguments.length&&void 0!==n&&n||!this._destination,a={fingerprint:this.fingerprint,uid:r?this._uid:this._uid+1,destination:t};this._updateInternalState(t,a.uid),r?window.history.replaceState(a,""):(this._maxUid=this._uid,window.history.pushState(a,""))}},{key:"_tryPushCurrentPosition",value:function e(t){var n=0<arguments.length&&void 0!==t&&t;if(this._position){var i=this._position;if(n&&((i=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(i,!0);else if(this._destination.hash!==i.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var r=!1;if(this._destination.page===i.first||this._destination.page===i.page){if(this._destination.dest||!this._destination.first)return;r=!0}this._pushOrReplaceState(i,r)}}else this._pushOrReplaceState(i)}}},{key:"_isValidState",value:function e(t){return!!t&&(t.fingerprint===this.fingerprint&&(!(!Number.isInteger(t.uid)||t.uid<0)&&(null!==t.destination&&"object"===o(t.destination))))}},{key:"_updateInternalState",value:function e(t,n,i){var r=2<arguments.length&&void 0!==i&&i;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),r&&t&&t.temporary&&delete t.temporary,this._destination=t,this._uid=n,this._numPositionUpdates=0}},{key:"_updateViewarea",value:function e(t){var n=this,i=t.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page="+i.pageNumber:i.pdfOpenParams.substring(1),page:this.linkService.page,first:i.pageNumber,rotation:i.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){n._popStateInProgress||n._tryPushCurrentPosition(!0),n._updateViewareaTimeout=null},c))}},{key:"_popState",value:function e(t){var n=this,i=t.state,r=d(),a=this._currentHash!==r;if(this._currentHash=r,i){if(this._isValidState(i)){this._popStateInProgress=!0,a&&(this._blockHashChange++,(0,f.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:p}).then(function(){n._blockHashChange--}));var o=i.destination;this._updateInternalState(o,i.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,f.isValidRotation)(o.rotation)&&(this.linkService.rotation=o.rotation),o.dest?this.linkService.navigateTo(o.dest):o.hash?this.linkService.setHash(o.hash):o.page&&(this.linkService.page=o.page),Promise.resolve().then(function(){n._popStateInProgress=!1})}}else{this._uid++;var s=h(this.linkService),u=s.hash,l=s.page,c=s.rotation;this._pushOrReplaceState({hash:u,page:l,rotation:c},!0)}}},{key:"_bindEvents",value:function e(){var t=this,n=this._boundEvents,i=this.eventBus;n.updateViewarea=this._updateViewarea.bind(this),n.popState=this._popState.bind(this),n.pageHide=function(e){t._destination&&!t._destination.temporary||t._tryPushCurrentPosition()},i.on("updateviewarea",n.updateViewarea),window.addEventListener("popstate",n.popState),window.addEventListener("pagehide",n.pageHide)}},{key:"popStateInProgress",get:function e(){return this.initialized&&(this._popStateInProgress||0<this._blockHashChange)}}]),r}();t.PDFHistory=v,t.isDestHashesEqual=u,t.isDestArraysEqual=l},function(e,t,n){function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){if(!Array.isArray(e))return!1;var t=e.length,n=!0;if(t<2)return!1;var i=e[0];if(!("object"===(void 0===i?"undefined":s(i))&&Number.isInteger(i.num)&&Number.isInteger(i.gen)||Number.isInteger(i)&&0<=i))return!1;var r=e[1];if("object"!==(void 0===r?"undefined":s(r))||"string"!=typeof r.name)return!1;switch(r.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;n=!1;break;default:return!1}for(var a=2;a<t;a++){var o=e[a];if(!("number"==typeof o||n&&null===o))return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var s="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),c=n(14),d=n(6),r=function(){function s(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.eventBus,i=t.externalLinkTarget,r=void 0===i?null:i,a=t.externalLinkRel,o=void 0===a?null:a;u(this,s),this.eventBus=n||(0,c.getGlobalEventBus)(),this.externalLinkTarget=r,this.externalLinkRel=o,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return i(s,[{key:"setDocument",value:function e(t,n){var i=1<arguments.length&&void 0!==n?n:null;this.baseUrl=i,this.pdfDocument=t,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function e(t){this.pdfViewer=t}},{key:"setHistory",value:function e(t){this.pdfHistory=t}},{key:"navigateTo",value:function e(o){var s=this,t=function t(e){var n=e.namedDest,i=e.explicitDest,r=i[0],a=void 0;if(r instanceof Object){if(null===(a=s._cachedPageNumber(r)))return void s.pdfDocument.getPageIndex(r).then(function(e){s.cachePageRef(e+1,r),t({namedDest:n,explicitDest:i})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+r+'" is not a valid page reference, for dest="'+o+'".')})}else{if(!Number.isInteger(r))return void console.error('PDFLinkService.navigateTo: "'+r+'" is not a valid destination reference, for dest="'+o+'".');a=r+1}!a||a<1||a>s.pagesCount?console.error('PDFLinkService.navigateTo: "'+a+'" is not a valid page number, for dest="'+o+'".'):(s.pdfHistory&&(s.pdfHistory.pushCurrentPosition(),s.pdfHistory.push({namedDest:n,explicitDest:i,pageNumber:a})),s.pdfViewer.scrollPageIntoView({pageNumber:a,destArray:i}))};new Promise(function(t,e){"string"!=typeof o?t({namedDest:"",explicitDest:o}):s.pdfDocument.getDestination(o).then(function(e){t({namedDest:o,explicitDest:e})})}).then(function(e){Array.isArray(e.explicitDest)?t(e):console.error('PDFLinkService.navigateTo: "'+e.explicitDest+'" is not a valid destination array, for dest="'+o+'".')})}},{key:"getDestinationHash",value:function e(t){if("string"==typeof t)return this.getAnchorUrl("#"+escape(t));if(Array.isArray(t)){var n=JSON.stringify(t);return this.getAnchorUrl("#"+escape(n))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function e(t){return(this.baseUrl||"")+t}},{key:"setHash",value:function e(t){var n=void 0,i=void 0;if(t.includes("=")){var r=(0,d.parseQueryString)(t);if("search"in r&&this.eventBus.dispatch("findfromurlhash",{source:this,query:r.search.replace(/"/g,""),phraseSearch:"true"===r.phrase}),"nameddest"in r)return void this.navigateTo(r.nameddest);if("page"in r&&(n=0|r.page||1),"zoom"in r){var a=r.zoom.split(","),o=a[0],s=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?i=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?i=[null,{name:o},1<a.length?0|a[1]:null]:"FitR"===o?5!==a.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:o},0|a[1],0|a[2],0|a[3],0|a[4]]:console.error('PDFLinkService.setHash: "'+o+'" is not a valid zoom value.'):i=[null,{name:"XYZ"},1<a.length?0|a[1]:null,2<a.length?0|a[2]:null,s?s/100:o]}i?this.pdfViewer.scrollPageIntoView({pageNumber:n||this.page,destArray:i,allowNegativeOffset:!0}):n&&(this.page=n),"pagemode"in r&&this.eventBus.dispatch("pagemode",{source:this,mode:r.pagemode})}else{i=unescape(t);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch(e){}if("string"==typeof i||l(i))return void this.navigateTo(i);console.error('PDFLinkService.setHash: "'+unescape(t)+'" is not a valid destination.')}}},{key:"executeNamedAction",value:function e(t){switch(t){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":1<this.page&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:t})}},{key:"cachePageRef",value:function e(t,n){if(n){var i=n.num+" "+n.gen+" R";this._pagesRefCache[i]=t}}},{key:"_cachedPageNumber",value:function e(t){var n=t.num+" "+t.gen+" R";return this._pagesRefCache&&this._pagesRefCache[n]||null}},{key:"pagesCount",get:function e(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function e(){return this.pdfViewer.currentPageNumber},set:function e(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function e(){return this.pdfViewer.pagesRotation},set:function e(t){this.pdfViewer.pagesRotation=t}}]),s}(),a=function(){function e(){u(this,e),this.externalLinkTarget=null,this.externalLinkRel=null}return i(e,[{key:"navigateTo",value:function e(t){}},{key:"getDestinationHash",value:function e(t){return"#"}},{key:"getAnchorUrl",value:function e(t){return"#"}},{key:"setHash",value:function e(t){}},{key:"executeNamedAction",value:function e(t){}},{key:"cachePageRef",value:function e(t,n){}},{key:"pagesCount",get:function e(){return 0}},{key:"page",get:function e(){return 0},set:function e(t){}},{key:"rotation",get:function e(){return 0},set:function e(t){}}]),e}();t.PDFLinkService=r,t.SimpleLinkService=a},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFOutlineViewer=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),p=n(7),v="",r=function(){function r(e){var t=e.container,n=e.linkService,i=e.eventBus;a(this,r),this.container=t,this.linkService=n,this.eventBus=i,this.reset(),i.on("toggleoutlinetree",this.toggleOutlineTree.bind(this))}return i(r,[{key:"reset",value:function e(){this.outline=null,this.lastToggleIsShow=!0,this.container.textContent="",this.container.classList.remove("outlineWithDeepNesting")}},{key:"_dispatchEvent",value:function e(t){this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:t})}},{key:"_bindLink",value:function e(t,n){var i=n.url,r=n.newWindow,a=n.dest,o=this.linkService;i?(0,p.addLinkAttributes)(t,{url:i,target:r?p.LinkTarget.BLANK:o.externalLinkTarget,rel:o.externalLinkRel}):(t.href=o.getDestinationHash(a),t.onclick=function(){return a&&o.navigateTo(a),!1})}},{key:"_setStyles",value:function e(t,n){var i,r,a="";n.bold&&(a+="font-weight: bold;"),n.italic&&(a+="font-style: italic;"),a&&t.setAttribute("style",a)}},{key:"_addToggleButton",value:function e(n){var i=this,r=document.createElement("div");r.className="outlineItemToggler",r.onclick=function(e){if(e.stopPropagation(),r.classList.toggle("outlineItemsHidden"),e.shiftKey){var t=!r.classList.contains("outlineItemsHidden");i._toggleOutlineItem(n,t)}},n.insertBefore(r,n.firstChild)}},{key:"_toggleOutlineItem",value:function e(t,n){this.lastToggleIsShow=n;for(var i=t.querySelectorAll(".outlineItemToggler"),r=0,a=i.length;r<a;++r)i[r].classList[n?"remove":"add"]("outlineItemsHidden")}},{key:"toggleOutlineTree",value:function e(){this.outline&&this._toggleOutlineItem(this.container,!this.lastToggleIsShow)}},{key:"render",value:function e(t){var n=t.outline,i=0;if(this.outline&&this.reset(),this.outline=n||null,n){for(var r=document.createDocumentFragment(),a=[{parent:r,items:this.outline}],o=!1;0<a.length;)for(var s=a.shift(),u=0,l=s.items.length;u<l;u++){var c=s.items[u],d=document.createElement("div");d.className="outlineItem";var h=document.createElement("a");if(this._bindLink(h,c),this._setStyles(h,c),h.textContent=(0,p.removeNullCharacters)(c.title)||v,d.appendChild(h),0<c.items.length){o=!0,this._addToggleButton(d);var f=document.createElement("div");f.className="outlineItems",d.appendChild(f),a.push({parent:f,items:c.items})}s.parent.appendChild(d),i++}o&&this.container.classList.add("outlineWithDeepNesting"),this.container.appendChild(r),this._dispatchEvent(i)}else this._dispatchEvent(i)}}]),r}();t.PDFOutlineViewer=r},function(e,t,n){function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPresentationMode=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=n(6),r=1500,a=3e3,o="pdfPresentationMode",u="pdfPresentationModeControls",l=50,d=.1,h=50,f=Math.PI/6,p=function(){
function l(e){var t=this,n=e.container,i=e.viewer,r=void 0===i?null:i,a=e.pdfViewer,o=e.eventBus,s=e.contextMenuItems,u=void 0===s?null:s;c(this,l),this.container=n,this.viewer=r||n.firstElementChild,this.pdfViewer=a,this.eventBus=o,this.active=!1,this.args=null,this.contextMenuOpen=!1,this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0,this.touchSwipeState=null,u&&(u.contextFirstPage.addEventListener("click",function(){t.contextMenuOpen=!1,t.eventBus.dispatch("firstpage",{source:t})}),u.contextLastPage.addEventListener("click",function(){t.contextMenuOpen=!1,t.eventBus.dispatch("lastpage",{source:t})}),u.contextPageRotateCw.addEventListener("click",function(){t.contextMenuOpen=!1,t.eventBus.dispatch("rotatecw",{source:t})}),u.contextPageRotateCcw.addEventListener("click",function(){t.contextMenuOpen=!1,t.eventBus.dispatch("rotateccw",{source:t})}))}return i(l,[{key:"request",value:function e(){if(this.switchInProgress||this.active||!this.viewer.hasChildNodes())return!1;if(this._addFullscreenChangeListeners(),this._setSwitchInProgress(),this._notifyStateChange(),this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else if(this.container.webkitRequestFullscreen)this.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!this.container.msRequestFullscreen)return!1;this.container.msRequestFullscreen()}return this.args={page:this.pdfViewer.currentPageNumber,previousScale:this.pdfViewer.currentScaleValue},!0}},{key:"_mouseWheel",value:function e(t){if(this.active){t.preventDefault();var n=(0,s.normalizeWheelEventDelta)(t),i=(new Date).getTime(),r=this.mouseScrollTimeStamp;if(!(r<i&&i-r<50)&&((0<this.mouseScrollDelta&&n<0||this.mouseScrollDelta<0&&0<n)&&this._resetMouseScrollState(),this.mouseScrollDelta+=n,.1<=Math.abs(this.mouseScrollDelta))){var a=this.mouseScrollDelta,o;this._resetMouseScrollState(),(0<a?this._goToPreviousPage():this._goToNextPage())&&(this.mouseScrollTimeStamp=i)}}}},{key:"_goToPreviousPage",value:function e(){var t=this.pdfViewer.currentPageNumber;return!(t<=1)&&(this.pdfViewer.currentPageNumber=t-1,!0)}},{key:"_goToNextPage",value:function e(){var t=this.pdfViewer.currentPageNumber;return!(t>=this.pdfViewer.pagesCount)&&(this.pdfViewer.currentPageNumber=t+1,!0)}},{key:"_notifyStateChange",value:function e(){this.eventBus.dispatch("presentationmodechanged",{source:this,active:this.active,switchInProgress:!!this.switchInProgress})}},{key:"_setSwitchInProgress",value:function e(){var t=this;this.switchInProgress&&clearTimeout(this.switchInProgress),this.switchInProgress=setTimeout(function(){t._removeFullscreenChangeListeners(),delete t.switchInProgress,t._notifyStateChange()},r)}},{key:"_resetSwitchInProgress",value:function e(){this.switchInProgress&&(clearTimeout(this.switchInProgress),delete this.switchInProgress)}},{key:"_enter",value:function e(){var t=this;this.active=!0,this._resetSwitchInProgress(),this._notifyStateChange(),this.container.classList.add(o),setTimeout(function(){t.pdfViewer.currentPageNumber=t.args.page,t.pdfViewer.currentScaleValue="page-fit"},0),this._addWindowListeners(),this._showControls(),this.contextMenuOpen=!1,this.container.setAttribute("contextmenu","viewerContextMenu"),window.getSelection().removeAllRanges()}},{key:"_exit",value:function e(){var t=this,n=this.pdfViewer.currentPageNumber;this.container.classList.remove(o),setTimeout(function(){t.active=!1,t._removeFullscreenChangeListeners(),t._notifyStateChange(),t.pdfViewer.currentScaleValue=t.args.previousScale,t.pdfViewer.currentPageNumber=n,t.args=null},0),this._removeWindowListeners(),this._hideControls(),this._resetMouseScrollState(),this.container.removeAttribute("contextmenu"),this.contextMenuOpen=!1}},{key:"_mouseDown",value:function e(t){if(this.contextMenuOpen)return this.contextMenuOpen=!1,void t.preventDefault();var n;0===t.button&&(t.target.href&&t.target.classList.contains("internalLink")||(t.preventDefault(),t.shiftKey?this._goToPreviousPage():this._goToNextPage()))}},{key:"_contextMenu",value:function e(){this.contextMenuOpen=!0}},{key:"_showControls",value:function e(){var t=this;this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add(u),this.controlsTimeout=setTimeout(function(){t.container.classList.remove(u),delete t.controlsTimeout},a)}},{key:"_hideControls",value:function e(){this.controlsTimeout&&(clearTimeout(this.controlsTimeout),this.container.classList.remove(u),delete this.controlsTimeout)}},{key:"_resetMouseScrollState",value:function e(){this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0}},{key:"_touchSwipe",value:function e(t){if(this.active)if(1<t.touches.length)this.touchSwipeState=null;else switch(t.type){case"touchstart":this.touchSwipeState={startX:t.touches[0].pageX,startY:t.touches[0].pageY,endX:t.touches[0].pageX,endY:t.touches[0].pageY};break;case"touchmove":if(null===this.touchSwipeState)return;this.touchSwipeState.endX=t.touches[0].pageX,this.touchSwipeState.endY=t.touches[0].pageY,t.preventDefault();break;case"touchend":if(null===this.touchSwipeState)return;var n=0,i=this.touchSwipeState.endX-this.touchSwipeState.startX,r=this.touchSwipeState.endY-this.touchSwipeState.startY,a=Math.abs(Math.atan2(r,i));50<Math.abs(i)&&(a<=f||a>=Math.PI-f)?n=i:50<Math.abs(r)&&Math.abs(a-Math.PI/2)<=f&&(n=r),0<n?this._goToPreviousPage():n<0&&this._goToNextPage()}}},{key:"_addWindowListeners",value:function e(){this.showControlsBind=this._showControls.bind(this),this.mouseDownBind=this._mouseDown.bind(this),this.mouseWheelBind=this._mouseWheel.bind(this),this.resetMouseScrollStateBind=this._resetMouseScrollState.bind(this),this.contextMenuBind=this._contextMenu.bind(this),this.touchSwipeBind=this._touchSwipe.bind(this),window.addEventListener("mousemove",this.showControlsBind),window.addEventListener("mousedown",this.mouseDownBind),window.addEventListener("wheel",this.mouseWheelBind),window.addEventListener("keydown",this.resetMouseScrollStateBind),window.addEventListener("contextmenu",this.contextMenuBind),window.addEventListener("touchstart",this.touchSwipeBind),window.addEventListener("touchmove",this.touchSwipeBind),window.addEventListener("touchend",this.touchSwipeBind)}},{key:"_removeWindowListeners",value:function e(){window.removeEventListener("mousemove",this.showControlsBind),window.removeEventListener("mousedown",this.mouseDownBind),window.removeEventListener("wheel",this.mouseWheelBind),window.removeEventListener("keydown",this.resetMouseScrollStateBind),window.removeEventListener("contextmenu",this.contextMenuBind),window.removeEventListener("touchstart",this.touchSwipeBind),window.removeEventListener("touchmove",this.touchSwipeBind),window.removeEventListener("touchend",this.touchSwipeBind),delete this.showControlsBind,delete this.mouseDownBind,delete this.mouseWheelBind,delete this.resetMouseScrollStateBind,delete this.contextMenuBind,delete this.touchSwipeBind}},{key:"_fullscreenChange",value:function e(){this.isFullscreen?this._enter():this._exit()}},{key:"_addFullscreenChangeListeners",value:function e(){this.fullscreenChangeBind=this._fullscreenChange.bind(this),window.addEventListener("fullscreenchange",this.fullscreenChangeBind),window.addEventListener("mozfullscreenchange",this.fullscreenChangeBind),window.addEventListener("webkitfullscreenchange",this.fullscreenChangeBind),window.addEventListener("MSFullscreenChange",this.fullscreenChangeBind)}},{key:"_removeFullscreenChangeListeners",value:function e(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind),window.removeEventListener("mozfullscreenchange",this.fullscreenChangeBind),window.removeEventListener("webkitfullscreenchange",this.fullscreenChangeBind),window.removeEventListener("MSFullscreenChange",this.fullscreenChangeBind),delete this.fullscreenChangeBind}},{key:"isFullscreen",get:function e(){return!!(document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement)}}]),l}();t.PDFPresentationMode=p},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSidebarResizer=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=n(6),u="--sidebar-width",r=200,l="sidebarResizing",a=function(){function a(e,t,n){var i=this,r=2<arguments.length&&void 0!==n?n:s.NullL10n;o(this,a),this.enabled=!1,this.isRTL=!1,this.sidebarOpen=!1,this.doc=document.documentElement,this._width=null,this._outerContainerWidth=null,this._boundEvents=Object.create(null),this.outerContainer=e.outerContainer,this.resizer=e.resizer,this.eventBus=t,this.l10n=r,"undefined"!=typeof CSS&&"function"==typeof CSS.supports&&CSS.supports(u,"calc(-1 * 200px)")?(this.enabled=!0,this.resizer.classList.remove("hidden"),this.l10n.getDirection().then(function(e){i.isRTL="rtl"===e}),this._addEventListeners()):console.warn("PDFSidebarResizer: The browser does not support resizing of the sidebar.")}return i(a,[{key:"_updateWidth",value:function e(t){var n=0<arguments.length&&void 0!==t?t:0;if(!this.enabled)return!1;var i=Math.floor(this.outerContainerWidth/2);return i<n&&(n=i),n<r&&(n=r),n!==this._width&&(this._width=n,this.doc.style.setProperty(u,n+"px"),!0)}},{key:"_mouseMove",value:function e(t){var n=t.clientX;this.isRTL&&(n=this.outerContainerWidth-n),this._updateWidth(n)}},{key:"_mouseUp",value:function e(t){this.outerContainer.classList.remove(l),this.eventBus.dispatch("resize",{source:this});var n=this._boundEvents;window.removeEventListener("mousemove",n.mouseMove),window.removeEventListener("mouseup",n.mouseUp)}},{key:"_addEventListeners",value:function e(){var n=this;if(this.enabled){var t=this._boundEvents;t.mouseMove=this._mouseMove.bind(this),t.mouseUp=this._mouseUp.bind(this),this.resizer.addEventListener("mousedown",function(e){0===e.button&&(n.outerContainer.classList.add(l),window.addEventListener("mousemove",t.mouseMove),window.addEventListener("mouseup",t.mouseUp))}),this.eventBus.on("sidebarviewchanged",function(e){n.sidebarOpen=!(!e||!e.view)}),this.eventBus.on("resize",function(e){if(e&&e.source===window&&(n._outerContainerWidth=null,n._width))if(n.sidebarOpen){n.outerContainer.classList.add(l);var t=n._updateWidth(n._width);Promise.resolve().then(function(){n.outerContainer.classList.remove(l),t&&n.eventBus.dispatch("resize",{source:n})})}else n._updateWidth(n._width)})}}},{key:"outerContainerWidth",get:function e(){return this._outerContainerWidth||(this._outerContainerWidth=this.outerContainer.clientWidth),this._outerContainerWidth}}]),a}();t.PDFSidebarResizer=a},function(e,t,n){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFThumbnailViewer=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),l=n(6),u=n(28),c=-19,d="selected",r=function(){function o(e){var t=e.container,n=e.linkService,i=e.renderingQueue,r=e.l10n,a=void 0===r?l.NullL10n:r;s(this,o),this.container=t,this.linkService=n,this.renderingQueue=i,this.l10n=a,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdated.bind(this)),this._resetView()}return i(o,[{key:"_scrollUpdated",value:function e(){this.renderingQueue.renderHighestPriority()}},{key:"getThumbnail",value:function e(t){return this._thumbnails[t]}},{key:"_getVisibleThumbs",value:function e(){return(0,l.getVisibleElements)(this.container,this._thumbnails)}},{key:"scrollThumbnailIntoView",value:function e(t){if(this.pdfDocument){var n=this._thumbnails[t-1];if(n){var i;if(t!==this._currentPageNumber)this._thumbnails[this._currentPageNumber-1].div.classList.remove(d),n.div.classList.add(d);var r=this._getVisibleThumbs(),a=r.views.length;if(0<a){var o=r.first.id,s=1<a?r.last.id:o,u=!1;t<=o||s<=t?u=!0:r.views.some(function(e){return e.id===t&&(u=e.percent<100,!0)}),u&&(0,l.scrollIntoView)(n.div,{top:c})}this._currentPageNumber=t}else console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.')}}},{key:"cleanup",value:function e(){u.PDFThumbnailView.cleanup()}},{key:"_resetView",value:function e(){this._thumbnails=[],this._currentPageNumber=1,this._pageLabels=null,this._pagesRotation=0,this._pagesRequests=[],this.container.textContent=""}},{key:"setDocument",value:function e(o){var s=this;this.pdfDocument&&(this._cancelRendering(),this._resetView()),(this.pdfDocument=o)&&o.getPage(1).then(function(e){for(var t=o.numPages,n=e.getViewport(1),i=1;i<=t;++i){var r=new u.PDFThumbnailView({container:s.container,id:i,defaultViewport:n.clone(),linkService:s.linkService,renderingQueue:s.renderingQueue,disableCanvasToImageConversion:!1,l10n:s.l10n});s._thumbnails.push(r)}var a;s._thumbnails[s._currentPageNumber-1].div.classList.add(d)}).catch(function(e){console.error("Unable to initialize thumbnail viewer",e)})}},{key:"_cancelRendering",value:function e(){for(var t=0,n=this._thumbnails.length;t<n;t++)this._thumbnails[t]&&this._thumbnails[t].cancelRendering()}},{key:"setPageLabels",value:function e(t){if(this.pdfDocument){t?Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var n=0,i=this._thumbnails.length;n<i;n++){var r=this._pageLabels&&this._pageLabels[n];this._thumbnails[n].setPageLabel(r)}}}},{key:"_ensurePdfPageLoaded",value:function e(t){var n=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);var i=t.id;if(this._pagesRequests[i])return this._pagesRequests[i];var r=this.pdfDocument.getPage(i).then(function(e){return t.setPdfPage(e),n._pagesRequests[i]=null,e}).catch(function(e){console.error("Unable to get page for thumb view",e),n._pagesRequests[i]=null});return this._pagesRequests[i]=r}},{key:"forceRendering",value:function e(){var t=this,n=this._getVisibleThumbs(),i=this.renderingQueue.getHighestPriority(n,this._thumbnails,this.scroll.down);return!!i&&(this._ensurePdfPageLoaded(i).then(function(){t.renderingQueue.renderView(i)}),!0)}},{key:"pagesRotation",get:function e(){return this._pagesRotation},set:function e(t){if(!(0,l.isValidRotation)(t))throw new Error("Invalid thumbnails rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;for(var n=0,i=this._thumbnails.length;n<i;n++)this._thumbnails[n].update(t)}}}]),o}();t.PDFThumbnailViewer=r},function(e,t,n){function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFThumbnailView=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),l=n(7),g=n(6),m=n(10),r=3,a=1,o=98,c=function e(){var a=null;return{getCanvas:function e(t,n){var i=a;i||(i=document.createElement("canvas"),a=i),i.width=t,i.height=n,i.mozOpaque=!0;var r=i.getContext("2d",{alpha:!1});return r.save(),r.fillStyle="rgb(255, 255, 255)",r.fillRect(0,0,t,n),r.restore(),i},destroyCanvas:function e(){var t=a;t&&(t.width=0,t.height=0),a=null}}}(),s=function(){function p(e){var t=e.container,n=e.id,i=e.defaultViewport,r=e.linkService,a=e.renderingQueue,o=e.disableCanvasToImageConversion,s=void 0!==o&&o,u=e.l10n,l=void 0===u?g.NullL10n:u;v(this,p),this.id=n,this.renderingId="thumbnail"+n,this.pageLabel=null,this.pdfPage=null,this.rotation=0,this.viewport=i,this.pdfPageRotate=i.rotation,this.linkService=r,this.renderingQueue=a,this.renderTask=null,this.renderingState=m.RenderingStates.INITIAL,this.resume=null,this.disableCanvasToImageConversion=s,this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.canvasWidth=98,this.canvasHeight=this.canvasWidth/this.pageRatio|0,this.scale=this.canvasWidth/this.pageWidth,this.l10n=l;var c=document.createElement("a");c.href=r.getAnchorUrl("#page="+n),this.l10n.get("thumb_page_title",{page:n},"Page {{page}}").then(function(e){c.title=e}),c.onclick=function(){return r.page=n,!1},this.anchor=c;var d=document.createElement("div");d.className="thumbnail",d.setAttribute("data-page-number",this.id),this.div=d;var h=document.createElement("div");h.className="thumbnailSelectionRing";var f=2;h.style.width=this.canvasWidth+2+"px",h.style.height=this.canvasHeight+2+"px",this.ring=h,d.appendChild(h),c.appendChild(d),t.appendChild(c)}return i(p,[{key:"setPdfPage",value:function e(t){this.pdfPage=t,this.pdfPageRotate=t.rotate;var n=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport(1,n),this.reset()}},{key:"reset",value:function e(){this.cancelRendering(),this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.canvasHeight=this.canvasWidth/this.pageRatio|0,this.scale=this.canvasWidth/this.pageWidth,this.div.removeAttribute("data-loaded");for(var t=this.ring,n=t.childNodes,i=n.length-1;0<=i;i--)t.removeChild(n[i]);var r=2;t.style.width=this.canvasWidth+2+"px",t.style.height=this.canvasHeight+2+"px",this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas),this.image&&(this.image.removeAttribute("src"),delete this.image)}},{key:"update",value:function e(t){void 0!==t&&(this.rotation=t);var n=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:n}),this.reset()}},{key:"cancelRendering",value:function e(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null),this.renderingState=m.RenderingStates.INITIAL,this.resume=null}},{key:"_getPageDrawContext",value:function e(t){var n=0<arguments.length&&void 0!==t&&t,i=document.createElement("canvas");(this.canvas=i).mozOpaque=!0;var r=i.getContext("2d",{alpha:!1}),a=(0,g.getOutputScale)(r);return i.width=this.canvasWidth*a.sx|0,i.height=this.canvasHeight*a.sy|0,i.style.width=this.canvasWidth+"px",i.style.height=this.canvasHeight+"px",!n&&a.scaled&&r.scale(a.sx,a.sy),r}},{key:"_convertCanvasToImage",value:function e(){var t=this;if(this.canvas&&this.renderingState===m.RenderingStates.FINISHED){var n=this.renderingId,i="thumbnailImage";if(this.disableCanvasToImageConversion)return this.canvas.id=n,this.canvas.className=i,this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(e){t.canvas.setAttribute("aria-label",e)}),this.div.setAttribute("data-loaded",!0),void this.ring.appendChild(this.canvas);var r=document.createElement("img");r.id=n,r.className=i,this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(e){r.setAttribute("aria-label",e)}),r.style.width=this.canvasWidth+"px",r.style.height=this.canvasHeight+"px",r.src=this.canvas.toDataURL(),this.image=r,this.div.setAttribute("data-loaded",!0),this.ring.appendChild(r),this.canvas.width=0,this.canvas.height=0,delete this.canvas}}},{key:"draw",value:function e(){var n=this;if(this.renderingState!==m.RenderingStates.INITIAL)return console.error("Must be in new state before drawing"),Promise.resolve(void 0);this.renderingState=m.RenderingStates.RUNNING;var i=(0,l.createPromiseCapability)(),t=function e(t){u===n.renderTask&&(n.renderTask=null),t instanceof l.RenderingCancelledException?i.resolve(void 0):(n.renderingState=m.RenderingStates.FINISHED,n._convertCanvasToImage(),t?i.reject(t):i.resolve(void 0))},r,a,o=function e(t){if(!n.renderingQueue.isHighestPriority(n))return n.renderingState=m.RenderingStates.PAUSED,void(n.resume=function(){n.renderingState=m.RenderingStates.RUNNING,t()});t()},s={canvasContext:this._getPageDrawContext(),viewport:this.viewport.clone({scale:this.scale})},u=this.renderTask=this.pdfPage.render(s);return u.onContinue=o,u.promise.then(function(){t(null)},function(e){t(e)}),i.promise}},{key:"setImage",value:function e(t){if(this.renderingState===m.RenderingStates.INITIAL){var n=t.canvas;if(n){this.pdfPage||this.setPdfPage(t.pdfPage),this.renderingState=m.RenderingStates.FINISHED;var i=this._getPageDrawContext(!0),r=i.canvas;if(n.width<=2*r.width)return i.drawImage(n,0,0,n.width,n.height,0,0,r.width,r.height),void this._convertCanvasToImage();for(var a=r.width<<3,o=r.height<<3,s=c.getCanvas(a,o),u=s.getContext("2d");a>n.width||o>n.height;)a>>=1,o>>=1;for(u.drawImage(n,0,0,n.width,n.height,0,0,a,o);a>2*r.width;)u.drawImage(s,0,0,a,o,0,0,a>>1,o>>1),a>>=1,o>>=1;i.drawImage(s,0,0,a,o,0,0,r.width,r.height),this._convertCanvasToImage()}}}},{key:"setPageLabel",value:function e(t){var n=this;this.pageLabel="string"==typeof t?t:null,this.l10n.get("thumb_page_title",{page:this.pageId},"Page {{page}}").then(function(e){n.anchor.title=e}),this.renderingState===m.RenderingStates.FINISHED&&this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(e){n.image?n.image.setAttribute("aria-label",e):n.disableCanvasToImageConversion&&n.canvas&&n.canvas.setAttribute("aria-label",e)})}},{key:"pageId",get:function e(){return null!==this.pageLabel?this.pageLabel:this.id}}],[{key:"cleanup",value:function e(){c.destroyCanvas()}}]),p}();t.PDFThumbnailView=s},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),c=n(30),d=n(6),s=n(7),u=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"_scrollIntoView",value:function e(t){var n=t.pageDiv,i=t.pageSpot,r=void 0===i?null:i;if(!r&&!this.isInPresentationMode){var a=n.offsetLeft+n.clientLeft,o=a+n.clientWidth,s=this.container,u=s.scrollLeft,l=s.clientWidth;(this._scrollMode===c.ScrollMode.HORIZONTAL||a<u||u+l<o)&&(r={left:0,top:0})}(0,d.scrollIntoView)(n,r)}},{key:"_getVisiblePages",value:function e(){if(!this.isInPresentationMode)return(0,d.getVisibleElements)(this.container,this._pages,!0,this._scrollMode===c.ScrollMode.HORIZONTAL);var t=this._pages[this._currentPageNumber-1],n;return{first:t,last:t,views:[{id:t.id,view:t}]}}},{key:"update",value:function e(){var t=this._getVisiblePages(),n=t.views,i=n.length;if(0!==i){this._resizeBuffer(i,n),this.renderingQueue.renderHighestPriority(t);for(var r=this._currentPageNumber,a=!1,o=0;o<i;++o){var s=n[o];if(s.percent<100)break;if(s.id===r){a=!0;break}}a||(r=n[0].id),this.isInPresentationMode||this._setCurrentPageNumber(r),this._updateLocation(t.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"_setDocumentViewerElement",get:function e(){return(0,s.shadow)(this,"_setDocumentViewerElement",this.viewer)}},{key:"_isScrollModeHorizontal",get:function e(){return!this.isInPresentationMode&&this._scrollMode===c.ScrollMode.HORIZONTAL}}]),t}(c.BaseViewer);t.PDFViewer=u},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(a){var o=[];this.push=function(e){var t=o.indexOf(e);0<=t&&o.splice(t,1),o.push(e),o.length>a&&o.shift().destroy()},this.resize=function(e,t){if(a=e,t){for(var n=new Set,i=0,r=t.length;i<r;++i)n.add(t[i].id);(0,_.moveToEndOfArray)(o,function(e){return n.has(e.id)})}for(;o.length>a;)o.shift().destroy()}}function d(e,t){return t===e||Math.abs(t-e)<1e-15}Object.defineProperty(t,"__esModule",{value:!0}),t.SpreadMode=t.ScrollMode=t.BaseViewer=void 0;var a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),_=n(6),o=n(10),l=n(31),h=n(7),s=n(14),f=n(32),u=n(23),c=n(33),p=10,v={VERTICAL:0,HORIZONTAL:1,WRAPPED:2},g={NONE:0,ODD:1,EVEN:2},m=function(){function n(e){var t=this;if(i(this,n),this.constructor===n)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.eventBus=e.eventBus||(0,s.getGlobalEventBus)(),this.linkService=e.linkService||new u.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.removePageBorders=e.removePageBorders||!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:_.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=e.renderInteractiveForms||!1,this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||_.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||_.NullL10n,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new o.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,_.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=_.PresentationModeState.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){t.eventBus.dispatch("baseviewerinit",{source:t})})}return a(n,[{key:"getPageView",value:function e(t){return this._pages[t]}},{key:"_setCurrentPageNumber",value:function e(t,n){var i=1<arguments.length&&void 0!==n&&n;if(this._currentPageNumber!==t)if(0<t&&t<=this.pagesCount){var r={source:this,pageNumber:t,pageLabel:this._pageLabels&&this._pageLabels[t-1]};this._currentPageNumber=t,this.eventBus.dispatch("pagechanging",r),this.eventBus.dispatch("pagechange",r),i&&this._resetCurrentPageView()}else console.error(this._name+'._setCurrentPageNumber: "'+t+'" is out of bounds.');else i&&this._resetCurrentPageView()}},{key:"setDocument",value:function e(o){var s=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=o){var u=o.numPages,l=(0,h.createPromiseCapability)();this.pagesPromise=l.promise,l.promise.then(function(){s._pageViewsReady=!0,s.eventBus.dispatch("pagesloaded",{source:s,pagesCount:u})});var n=!1,c=(0,h.createPromiseCapability)();this.onePageRendered=c.promise;var d=function e(t){t.onBeforeDraw=function(){s._buffer.push(t)},t.onAfterDraw=function(){n||(n=!0,c.resolve())}},t=o.getPage(1);(this.firstPagePromise=t).then(function(e){for(var t=s.currentScale,n=e.getViewport(t*_.CSS_UNITS),i=1;i<=u;++i){var r=null;s.textLayerMode!==_.TextLayerMode.DISABLE&&(r=s);var a=new f.PDFPageView({container:s._setDocumentViewerElement,eventBus:s.eventBus,id:i,scale:t,defaultViewport:n.clone(),renderingQueue:s.renderingQueue,textLayerFactory:r,textLayerMode:s.textLayerMode,annotationLayerFactory:s,imageResourcesPath:s.imageResourcesPath,renderInteractiveForms:s.renderInteractiveForms,renderer:s.renderer,enableWebGL:s.enableWebGL,useOnlyCssZoom:s.useOnlyCssZoom,maxCanvasPixels:s.maxCanvasPixels,l10n:s.l10n});d(a),s._pages.push(a)}s._spreadMode!==g.NONE&&s._updateSpreadMode(),c.promise.then(function(){if(o.loadingParams.disableAutoFetch)l.resolve();else for(var i=u,e=function e(n){o.getPage(n).then(function(e){var t=s._pages[n-1];t.pdfPage||t.setPdfPage(e),s.linkService.cachePageRef(n,e.ref),0==--i&&l.resolve()},function(e){console.error("Unable to get page "+n+" to initialize viewer",e),0==--i&&l.resolve()})},t=1;t<=u;++t)e(t)}),s.eventBus.dispatch("pagesinit",{source:s}),s.findController&&s.findController.setDocument(o),s.defaultRenderingQueue&&s.update()}).catch(function(e){console.error("Unable to initialize viewer",e)})}}},{key:"setPageLabels",value:function e(t){if(this.pdfDocument){t?Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var n=0,i=this._pages.length;n<i;n++){var r=this._pages[n],a=this._pageLabels&&this._pageLabels[n];r.setPageLabel(a)}}}},{key:"_resetView",value:function e(){this._pages=[],this._currentPageNumber=1,this._currentScale=_.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new r(10),this._location=null,this._pagesRotation=0,this._pagesRequests=[],this._pageViewsReady=!1,this._scrollMode=v.VERTICAL,this._spreadMode=g.NONE,this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function e(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function e(t){var n=t.pageDiv,i=t.pageSpot,r=void 0===i?null:i,a=t.pageNumber,o=void 0===a?null:a;throw new Error("Not implemented: _scrollIntoView")}},{key:"_setScaleDispatchEvent",value:function e(t,n,i){var r,a={source:this,scale:t,presetValue:2<arguments.length&&void 0!==i&&i?n:void 0};this.eventBus.dispatch("scalechanging",a),this.eventBus.dispatch("scalechange",a)}},{key:"_setScaleUpdatePages",value:function e(t,n,i,r){var a=2<arguments.length&&void 0!==i&&i,o=3<arguments.length&&void 0!==r&&r;if(this._currentScaleValue=n.toString(),d(this._currentScale,t))o&&this._setScaleDispatchEvent(t,n,!0);else{for(var s=0,u=this._pages.length;s<u;s++)this._pages[s].update(t);if(this._currentScale=t,!a){var l=this._currentPageNumber,c=void 0;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(l=this._location.pageNumber,c=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:l,destArray:c,allowNegativeOffset:!0})}this._setScaleDispatchEvent(t,n,o),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function e(t,n){var i=1<arguments.length&&void 0!==n&&n,r=parseFloat(t);if(0<r)this._setScaleUpdatePages(r,t,i,!1);else{var a=this._pages[this._currentPageNumber-1];if(!a)return;var o=this.isInPresentationMode||this.removePageBorders,s=o?0:_.SCROLLBAR_PADDING,u=o?0:_.VERTICAL_PADDING;if(!o&&this._isScrollModeHorizontal){var l=[u,s];s=l[0],u=l[1]}var c=(this.container.clientWidth-s)/a.width*a.scale,d=(this.container.clientHeight-u)/a.height*a.scale;switch(t){case"page-actual":r=1;break;case"page-width":r=c;break;case"page-height":r=d;break;case"page-fit":r=Math.min(c,d);break;case"auto":var h=(0,_.isPortraitOrientation)(a)?c:Math.min(d,c);r=Math.min(_.MAX_AUTO_SCALE,h);break;default:return void console.error(this._name+'._setScale: "'+t+'" is an unknown zoom value.')}this._setScaleUpdatePages(r,t,i,!0)}}},{key:"_resetCurrentPageView",value:function e(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var t=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:t.div})}},{key:"scrollPageIntoView",value:function e(t){if(this.pdfDocument){var n=t.pageNumber||0,i=t.destArray||null,r=t.allowNegativeOffset||!1;if(!this.isInPresentationMode&&i){var a=this._pages[n-1];if(a){var o=0,s=0,u=0,l=0,c=void 0,d=void 0,h=a.rotation%180!=0,f=(
h?a.height:a.width)/a.scale/_.CSS_UNITS,p=(h?a.width:a.height)/a.scale/_.CSS_UNITS,v=0;switch(i[1].name){case"XYZ":o=i[2],s=i[3],v=i[4],o=null!==o?o:0,s=null!==s?s:p;break;case"Fit":case"FitB":v="page-fit";break;case"FitH":case"FitBH":v="page-width",null===(s=i[2])&&this._location&&(o=this._location.left,s=this._location.top);break;case"FitV":case"FitBV":o=i[2],u=f,l=p,v="page-height";break;case"FitR":o=i[2],s=i[3],u=i[4]-o,l=i[5]-s;var g=this.removePageBorders?0:_.SCROLLBAR_PADDING,m=this.removePageBorders?0:_.VERTICAL_PADDING;c=(this.container.clientWidth-g)/u/_.CSS_UNITS,d=(this.container.clientHeight-m)/l/_.CSS_UNITS,v=Math.min(Math.abs(c),Math.abs(d));break;default:return void console.error(this._name+'.scrollPageIntoView: "'+i[1].name+'" is not a valid destination type.')}if(v&&v!==this._currentScale?this.currentScaleValue=v:this._currentScale===_.UNKNOWN_SCALE&&(this.currentScaleValue=_.DEFAULT_SCALE_VALUE),"page-fit"!==v||i[4]){var w=[a.viewport.convertToViewportPoint(o,s),a.viewport.convertToViewportPoint(o+u,s+l)],b=Math.min(w[0][0],w[1][0]),y=Math.min(w[0][1],w[1][1]);r||(b=Math.max(b,0),y=Math.max(y,0)),this._scrollIntoView({pageDiv:a.div,pageSpot:{left:b,top:y},pageNumber:n})}else this._scrollIntoView({pageDiv:a.div,pageNumber:n})}else console.error(this._name+'.scrollPageIntoView: Invalid "pageNumber" parameter.')}else this._setCurrentPageNumber(n,!0)}}},{key:"_resizeBuffer",value:function e(t,n){var i=Math.max(10,2*t+1);this._buffer.resize(i,n)}},{key:"_updateLocation",value:function e(t){var n=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===n?Math.round(1e4*n)/100:i,a=t.id,o="#page="+a;o+="&zoom="+r;var s=this._pages[a-1],u=this.container,l=s.getPagePoint(u.scrollLeft-t.x,u.scrollTop-t.y),c=Math.round(l[0]),d=Math.round(l[1]);o+=","+c+","+d,this._location={pageNumber:a,scale:r,top:d,left:c,rotation:this._pagesRotation,pdfOpenParams:o}}},{key:"update",value:function e(){throw new Error("Not implemented: update")}},{key:"containsElement",value:function e(t){return this.container.contains(t)}},{key:"focus",value:function e(){this.container.focus()}},{key:"_getVisiblePages",value:function e(){throw new Error("Not implemented: _getVisiblePages")}},{key:"cleanup",value:function e(){for(var t=0,n=this._pages.length;t<n;t++)this._pages[t]&&this._pages[t].renderingState!==o.RenderingStates.FINISHED&&this._pages[t].reset()}},{key:"_cancelRendering",value:function e(){for(var t=0,n=this._pages.length;t<n;t++)this._pages[t]&&this._pages[t].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function e(t){var n=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);var i=t.id;if(this._pagesRequests[i])return this._pagesRequests[i];var r=this.pdfDocument.getPage(i).then(function(e){return t.pdfPage||t.setPdfPage(e),n._pagesRequests[i]=null,e}).catch(function(e){console.error("Unable to get page for page view",e),n._pagesRequests[i]=null});return this._pagesRequests[i]=r}},{key:"forceRendering",value:function e(t){var n=this,i=t||this._getVisiblePages(),r=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,a=this.renderingQueue.getHighestPriority(i,this._pages,r);return!!a&&(this._ensurePdfPageLoaded(a).then(function(){n.renderingQueue.renderView(a)}),!0)}},{key:"createTextLayerBuilder",value:function e(t,n,i,r){var a=3<arguments.length&&void 0!==r&&r;return new c.TextLayerBuilder({textLayerDiv:t,eventBus:this.eventBus,pageIndex:n,viewport:i,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&a})}},{key:"createAnnotationLayerBuilder",value:function e(t,n,i,r,a){var o=2<arguments.length&&void 0!==i?i:"",s=3<arguments.length&&void 0!==r&&r,u=4<arguments.length&&void 0!==a?a:_.NullL10n;return new l.AnnotationLayerBuilder({pageDiv:t,pdfPage:n,imageResourcesPath:o,renderInteractiveForms:s,linkService:this.linkService,downloadManager:this.downloadManager,l10n:u})}},{key:"getPagesOverview",value:function e(){var t=this._pages.map(function(e){var t=e.pdfPage.getViewport(1);return{width:t.width,height:t.height,rotation:t.rotation}});if(!this.enablePrintAutoRotate)return t;var n=(0,_.isPortraitOrientation)(t[0]);return t.map(function(e){return n===(0,_.isPortraitOrientation)(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}})}},{key:"_updateScrollMode",value:function e(t){var n=0<arguments.length&&void 0!==t?t:null,i=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",i===v.HORIZONTAL),r.classList.toggle("scrollWrapped",i===v.WRAPPED),this.pdfDocument&&n&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this.scrollPageIntoView({pageNumber:n}),this.update())}},{key:"_updateSpreadMode",value:function e(t){var n=0<arguments.length&&void 0!==t?t:null;if(this.pdfDocument){var i=this.viewer,r=this._pages;if(i.textContent="",this._spreadMode===g.NONE)for(var a=0,o=r.length;a<o;++a)i.appendChild(r[a].div);else for(var s=this._spreadMode-1,u=null,l=0,c=r.length;l<c;++l)null===u?((u=document.createElement("div")).className="spread",i.appendChild(u)):l%2===s&&(u=u.cloneNode(!1),i.appendChild(u)),u.appendChild(r[l].div);n&&(this.scrollPageIntoView({pageNumber:n}),this.update())}}},{key:"pagesCount",get:function e(){return this._pages.length}},{key:"pageViewsReady",get:function e(){return this._pageViewsReady}},{key:"currentPageNumber",get:function e(){return this._currentPageNumber},set:function e(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(t,!0)}},{key:"currentPageLabel",get:function e(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function e(t){var n=0|t;if(this._pageLabels){var i=this._pageLabels.indexOf(t);0<=i&&(n=i+1)}this.currentPageNumber=n}},{key:"currentScale",get:function e(){return this._currentScale!==_.UNKNOWN_SCALE?this._currentScale:_.DEFAULT_SCALE},set:function e(t){if(isNaN(t))throw new Error("Invalid numeric scale");this.pdfDocument&&this._setScale(t,!1)}},{key:"currentScaleValue",get:function e(){return this._currentScaleValue},set:function e(t){this.pdfDocument&&this._setScale(t,!1)}},{key:"pagesRotation",get:function e(){return this._pagesRotation},set:function e(t){if(!(0,_.isValidRotation)(t))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;for(var n=this._currentPageNumber,i=0,r=this._pages.length;i<r;i++){var a=this._pages[i];a.update(a.scale,t)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:n}),this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function e(){throw new Error("Not implemented: _setDocumentViewerElement")}},{key:"_isScrollModeHorizontal",get:function e(){throw new Error("Not implemented: _isScrollModeHorizontal")}},{key:"isInPresentationMode",get:function e(){return this.presentationModeState===_.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function e(){return this.presentationModeState===_.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function e(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function e(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function e(){for(var t=this._pages[0],n=1,i=this._pages.length;n<i;++n){var r=this._pages[n];if(r.width!==t.width||r.height!==t.height)return!1}return!0}},{key:"scrollMode",get:function e(){return this._scrollMode},set:function e(t){if(this._scrollMode!==t){if(!Number.isInteger(t)||!Object.values(v).includes(t))throw new Error("Invalid scroll mode: "+t);this._scrollMode=t,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function e(){return this._spreadMode},set:function e(t){if(this._spreadMode!==t){if(!Number.isInteger(t)||!Object.values(g).includes(t))throw new Error("Invalid spread mode: "+t);this._spreadMode=t,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t}),this._updateSpreadMode(this._currentPageNumber)}}}]),n}();t.BaseViewer=m,t.ScrollMode=v,t.SpreadMode=g},function(e,t,n){function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=n(7),f=n(6),l=n(23),c=function(){function d(e){var t=e.pageDiv,n=e.pdfPage,i=e.linkService,r=e.downloadManager,a=e.imageResourcesPath,o=void 0===a?"":a,s=e.renderInteractiveForms,u=void 0!==s&&s,l=e.l10n,c=void 0===l?f.NullL10n:l;h(this,d),this.pageDiv=t,this.pdfPage=n,this.linkService=i,this.downloadManager=r,this.imageResourcesPath=o,this.renderInteractiveForms=u,this.l10n=c,this.div=null,this._cancelled=!1}return i(d,[{key:"render",value:function e(n,t){var i=this,r=1<arguments.length&&void 0!==t?t:"display";this.pdfPage.getAnnotations({intent:r}).then(function(e){if(!i._cancelled){var t={viewport:n.clone({dontFlip:!0}),div:i.div,annotations:e,page:i.pdfPage,imageResourcesPath:i.imageResourcesPath,renderInteractiveForms:i.renderInteractiveForms,linkService:i.linkService,downloadManager:i.downloadManager};if(i.div)a.AnnotationLayer.update(t);else{if(0===e.length)return;i.div=document.createElement("div"),i.div.className="annotationLayer",i.pageDiv.appendChild(i.div),t.div=i.div,a.AnnotationLayer.render(t),i.l10n.translate(i.div)}}})}},{key:"cancel",value:function e(){this._cancelled=!0}},{key:"hide",value:function e(){this.div&&this.div.setAttribute("hidden","true")}}]),d}(),r=function(){function e(){h(this,e)}return i(e,[{key:"createAnnotationLayerBuilder",value:function e(t,n,i,r,a){var o=2<arguments.length&&void 0!==i?i:"",s=3<arguments.length&&void 0!==r&&r,u=4<arguments.length&&void 0!==a?a:f.NullL10n;return new c({pageDiv:t,pdfPage:n,imageResourcesPath:o,renderInteractiveForms:s,linkService:new l.SimpleLinkService,l10n:u})}}]),e}();t.AnnotationLayerBuilder=c,t.DefaultAnnotationLayerFactory=r},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),w=n(6),b=n(7),o=n(14),d=n(10),r,s=n(13).viewerCompatibilityParams.maxCanvasPixels||16777216,u=function(){function r(e){a(this,r);var t=e.container,n=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||w.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:w.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=e.renderInteractiveForms||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels||s,this.eventBus=e.eventBus||(0,o.getGlobalEventBus)(),this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.renderer=e.renderer||w.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.l10n=e.l10n||w.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=d.RenderingStates.INITIAL,this.resume=null,this.error=null,this.onBeforeDraw=null,this.onAfterDraw=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),this.div=i,t.appendChild(i)}return i(r,[{key:"setPdfPage",value:function e(t){this.pdfPage=t,this.pdfPageRotate=t.rotate;var n=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport(this.scale*w.CSS_UNITS,n),this.stats=t.stats,this.reset()}},{key:"destroy",value:function e(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function e(t){var n=0<arguments.length&&void 0!==t&&t;if(this.zoomLayer){var i=this.zoomLayer.firstChild;this.paintedViewportMap.delete(i),i.width=0,i.height=0,n&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function e(t,n){var i=0<arguments.length&&void 0!==t&&t,r=1<arguments.length&&void 0!==n&&n;this.cancelRendering(r);var a=this.div;a.style.width=Math.floor(this.viewport.width)+"px",a.style.height=Math.floor(this.viewport.height)+"px";for(var o=a.childNodes,s=i&&this.zoomLayer||null,u=r&&this.annotationLayer&&this.annotationLayer.div||null,l=o.length-1;0<=l;l--){var c=o[l];s!==c&&u!==c&&a.removeChild(c)}a.removeAttribute("data-loaded"),u?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),s||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",a.appendChild(this.loadingIconDiv)}},{key:"update",value:function e(t,n){this.scale=t||this.scale,void 0!==n&&(this.rotation=n);var i=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*w.CSS_UNITS,rotation:i}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});var r=!1;if(this.canvas&&0<this.maxCanvasPixels){var a=this.outputScale;(Math.floor(this.viewport.width)*a.sx|0)*(Math.floor(this.viewport.height)*a.sy|0)>this.maxCanvasPixels&&(r=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&r)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function e(t){var n=0<arguments.length&&void 0!==t&&t,i=this.renderingState;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.renderingState=d.RenderingStates.INITIAL,this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!n&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),i!==d.RenderingStates.INITIAL&&this.eventBus.dispatch("pagecancelled",{source:this,pageNumber:this.id,renderingState:i})}},{key:"cssTransform",value:function e(t,n){var i=1<arguments.length&&void 0!==n&&n,r=this.viewport.width,a=this.viewport.height,o=this.div;t.style.width=t.parentNode.style.width=o.style.width=Math.floor(r)+"px",t.style.height=t.parentNode.style.height=o.style.height=Math.floor(a)+"px";var s=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,u=Math.abs(s),l=1,c=1;90!==u&&270!==u||(l=a/r,c=r/a);var e="rotate("+s+"deg) scale("+l+","+c+")";if(t.style.transform=e,this.textLayer){var d=this.textLayer.viewport,h=this.viewport.rotation-d.rotation,f=Math.abs(h),p=r/d.width;90!==f&&270!==f||(p=r/d.height);var v=this.textLayer.textLayerDiv,g=void 0,m=void 0;switch(f){case 0:g=m=0;break;case 90:g=0,m="-"+v.style.height;break;case 180:g="-"+v.style.width,m="-"+v.style.height;break;case 270:g="-"+v.style.width,m=0;break;default:console.error("Bad rotation value.")}v.style.transform="rotate("+f+"deg) scale("+p+", "+p+") translate("+g+", "+m+")",v.style.transformOrigin="0% 0%"}i&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function e(t,n){return this.viewport.convertToPdfPoint(t,n)}},{key:"draw",value:function e(){var n=this;if(this.renderingState!==d.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset()),!this.pdfPage)return this.renderingState=d.RenderingStates.FINISHED,Promise.reject(new Error("Page is not loaded"));this.renderingState=d.RenderingStates.RUNNING;var i=this.pdfPage,r=this.div,t=document.createElement("div");t.style.width=r.style.width,t.style.height=r.style.height,t.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?r.insertBefore(t,this.annotationLayer.div):r.appendChild(t);var a=null;if(this.textLayerMode!==w.TextLayerMode.DISABLE&&this.textLayerFactory){var o=document.createElement("div");o.className="textLayer",o.style.width=t.style.width,o.style.height=t.style.height,this.annotationLayer&&this.annotationLayer.div?r.insertBefore(o,this.annotationLayer.div):r.appendChild(o),a=this.textLayerFactory.createTextLayerBuilder(o,this.id-1,this.viewport,this.textLayerMode===w.TextLayerMode.ENABLE_ENHANCE)}this.textLayer=a;var s=null;this.renderingQueue&&(s=function e(t){if(!n.renderingQueue.isHighestPriority(n))return n.renderingState=d.RenderingStates.PAUSED,void(n.resume=function(){n.renderingState=d.RenderingStates.RUNNING,t()});t()});var u=function e(t){return l===n.paintTask&&(n.paintTask=null),t instanceof b.RenderingCancelledException?(n.error=null,Promise.resolve(void 0)):(n.renderingState=d.RenderingStates.FINISHED,n.loadingIconDiv&&(r.removeChild(n.loadingIconDiv),delete n.loadingIconDiv),n._resetZoomLayer(!0),n.error=t,n.stats=i.stats,n.onAfterDraw&&n.onAfterDraw(),n.eventBus.dispatch("pagerendered",{source:n,pageNumber:n.id,cssTransform:!1}),t?Promise.reject(t):Promise.resolve(void 0))},l=this.renderer===w.RendererType.SVG?this.paintOnSvg(t):this.paintOnCanvas(t);l.onRenderContinue=s;var c=(this.paintTask=l).promise.then(function(){return u(null).then(function(){if(a){var e=i.streamTextContent({normalizeWhitespace:!0});a.setTextContentStream(e),a.render()}})},function(e){return u(e)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(r,i,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),r.setAttribute("data-loaded",!0),this.onBeforeDraw&&this.onBeforeDraw(),c}},{key:"paintOnCanvas",value:function e(t){var n=(0,b.createPromiseCapability)(),i={promise:n.promise,onRenderContinue:function e(t){t()},cancel:function e(){m.cancel()}},r=this.viewport,a=document.createElement("canvas");a.id=this.renderingId,a.setAttribute("hidden","hidden");var o=!0,s=function e(){o&&(a.removeAttribute("hidden"),o=!1)};t.appendChild(a),(this.canvas=a).mozOpaque=!0;var u=a.getContext("2d",{alpha:!1}),l=(0,w.getOutputScale)(u);if(this.outputScale=l,this.useOnlyCssZoom){var c=r.clone({scale:w.CSS_UNITS});l.sx*=c.width/r.width,l.sy*=c.height/r.height,l.scaled=!0}if(0<this.maxCanvasPixels){var d=r.width*r.height,h=Math.sqrt(this.maxCanvasPixels/d);l.sx>h||l.sy>h?(l.sx=h,l.sy=h,l.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var f=(0,w.approximateFraction)(l.sx),p=(0,w.approximateFraction)(l.sy);a.width=(0,w.roundToDivide)(r.width*l.sx,f[0]),a.height=(0,w.roundToDivide)(r.height*l.sy,p[0]),a.style.width=(0,w.roundToDivide)(r.width,f[1])+"px",a.style.height=(0,w.roundToDivide)(r.height,p[1])+"px",this.paintedViewportMap.set(a,r);var v,g={canvasContext:u,transform:l.scaled?[l.sx,0,0,l.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms},m=this.pdfPage.render(g);return m.onContinue=function(e){s(),i.onRenderContinue?i.onRenderContinue(e):e()},m.promise.then(function(){s(),n.resolve(void 0)},function(e){s(),n.reject(e)}),i}},{key:"paintOnSvg",value:function e(n){var i=this,t=!1,r=function e(){if(t)throw new b.RenderingCancelledException("Rendering cancelled, page "+i.id,"svg")},a=this.pdfPage,o=this.viewport.clone({scale:w.CSS_UNITS}),s;return{promise:a.getOperatorList().then(function(e){var t;return r(),new b.SVGGraphics(a.commonObjs,a.objs).getSVG(e,o).then(function(e){r(),i.svg=e,i.paintedViewportMap.set(e,o),e.style.width=n.style.width,e.style.height=n.style.height,i.renderingState=d.RenderingStates.FINISHED,n.appendChild(e)})}),onRenderContinue:function e(t){t()},cancel:function e(){t=!0}}}},{key:"setPageLabel",value:function e(t){this.pageLabel="string"==typeof t?t:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function e(){return this.viewport.width}},{key:"height",get:function e(){return this.viewport.height}}]),r}();t.PDFPageView=u},function(e,t,n){function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextLayerFactory=t.TextLayerBuilder=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),d=n(14),a=n(7),S=n(6),r=300,k=-50,L=-400,o=function(){function l(e){var t=e.textLayerDiv,n=e.eventBus,i=e.pageIndex,r=e.viewport,a=e.findController,o=void 0===a?null:a,s=e.enhanceTextSelection,u=void 0!==s&&s;c(this,l),this.textLayerDiv=t,this.eventBus=n||(0,d.getGlobalEventBus)(),this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=i,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=r,this.textDivs=[],this.findController=o,this.textLayerRenderTask=null,this.enhanceTextSelection=u,this._boundEvents=Object.create(null),this._bindEvents(),this._bindMouse()}return i(l,[{key:"_finishRendering",value:function e(){if(this.renderingDone=!0,!this.enhanceTextSelection){var t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function e(t){var n=this,i=0<arguments.length&&void 0!==t?t:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var r=document.createDocumentFragment();this.textLayerRenderTask=(0,a.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:r,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){n.textLayerDiv.appendChild(r),n._finishRendering(),n.updateMatches()},function(e){})}}},{key:"cancel",value:function e(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function e(t){this.cancel(),this.textContentStream=t}},{key:"setTextContent",value:function e(t){this.cancel(),this.textContent=t}},{key:"convertMatches",value:function e(t,n){var i=0,r=0,a=this.textContentItemsStr,o=a.length-1,s=null===this.findController?0:this.findController.state.query.length,u=[];if(!t)return u;for(var l=0,c=t.length;l<c;l++){for(var d=t[l];i!==o&&d>=r+a[i].length;)r+=a[i].length,i++;i===a.length&&console.error("Could not find a matching mapping");var h={begin:{divIdx:i,offset:d-r}};for(d+=n?n[l]:s;i!==o&&d>r+a[i].length;)r+=a[i].length,i++;h.end={divIdx:i,offset:d-r},u.push(h)}return u}},{key:"renderMatches",value:function e(t){function n(e,t){var n=e.divIdx;l[n].textContent="",i(n,0,e.offset,t)}function i(e,t,n,i){var r=l[e],a=u[e].substring(t,n),o=document.createTextNode(a);if(i){var s=document.createElement("span");return s.className=i,s.appendChild(o),void r.appendChild(s)}r.appendChild(o)}if(0!==t.length){var u=this.textContentItemsStr,l=this.textDivs,r=null,a=this.pageIdx,o=null!==this.findController&&a===this.findController.selected.pageIdx,s=null===this.findController?-1:this.findController.selected.matchIdx,c,d={divIdx:-1,offset:void 0},h=s,f=h+1;if(null!==this.findController&&this.findController.state.highlightAll)h=0,f=t.length;else if(!o)return;for(var p=h;p<f;p++){var v=t[p],g=v.begin,m=v.end,w,b=o&&p===s?" selected":"";if(this.findController&&this.findController.selected.matchIdx===p&&this.findController.selected.pageIdx===a){var y={top:k,left:L};(0,S.scrollIntoView)(l[g.divIdx],y,!0)}if(r&&g.divIdx===r.divIdx?i(r.divIdx,r.offset,g.offset):(null!==r&&i(r.divIdx,r.offset,d.offset),n(g)),g.divIdx===m.divIdx)i(g.divIdx,g.offset,m.offset,"highlight"+b);else{i(g.divIdx,g.offset,d.offset,"highlight begin"+b);for(var _=g.divIdx+1,P=m.divIdx;_<P;_++)l[_].className="highlight middle"+b;n(m,"highlight end"+b)}r=m}r&&i(r.divIdx,r.offset,d.offset)}}},{key:"updateMatches",value:function e(){if(this.renderingDone){for(var t=this.matches,n=this.textDivs,i=this.textContentItemsStr,r=-1,a=0,o=t.length;a<o;a++){for(var s=t[a],u,l=Math.max(r,s.begin.divIdx),c=s.end.divIdx;l<=c;l++){var d=n[l];d.textContent=i[l],d.className=""}r=s.end.divIdx+1}if(this.findController&&this.findController.highlightMatches){var h=void 0,f=void 0;null!==this.findController&&(h=this.findController.pageMatches[this.pageIdx]||null,f=this.findController.pageMatchesLength&&this.findController.pageMatchesLength[this.pageIdx]||null),this.matches=this.convertMatches(h,f),this.renderMatches(this.matches)}}}},{key:"_bindEvents",value:function e(){var n=this,i=this.eventBus,r=this._boundEvents;r.pageCancelled=function(e){if(e.pageNumber===n.pageNumber)if(n.textLayerRenderTask)console.error("TextLayerBuilder._bindEvents: `this.cancel()` should have been called when the page was reset, or rendering cancelled.");else for(var t in r)i.off(t.toLowerCase(),r[t]),delete r[t]},r.updateTextLayerMatches=function(e){e.pageIndex!==n.pageIdx&&-1!==e.pageIndex||n.updateMatches()},i.on("pagecancelled",r.pageCancelled),i.on("updatetextlayermatches",r.updateTextLayerMatches)}},{key:"_bindMouse",value:function e(){var a=this,o=this.textLayerDiv,s=null;o.addEventListener("mousedown",function(e){if(a.enhanceTextSelection&&a.textLayerRenderTask)return a.textLayerRenderTask.expandTextDivs(!0),void(s&&(clearTimeout(s),s=null));var t=o.querySelector(".endOfContent");if(t){var n=e.target!==o;if(n=n&&"none"!==window.getComputedStyle(t).getPropertyValue("-moz-user-select")){var i=o.getBoundingClientRect(),r=Math.max(0,(e.pageY-i.top)/i.height);t.style.top=(100*r).toFixed(2)+"%"}t.classList.add("active")}}),o.addEventListener("mouseup",function(){if(a.enhanceTextSelection&&a.textLayerRenderTask)s=setTimeout(function(){a.textLayerRenderTask&&a.textLayerRenderTask.expandTextDivs(!1),s=null},r);else{var e=o.querySelector(".endOfContent");e&&(e.style.top="",e.classList.remove("active"))}})}}]),l}(),s=function(){function e(){c(this,e)}return i(e,[{key:"createTextLayerBuilder",value:function e(t,n,i,r){var a=3<arguments.length&&void 0!==r&&r;return new o({textLayerDiv:t,pageIndex:n,viewport:i,enhanceTextSelection:a})}}]),e}();t.TextLayerBuilder=o,t.DefaultTextLayerFactory=s},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SecondaryToolbar=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=n(30),s=n(8),u=n(35),l=n(6),r=function(){function r(e,t,n){var i=this;a(this,r),this.toolbar=e.toolbar,this.toggleButton=e.toggleButton,this.toolbarButtonContainer=e.toolbarButtonContainer,this.buttons=[{element:e.presentationModeButton,eventName:"presentationmode",close:!0},{element:e.openFileButton,eventName:"openfile",close:!0},{element:e.printButton,eventName:"print",close:!0},{element:e.downloadButton,eventName:"download",close:!0},{element:e.viewBookmarkButton,eventName:null,close:!0},{element:e.firstPageButton,eventName:"firstpage",close:!0},{element:e.lastPageButton,eventName:"lastpage",close:!0},{element:e.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:e.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:e.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:s.CursorTool.SELECT},close:!0},{element:e.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:s.CursorTool.HAND},close:!0},{element:e.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:o.ScrollMode.VERTICAL},close:!0},{element:e.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:o.ScrollMode.HORIZONTAL},close:!0},{element:e.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:o.ScrollMode.WRAPPED},close:!0},{element:e.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:o.SpreadMode.NONE},close:!0},{element:e.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:o.SpreadMode.ODD},close:!0},{element:e.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:o.SpreadMode.EVEN},close:!0},{element:e.documentPropertiesButton,eventName:"documentproperties",close:!0}],this.items={firstPage:e.firstPageButton,lastPage:e.lastPageButton,pageRotateCw:e.pageRotateCwButton,pageRotateCcw:e.pageRotateCcwButton},this.mainContainer=t,this.eventBus=n,this.opened=!1,this.containerHeight=null,this.previousContainerHeight=null,this.reset(),this._bindClickListeners(),this._bindCursorToolsListener(e),this._bindScrollModeListener(e),this._bindSpreadModeListener(e),this.eventBus.on("resize",this._setMaxHeight.bind(this)),this.eventBus.on("baseviewerinit",function(e){e.source instanceof u.PDFSinglePageViewer?i.toolbarButtonContainer.classList.add("hiddenScrollModeButtons","hiddenSpreadModeButtons"):i.toolbarButtonContainer.classList.remove("hiddenScrollModeButtons","hiddenSpreadModeButtons")})}return i(r,[{key:"setPageNumber",value:function e(t){this.pageNumber=t,this._updateUIState()}},{key:"setPagesCount",value:function e(t){this.pagesCount=t,this._updateUIState()}},{key:"reset",value:function e(){this.pageNumber=0,this.pagesCount=0,this._updateUIState(),this.eventBus.dispatch("secondarytoolbarreset",{source:this})}},{key:"_updateUIState",value:function e(){this.items.firstPage.disabled=this.pageNumber<=1,this.items.lastPage.disabled=this.pageNumber>=this.pagesCount,this.items.pageRotateCw.disabled=0===this.pagesCount,this.items.pageRotateCcw.disabled=0===this.pagesCount}},{key:"_bindClickListeners",value:function e(){var s=this;this.toggleButton.addEventListener("click",this.toggle.bind(this));var t=function e(t){var n=s.buttons[t],i=n.element,r=n.eventName,a=n.close,o=n.eventDetails;i.addEventListener("click",function(e){if(null!==r){var t={source:s};for(var n in o)t[n]=o[n];s.eventBus.dispatch(r,t)}a&&s.close()})};for(var n in this.buttons)t(n)}},{key:"_bindCursorToolsListener",value:function e(t){this.eventBus.on("cursortoolchanged",function(e){switch(t.cursorSelectToolButton.classList.remove("toggled"),t.cursorHandToolButton.classList.remove("toggled"),e.tool){case s.CursorTool.SELECT:t.cursorSelectToolButton.classList.add("toggled");break;case s.CursorTool.HAND:t.cursorHandToolButton.classList.add("toggled")}})}},{key:"_bindScrollModeListener",value:function e(n){function t(e){switch(n.scrollVerticalButton.classList.remove("toggled"),n.scrollHorizontalButton.classList.remove("toggled"),n.scrollWrappedButton.classList.remove("toggled"),e.mode){
case o.ScrollMode.VERTICAL:n.scrollVerticalButton.classList.add("toggled");break;case o.ScrollMode.HORIZONTAL:n.scrollHorizontalButton.classList.add("toggled");break;case o.ScrollMode.WRAPPED:n.scrollWrappedButton.classList.add("toggled")}var t=e.mode===o.ScrollMode.HORIZONTAL;n.spreadNoneButton.disabled=t,n.spreadOddButton.disabled=t,n.spreadEvenButton.disabled=t}var i=this;this.eventBus.on("scrollmodechanged",t),this.eventBus.on("secondarytoolbarreset",function(e){e.source===i&&t({mode:o.ScrollMode.VERTICAL})})}},{key:"_bindSpreadModeListener",value:function e(t){function n(e){switch(t.spreadNoneButton.classList.remove("toggled"),t.spreadOddButton.classList.remove("toggled"),t.spreadEvenButton.classList.remove("toggled"),e.mode){case o.SpreadMode.NONE:t.spreadNoneButton.classList.add("toggled");break;case o.SpreadMode.ODD:t.spreadOddButton.classList.add("toggled");break;case o.SpreadMode.EVEN:t.spreadEvenButton.classList.add("toggled")}}var i=this;this.eventBus.on("spreadmodechanged",n),this.eventBus.on("secondarytoolbarreset",function(e){e.source===i&&n({mode:o.SpreadMode.NONE})})}},{key:"open",value:function e(){this.opened||(this.opened=!0,this._setMaxHeight(),this.toggleButton.classList.add("toggled"),this.toolbar.classList.remove("hidden"))}},{key:"close",value:function e(){this.opened&&(this.opened=!1,this.toolbar.classList.add("hidden"),this.toggleButton.classList.remove("toggled"))}},{key:"toggle",value:function e(){this.opened?this.close():this.open()}},{key:"_setMaxHeight",value:function e(){this.opened&&(this.containerHeight=this.mainContainer.clientHeight,this.containerHeight!==this.previousContainerHeight&&(this.toolbarButtonContainer.setAttribute("style","max-height: "+(this.containerHeight-l.SCROLLBAR_PADDING)+"px;"),this.previousContainerHeight=this.containerHeight))}},{key:"isOpen",get:function e(){return this.opened}}]),r}();t.SecondaryToolbar=r},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=n(30),c=n(6),l=n(7),d=function(e){function n(e){i(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.eventBus.on("pagesinit",function(e){t._ensurePageViewVisible()}),t}return a(n,e),o(n,[{key:"_resetView",value:function e(){s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment()}},{key:"_ensurePageViewVisible",value:function e(){var t=this._pages[this._currentPageNumber-1],n=this._pages[this._previousPageNumber-1],i=this.viewer.childNodes;switch(i.length){case 0:this.viewer.appendChild(t.div);break;case 1:if(i[0]!==n.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(t===n)break;this._shadowViewer.appendChild(n.div),this.viewer.appendChild(t.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function e(){this._updateScrollDown&&this._updateScrollDown(),s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function e(t){var n=this,i=t.pageDiv,r=t.pageSpot,a=void 0===r?null:r,o=t.pageNumber,s=void 0===o?null:o;s&&this._setCurrentPageNumber(s);var u=this._currentPageNumber>=this._previousPageNumber,l=this._location;this._ensurePageViewVisible(),(0,c.scrollIntoView)(i,a),this._updateScrollDown=function(){n.scroll.down=u,delete n._updateScrollDown},setTimeout(function(){n._location===l&&(n._updateScrollDown&&n._updateScrollDown(),n.update())},0)}},{key:"_getVisiblePages",value:function e(){if(!this.pagesCount)return{views:[]};var t=this._pages[this._currentPageNumber-1],n=t.div,i={id:t.id,x:n.offsetLeft+n.clientLeft,y:n.offsetTop+n.clientTop,view:t};return{first:i,last:i,views:[i]}}},{key:"update",value:function e(){var t=this._getVisiblePages(),n,i=t.views.length;0!==i&&(this._resizeBuffer(i),this.renderingQueue.renderHighestPriority(t),this._updateLocation(t.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location}))}},{key:"_updateScrollMode",value:function e(){}},{key:"_updateSpreadMode",value:function e(){}},{key:"_setDocumentViewerElement",get:function e(){return(0,l.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function e(){return(0,l.shadow)(this,"_isScrollModeHorizontal",!1)}}]),n}(u.BaseViewer);t.PDFSinglePageViewer=d},function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),l=n(6),o="visiblePageIsLoading",r=8,s=22,u=function(){function r(e,t,n){var i=2<arguments.length&&void 0!==n?n:l.NullL10n;a(this,r),this.toolbar=e.container,this.eventBus=t,this.l10n=i,this.items=e,this._wasLocalized=!1,this.reset(),this._bindListeners()}return i(r,[{key:"setPageNumber",value:function e(t,n){this.pageNumber=t,this.pageLabel=n,this._updateUIState(!1)}},{key:"setPagesCount",value:function e(t,n){this.pagesCount=t,this.hasPageLabels=n,this._updateUIState(!0)}},{key:"setPageScale",value:function e(t,n){this.pageScaleValue=(t||n).toString(),this.pageScale=n,this._updateUIState(!1)}},{key:"reset",value:function e(){this.pageNumber=0,this.pageLabel=null,this.hasPageLabels=!1,this.pagesCount=0,this.pageScaleValue=l.DEFAULT_SCALE_VALUE,this.pageScale=l.DEFAULT_SCALE,this._updateUIState(!0)}},{key:"_bindListeners",value:function e(){var t=this,n=this.eventBus,i=this.items,r=this;i.previous.addEventListener("click",function(){n.dispatch("previouspage",{source:r})}),i.next.addEventListener("click",function(){n.dispatch("nextpage",{source:r})}),i.zoomIn.addEventListener("click",function(){n.dispatch("zoomin",{source:r})}),i.zoomOut.addEventListener("click",function(){n.dispatch("zoomout",{source:r})}),i.pageNumber.addEventListener("click",function(){this.select()}),i.pageNumber.addEventListener("change",function(){n.dispatch("pagenumberchanged",{source:r,value:this.value})}),i.scaleSelect.addEventListener("change",function(){"custom"!==this.value&&n.dispatch("scalechanged",{source:r,value:this.value})}),i.presentationModeButton.addEventListener("click",function(){n.dispatch("presentationmode",{source:r})}),i.openFile.addEventListener("click",function(){n.dispatch("openfile",{source:r})}),i.print.addEventListener("click",function(){n.dispatch("print",{source:r})}),i.download.addEventListener("click",function(){n.dispatch("download",{source:r})}),i.scaleSelect.oncontextmenu=l.noContextMenuHandler,n.on("localized",function(){t._localized()})}},{key:"_localized",value:function e(){this._wasLocalized=!0,this._adjustScaleWidth(),this._updateUIState(!0)}},{key:"_updateUIState",value:function e(t){var n=0<arguments.length&&void 0!==t&&t;if(this._wasLocalized){var i=this.pageNumber,r=this.pagesCount,o=this.pageScaleValue,a=this.pageScale,s=this.items;n&&(this.hasPageLabels?s.pageNumber.type="text":(s.pageNumber.type="number",this.l10n.get("of_pages",{pagesCount:r},"of {{pagesCount}}").then(function(e){s.numPages.textContent=e})),s.pageNumber.max=r),this.hasPageLabels?(s.pageNumber.value=this.pageLabel,this.l10n.get("page_of_pages",{pageNumber:i,pagesCount:r},"({{pageNumber}} of {{pagesCount}})").then(function(e){s.numPages.textContent=e})):s.pageNumber.value=i,s.previous.disabled=i<=1,s.next.disabled=r<=i,s.zoomOut.disabled=a<=l.MIN_SCALE,s.zoomIn.disabled=a>=l.MAX_SCALE;var u=Math.round(1e4*a)/100;this.l10n.get("page_scale_percent",{scale:u},"{{scale}}%").then(function(e){for(var t=s.scaleSelect.options,n=!1,i=0,r=t.length;i<r;i++){var a=t[i];a.value===o?n=a.selected=!0:a.selected=!1}n||(s.customScaleOption.textContent=e,s.customScaleOption.selected=!0)})}}},{key:"updateLoadingIndicatorState",value:function e(t){var n=0<arguments.length&&void 0!==t&&t,i;this.items.pageNumber.classList.toggle(o,n)}},{key:"_adjustScaleWidth",value:function e(){var t=this.items.scaleSelectContainer,n=this.items.scaleSelect;l.animationStarted.then(function(){if(0===t.clientWidth&&t.setAttribute("style","display: inherit;"),0<t.clientWidth){n.setAttribute("style","min-width: inherit;");var e=n.clientWidth+8;n.setAttribute("style","min-width: "+(e+22)+"px;"),t.setAttribute("style","min-width: "+e+"px; max-width: "+e+"px;")}})}}]),r}();t.Toolbar=u},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){function o(e,t){try{var n=s[e](t),i=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(i).then(function(e){o("next",e)},function(e){o("throw",e)});r(i)}return o("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewHistory=void 0;var o,s=i(n(2)),u=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),l=20,c=function(){function i(e,t){var o=this,n=1<arguments.length&&void 0!==t?t:20;a(this,i),this.fingerprint=e,this.cacheSize=n,this._initializedPromise=this._readFromStorage().then(function(e){var t=JSON.parse(e||"{}");if("files"in t)for(;t.files.length>=o.cacheSize;)t.files.shift();else t.files=[];for(var n=-1,i=0,r=t.files.length;i<r;i++){var a;if(t.files[i].fingerprint===o.fingerprint){n=i;break}}-1===n&&(n=t.files.push({fingerprint:o.fingerprint})-1),o.file=t.files[n],o.database=t})}return u(i,[{key:"_writeToStorage",value:function(){function e(){return t.apply(this,arguments)}var t=r(s.default.mark(function e(){var n;return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:n=JSON.stringify(this.database),localStorage.setItem("pdfjs.history",n);case 2:case"end":return t.stop()}},e,this)}));return e}()},{key:"_readFromStorage",value:function(){function e(){return t.apply(this,arguments)}var t=r(s.default.mark(function e(){return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",localStorage.getItem("pdfjs.history"));case 1:case"end":return t.stop()}},e,this)}));return e}()},{key:"set",value:function(){function e(e,t){return n.apply(this,arguments)}var n=r(s.default.mark(function e(n,i){return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:return this.file[n]=i,t.abrupt("return",this._writeToStorage());case 4:case"end":return t.stop()}},e,this)}));return e}()},{key:"setMultiple",value:function(){function e(e){return t.apply(this,arguments)}var t=r(s.default.mark(function e(n){var i;return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:for(i in n)this.file[i]=n[i];return t.abrupt("return",this._writeToStorage());case 4:case"end":return t.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e,t){return n.apply(this,arguments)}var n=r(s.default.mark(function e(n,i){var r;return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:return r=this.file[n],t.abrupt("return",void 0!==r?r:i);case 4:case"end":return t.stop()}},e,this)}));return e}()},{key:"getMultiple",value:function(){function e(e){return t.apply(this,arguments)}var t=r(s.default.mark(function e(n){var i,r,a;return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:for(r in i=Object.create(null),n)a=this.file[r],i[r]=void 0!==a?a:n[r];return t.abrupt("return",i);case 5:case"end":return t.stop()}},e,this)}));return e}()}]),i}();t.ViewHistory=c},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){function o(e,t){try{var n=s[e](t),i=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(i).then(function(e){o("next",e)},function(e){o("throw",e)});r(i)}return o("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GenericCom=void 0;var u,l=i(n(2)),c=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),d=n(1),h=n(39),f=n(40),p=n(41),v={},g=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"_writeToStorage",value:function(){function e(e){return t.apply(this,arguments)}var t=r(l.default.mark(function e(n){return l.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("pdfjs.preferences",JSON.stringify(n));case 1:case"end":return t.stop()}},e,this)}));return e}()},{key:"_readFromStorage",value:function(){function e(e){return t.apply(this,arguments)}var t=r(l.default.mark(function e(t){return l.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",JSON.parse(localStorage.getItem("pdfjs.preferences")));case 1:case"end":return t.stop()}},e,this)}));return e}()}]),t}(h.BasePreferences),m=Object.create(d.DefaultExternalServices);m.createDownloadManager=function(e){return new f.DownloadManager(e)},m.createPreferences=function(){return new g},m.createL10n=function(e){var t=e.locale,n=void 0===t?"en-US":t;return new p.GenericL10n(n)},d.PDFViewerApplication.externalServices=m,t.GenericCom=v},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){function o(e,t){try{var n=s[e](t),i=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(i).then(function(e){o("next",e)},function(e){o("throw",e)});r(i)}return o("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return d||(d=Promise.resolve({showPreviousViewOnLoad:!0,defaultZoomValue:"",sidebarViewOnLoad:0,cursorToolOnLoad:0,enableWebGL:!1,eventBusDispatchToDOM:!1,pdfBugEnabled:!1,disableRange:!1,disableStream:!1,disableAutoFetch:!1,disableFontFace:!1,textLayerMode:1,useOnlyCssZoom:!1,externalLinkTarget:0,renderer:"canvas",renderInteractiveForms:!1,enablePrintAutoRotate:!1,disablePageMode:!1,disablePageLabels:!1,scrollModeOnLoad:0,spreadModeOnLoad:0})),d}Object.defineProperty(t,"__esModule",{value:!0}),t.BasePreferences=void 0;var s,u=i(n(2)),l="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},c=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),d=null,h=function(){function e(){var r=this;if(a(this,e),this.constructor===e)throw new Error("Cannot initialize BasePreferences.");this.prefs=null,this._initializedPromise=o().then(function(e){return Object.defineProperty(r,"defaults",{value:Object.freeze(e),writable:!1,enumerable:!0,configurable:!1}),r.prefs=Object.assign(Object.create(null),e),r._readFromStorage(e)}).then(function(e){if(e)for(var t in e){var n=r.defaults[t],i=e[t];void 0!==n&&(void 0===i?"undefined":l(i))===(void 0===n?"undefined":l(n))&&(r.prefs[t]=i)}})}return c(e,[{key:"_writeToStorage",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.default.mark(function e(t){return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _writeToStorage");case 1:case"end":return t.stop()}},e,this)}));return e}()},{key:"_readFromStorage",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.default.mark(function e(t){return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _readFromStorage");case 1:case"end":return t.stop()}},e,this)}));return e}()},{key:"reset",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.default.mark(function e(){return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:return this.prefs=Object.assign(Object.create(null),this.defaults),t.abrupt("return",this._writeToStorage(this.defaults));case 4:case"end":return t.stop()}},e,this)}));return e}()},{key:"set",value:function(){function e(e,t){return n.apply(this,arguments)}var n=r(u.default.mark(function e(n,i){var r,a,o;return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:if(void 0===(r=this.defaults[n]))throw new Error('Set preference: "'+n+'" is undefined.');t.next=7;break;case 7:if(void 0===i)throw new Error("Set preference: no value is specified.");t.next=9;break;case 9:if(a=void 0===i?"undefined":l(i),o=void 0===r?"undefined":l(r),a===o){t.next=19;break}if("number"!==a||"string"!==o){t.next=16;break}i=i.toString(),t.next=17;break;case 16:throw new Error('Set preference: "'+i+'" is a '+a+", expected a "+o+".");case 17:t.next=21;break;case 19:if("number"!==a||Number.isInteger(i)){t.next=21;break}throw new Error('Set preference: "'+i+'" must be an integer.');case 21:return this.prefs[n]=i,t.abrupt("return",this._writeToStorage(this.prefs));case 23:case"end":return t.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.default.mark(function e(n){var i,r;return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:if(void 0===(i=this.defaults[n]))throw new Error('Get preference: "'+n+'" is undefined.');t.next=7;break;case 7:if(void 0!==(r=this.prefs[n]))return t.abrupt("return",r);t.next=10;break;case 10:return t.abrupt("return",i);case 11:case"end":return t.stop()}},e,this)}));return e}()},{key:"getAll",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.default.mark(function e(){return u.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:return t.abrupt("return",Object.assign(Object.create(null),this.defaults,this.prefs));case 3:case"end":return t.stop()}},e,this)}));return e}()}]),e}();t.BasePreferences=h},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=n(7),u=s.apiCompatibilityParams.disableCreateObjectURL||!1,i=function(){function i(e){var t=e.disableCreateObjectURL,n=void 0===t?u:t;r(this,i),this.disableCreateObjectURL=n}return o(i,[{key:"downloadUrl",value:function e(t,n){(0,s.createValidAbsoluteUrl)(t,"http://example.com")&&a(t+"#pdfjs.action=download",n)}},{key:"downloadData",value:function e(t,n,i){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([t],{type:i}),n);var r;a((0,s.createObjectURL)(t,i,this.disableCreateObjectURL),n)}},{key:"download",value:function e(t,n,i){var r;navigator.msSaveBlob?navigator.msSaveBlob(t,i)||this.downloadUrl(n,i):this.disableCreateObjectURL?this.downloadUrl(n,i):a(s.URL.createObjectURL(t),i)}}]),i}();t.DownloadManager=i},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){function o(e,t){try{var n=s[e](t),i=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(i).then(function(e){o("next",e)},function(e){o("throw",e)});r(i)}return o("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0;var o,s=i(n(2)),u=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();n(42);var l=document.webL10n,c=function(){function e(n){a(this,e),this._lang=n,this._ready=new Promise(function(e,t){l.setLanguage(n,function(){e(l)})})}return u(e,[{key:"getLanguage",value:function(){function e(){return t.apply(this,arguments)}var t=r(s.default.mark(function e(){var n;return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return n=t.sent,t.abrupt("return",n.getLanguage());case 4:case"end":return t.stop()}},e,this)}));return e}()},{key:"getDirection",value:function(){function e(){return t.apply(this,arguments)}var t=r(s.default.mark(function e(){var n;return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return n=t.sent,t.abrupt("return",n.getDirection());case 4:case"end":return t.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e,t,n){return i.apply(this,arguments)}var i=r(s.default.mark(function e(n,i,r){var a;return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return a=t.sent,t.abrupt("return",a.get(n,i,r));case 4:case"end":return t.stop()}},e,this)}));return e}()},{key:"translate",value:function(){function e(e){return t.apply(this,arguments)}var t=r(s.default.mark(function e(n){var i;return s.default.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return i=t.sent,t.abrupt("return",i.translate(n));case 4:case"end":return t.stop()}},e,this)}));return e}()}]),e}();t.GenericL10n=c},function(e,t,n){document.webL10n=function(n,l,e){function h(){return l.querySelectorAll('link[type="application/l10n"]')}function f(){var e=l.querySelector('script[type="application/l10n"]');return e?JSON.parse(e.innerHTML):null}function r(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}function c(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),i={};if(n)try{i=JSON.parse(n)}catch(e){console.warn("could not parse arguments for #"+t)}return{id:t,args:i}}function p(e){var t=l.createEvent("Event");t.initEvent("localized",!0,!1),t.language=e,l.dispatchEvent(t)}function i(e,t,n){t=t||function e(t){},n=n||function e(){};var i=new XMLHttpRequest;i.open("GET",e,L),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?t(i.responseText):n())},i.onerror=n,i.ontimeout=n;try{i.send(null)}catch(e){n()}}function v(e,m,a,t){function w(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function n(e,t){function n(e,n,i){function r(){for(;;){if(!a.length)return void i();var e=a.shift();if(!f.test(e)){if(n){if(l=p.exec(e)){o=l[1].toLowerCase(),u="*"!==o&&o!==m&&o!==s;continue}if(u)continue;if(l=v.exec(e))return void c(b+l[1],r)}var t=e.match(g);t&&3==t.length&&(d[t[1]]=w(t[2]))}}}var a=e.replace(h,"").split(/[\r\n]+/),o="*",s=m.split("-",1)[0],u=!1,l="";r()}function c(e,t){i(e,function(e){n(e,!1,t)},function(){console.warn(e+" not found."),t()})}var d={},h=/^\s*|\s*$/,f=/^\s*#|^\s*$/,p=/^\s*\[(.*)\]\s*$/,v=/^\s*@import\s+url\((.*)\)\s*$/i,g=/^([^=\s]*)\s*=\s*(.+)$/;n(e,!0,function(){t(d)})}var b=e.replace(/[^\/]*$/,"")||"./";i(e,function(e){_+=e,n(e,function(e){for(var t in e){var n,i,r=t.lastIndexOf(".");i=0<r?(n=t.substring(0,r),t.substring(r+1)):(n=t,P),y[n]||(y[n]={}),y[n][i]=e[t]}a&&a()})},t)}function a(t,n){function e(e){var n=e.href;this.load=function(e,t){v(n,e,t,function(){console.warn(n+" not found."),console.warn('"'+e+'" resource not found'),b="",t()})}}t&&(t=t.toLowerCase()),n=n||function e(){},g(),b=t;var i=h(),r=i.length;if(0===r){var a=f();if(a&&a.locales&&a.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(y=a.locales[t])){var o=a.default_locale.toLowerCase();for(var s in a.locales){if((s=s.toLowerCase())===t){y=a.locales[t];break}s===o&&(y=a.locales[o])}}n()}else console.log("no resource to load, early way out");return p(t),void(k="complete")}var u=null,l=0;u=function e(){r<=++l&&(n(),p(t),k="complete")};for(var c=0;c<r;c++){var d;new e(i[c]).load(t,u)}}function g(){y={},b=_=""}function o(e){function n(e,t){return-1!==t.indexOf(e)}function i(e,t,n){return t<=e&&e<=n}var t,r={0:function e(t){return"other"},1:function e(t){return i(t%100,3,10)?"few":0===t?"zero":i(t%100,11,99)?"many":2==t?"two":1==t?"one":"other"},2:function e(t){return 0!==t&&t%10==0?"many":2==t?"two":1==t?"one":"other"},3:function e(t){return 1==t?"one":"other"},4:function e(t){return i(t,0,1)?"one":"other"},5:function e(t){return i(t,0,2)&&2!=t?"one":"other"},6:function e(t){return 0===t?"zero":t%10==1&&t%100!=11?"one":"other"},7:function e(t){return 2==t?"two":1==t?"one":"other"},8:function e(t){return i(t,3,6)?"few":i(t,7,10)?"many":2==t?"two":1==t?"one":"other"},9:function e(t){return 0===t||1!=t&&i(t%100,1,19)?"few":1==t?"one":"other"},10:function e(t){return i(t%10,2,9)&&!i(t%100,11,19)?"few":t%10!=1||i(t%100,11,19)?"other":"one"},11:function e(t){return i(t%10,2,4)&&!i(t%100,12,14)?"few":t%10==0||i(t%10,5,9)||i(t%100,11,14)?"many":t%10==1&&t%100!=11?"one":"other"},12:function e(t){return i(t,2,4)?"few":1==t?"one":"other"},13:function e(t){return i(t%10,2,4)&&!i(t%100,12,14)?"few":1!=t&&i(t%10,0,1)||i(t%10,5,9)||i(t%100,12,14)?"many":1==t?"one":"other"},14:function e(t){return i(t%100,3,4)?"few":t%100==2?"two":t%100==1?"one":"other"},15:function e(t){return 0===t||i(t%100,2,10)?"few":i(t%100,11,19)?"many":1==t?"one":"other"},16:function e(t){return t%10==1&&11!=t?"one":"other"},17:function e(t){return 3==t?"few":0===t?"zero":6==t?"many":2==t?"two":1==t?"one":"other"},18:function e(t){return 0===t?"zero":i(t,0,2)&&0!==t&&2!=t?"one":"other"},19:function e(t){return i(t,2,10)?"few":i(t,0,1)?"one":"other"},20:function e(t){return!i(t%10,3,4)&&t%10!=9||i(t%100,10,19)||i(t%100,70,79)||i(t%100,90,99)?t%1e6==0&&0!==t?"many":t%10!=2||n(t%100,[12,72,92])?t%10!=1||n(t%100,[11,71,91])?"other":"one":"two":"few"},21:function e(t){return 0===t?"zero":1==t?"one":"other"},22:function e(t){return i(t,0,1)||i(t,11,99)?"one":"other"},23:function e(t){return i(t%10,1,2)||t%20==0?"one":"other"},24:function e(t){return i(t,3,10)||i(t,13,19)?"few":n(t,[2,12])?"two":n(t,[1,11])?"one":"other"}},a={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return a in r?r[a]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}function d(e,t,n){var i=y[e];if(!i){if(console.warn("#"+e+" is undefined."),!n)return null;i=n}var r={};for(var a in i){var o=i[a];o=u(o=s(o,t,e,a),t,e),r[a]=o}return r}function s(e,t,n,i){var r,a=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!a||!a.length)return e;var o=a[1],s=a[2],u,l;(t&&s in t?u=t[s]:s in y&&(u=y[s]),o in S)&&(e=(0,S[o])(e,u,n,i));return e}function u(e,n,i){var t=/\{\{\s*(.+?)\s*\}\}/g;return e.replace(t,function(e,t){return n&&t in n?n[t]:t in y?y[t]:(console.log("argument {{"+t+"}} for #"+i+" is undefined."),e)})}function m(e){var t=c(e);if(t.id){var n=d(t.id,t.args);if(n){if(n[P]){if(0===w(e))e[P]=n[P];else{for(var i=e.childNodes,r=!1,a=0,o=i.length;a<o;a++)3===i[a].nodeType&&/\S/.test(i[a].nodeValue)&&(r?i[a].nodeValue="":(i[a].nodeValue=n[P],r=!0));if(!r){var s=l.createTextNode(n[P]);e.insertBefore(s,e.firstChild)}}delete n[P]}for(var u in n)e[u]=n[u]}else console.warn("#"+t.id+" is undefined.")}}function w(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}function t(e){for(var t=r(e=e||l.documentElement),n=t.length,i=0;i<n;i++)m(t[i]);m(e)}var y={},_="",P="textContent",b="",S={},k="loading",L=!0;return S.plural=function(e,t,n,i){var r=parseFloat(t);if(isNaN(r))return e;if(i!=P)return e;S._pluralRules||(S._pluralRules=o(b));var a="["+S._pluralRules(r)+"]";return 0===r&&n+"[zero]"in y?e=y[n+"[zero]"][i]:1==r&&n+"[one]"in y?e=y[n+"[one]"][i]:2==r&&n+"[two]"in y?e=y[n+"[two]"][i]:n+a in y?e=y[n+a][i]:n+"[other]"in y&&(e=y[n+"[other]"][i]),e},{get:function e(t,n,i){var r=t.lastIndexOf("."),a=P,o;0<r&&(a=t.substring(r+1),t=t.substring(0,r)),i&&((o={})[a]=i);var s=d(t,n,o);return s&&a in s?s[a]:"{{"+t+"}}"},
getData:function e(){return y},getText:function e(){return _},getLanguage:function e(){return b},setLanguage:function e(t,n){a(t,function(){n&&n()})},getDirection:function e(){var t=["ar","he","fa","ps","ur"],n=b.split("-",1)[0];return 0<=t.indexOf(n)?"rtl":"ltr"},translate:t,getReadyState:function e(){return k},ready:function e(t){t&&("complete"==k||"interactive"==k?n.setTimeout(function(){t()}):l.addEventListener&&l.addEventListener("localized",function e(){l.removeEventListener("localized",e),t()}))}}}(window,document)},function(e,t,n){function o(e,t,n,i){var r=h.scratchCanvas,a=150,o=150/72;r.width=Math.floor(i.width*o),r.height=Math.floor(i.height*o);var s=Math.floor(i.width*c.CSS_UNITS)+"px",u=Math.floor(i.height*c.CSS_UNITS)+"px",l=r.getContext("2d");return l.save(),l.fillStyle="rgb(255, 255, 255)",l.fillRect(0,0,r.width,r.height),l.restore(),t.getPage(n).then(function(e){var t={canvasContext:l,transform:[o,0,0,o,0,0],viewport:e.getViewport(1,i.rotation),intent:"print"};return e.render(t).promise}).then(function(){return{width:s,height:u}})}function a(e,t,n,i){this.pdfDocument=e,this.pagesOverview=t,this.printContainer=n,this.l10n=i||c.NullL10n,this.disableCreateObjectURL=e.loadingParams.disableCreateObjectURL,this.currentPage=-1,this.scratchCanvas=document.createElement("canvas")}function i(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(e,!1,!1,"custom"),window.dispatchEvent(t)}function r(){h&&(h.destroy(),i("afterprint"))}function s(e,t,n){var i=document.getElementById("printServiceOverlay"),r=Math.round(100*e/t),a=i.querySelector("progress"),o=i.querySelector(".relative-progress");a.value=r,n.get("print_progress_percent",{progress:r},r+"%").then(function(e){o.textContent=e})}function u(){if(!m){if(!(f=l.PDFViewerApplication.overlayManager))throw new Error("The overlay manager has not yet been initialized.");m=f.register("printServiceOverlay",document.getElementById("printServiceOverlay"),r,!0),document.getElementById("printCancel").onclick=r}return m}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPrintService=void 0;var c=n(6),l=n(1),d=n(7),h=null,f=null;a.prototype={layout:function e(){this.throwIfInactive();var t=document.querySelector("body"),n;t.setAttribute("data-pdfjsprinting",!0),this.pagesOverview.every(function(e){return e.width===this.pagesOverview[0].width&&e.height===this.pagesOverview[0].height},this)||console.warn("Not all pages have the same size. The printed result may be incorrect!"),this.pageStyleSheet=document.createElement("style");var i=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { size: "+i.width+"pt "+i.height+"pt;}}",t.appendChild(this.pageStyleSheet)},destroy:function e(){h===this&&(this.printContainer.textContent="",this.pageStyleSheet&&(this.pageStyleSheet.remove(),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,this.scratchCanvas=null,h=null,u().then(function(){"printServiceOverlay"===f.active&&f.close("printServiceOverlay")}))},renderPages:function e(){var r=this,a=this.pagesOverview.length,t;return new Promise(function e(t,n){if(r.throwIfInactive(),++r.currentPage>=a)return s(a,a,r.l10n),void t();var i=r.currentPage;s(i,a,r.l10n),o(r,r.pdfDocument,i+1,r.pagesOverview[i]).then(r.useRenderedPage.bind(r)).then(function(){e(t,n)},n)})},useRenderedPage:function e(t){this.throwIfInactive();var n=document.createElement("img");n.style.width=t.width,n.style.height=t.height;var i=this.scratchCanvas;"toBlob"in i&&!this.disableCreateObjectURL?i.toBlob(function(e){n.src=d.URL.createObjectURL(e)}):n.src=i.toDataURL();var r=document.createElement("div");return r.appendChild(n),this.printContainer.appendChild(r),new Promise(function(e,t){n.onload=e,n.onerror=t})},performPrint:function e(){var t=this;return this.throwIfInactive(),new Promise(function(e){setTimeout(function(){t.active?(p.call(window),setTimeout(e,20)):e()},0)})},get active(){return this===h},throwIfInactive:function e(){if(!this.active)throw new Error("This print request was cancelled or completed.")}};var p=window.print;window.print=function e(){if(h)console.warn("Ignored window.print() because of a pending print job.");else{u().then(function(){h&&f.open("printServiceOverlay")});try{i("beforeprint")}finally{if(!h)return console.error("Expected print service to be initialized."),void u().then(function(){"printServiceOverlay"===f.active&&f.close("printServiceOverlay")});var t=h;h.renderPages().then(function(){return t.performPrint()}).catch(function(){}).then(function(){t.active&&r()})}}};var v=!!document.attachEvent;if(window.addEventListener("keydown",function(e){if(80===e.keyCode&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||window.chrome||window.opera)){if(window.print(),v)return;return e.preventDefault(),void(e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation())}},!0),v&&document.attachEvent("onkeydown",function(e){if(80===(e=e||window.event).keyCode&&e.ctrlKey)return e.keyCode=0,!1}),"onbeforeprint"in window){var g=function e(t){"custom"!==t.detail&&t.stopImmediatePropagation&&t.stopImmediatePropagation()};window.addEventListener("beforeprint",g),window.addEventListener("afterprint",g)}var m=void 0;l.PDFPrintServiceFactory.instance={supportsPrinting:!0,createPrintService:function e(t,n,i,r){if(h)throw new Error("The print service is created and active.");return h=new a(t,n,i,r)}},t.PDFPrintService=a}]);
//# sourceMappingURL=viewer-min.js.map